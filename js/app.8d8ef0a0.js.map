{"version":3,"file":"js/app.8d8ef0a0.js","mappings":"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","sources":["webpack://chatall/./src/bots/BardBot.js","webpack://chatall/./src/bots/Bot.js","webpack://chatall/./src/bots/CharacterAIBot.js","webpack://chatall/./src/bots/ChatGLMBot.js","webpack://chatall/./src/bots/ClaudeAIBot.js","webpack://chatall/./src/bots/LangChainBot.js","webpack://chatall/./src/bots/MOSSBot.js","webpack://chatall/./src/bots/OpenAssistantBot.js","webpack://chatall/./src/bots/PhindBot.js","webpack://chatall/./src/bots/PiBot.js","webpack://chatall/./src/bots/QianWenBot.js","webpack://chatall/./src/bots/Qihoo360AIBrainBot.js","webpack://chatall/./src/bots/SkyWorkBot.js","webpack://chatall/./src/bots/SparkBot.js","webpack://chatall/./src/bots/YouChatBot.js","webpack://chatall/./src/bots/baidu/WenxinQianfanBot.js","webpack://chatall/./src/bots/huggingface/Falcon180bBot.js","webpack://chatall/./src/bots/huggingface/GradioAppBot.js","webpack://chatall/./src/bots/huggingface/GradioBot.js","webpack://chatall/./src/bots/huggingface/HuggingChatBot.js","webpack://chatall/./src/bots/lmsys/LMSYSBot.js","webpack://chatall/./src/bots/microsoft/AzureOpenAIAPIBot.js","webpack://chatall/./src/bots/microsoft/BingChatBot.js","webpack://chatall/./src/bots/openai/ChatGPTBot.js","webpack://chatall/./src/bots/openai/OpenAIAPIBot.js","webpack://chatall/./src/bots/poe/PoeBot.js","webpack://chatall/./src/components/BotSettings/settings.const.js","webpack://chatall/./src/composables/matomo.js","webpack://chatall/./src/i18n/index.js","webpack://chatall/./src/main.js","webpack://chatall/./src/store/messagesPersist.js","webpack://chatall/./src/store/promptsPersist.js","webpack://chatall/./src/store/index.js","webpack://chatall/./src/theme.js","webpack://chatall/./src/components/ShortcutGuide/shortcut.const.js","webpack://chatall/./src/components/ConfirmModal.vue","webpack://chatall/./src/components/ConfirmModal.vue?51f7","webpack://chatall/./src/components/ChatDrawer/ChatDrawerItem.vue","webpack://chatall/./src/components/ChatDrawer/ChatDrawerItem.vue?cc88","webpack://chatall/./src/components/ChatDrawer/ChatDrawer.vue","webpack://chatall/./src/components/ChatDrawer/ChatDrawer.vue?cb9e","webpack://chatall/./src/components/Messages/ChatPrompt.vue","webpack://chatall/./src/components/Messages/ChatPrompt.vue?f257","webpack://chatall/./src/components/Messages/ChatThread.vue","webpack://chatall/./src/components/Messages/ChatThread.vue?3825","webpack://chatall/./src/bots/openai/ChatGPT35Bot.js","webpack://chatall/./src/bots/openai/ChatGPT4Bot.js","webpack://chatall/./src/bots/openai/ChatGPTBrowsingBot.js","webpack://chatall/./src/bots/microsoft/BingChatPreciseBot.js","webpack://chatall/./src/bots/microsoft/BingChatBalancedBot.js","webpack://chatall/./src/bots/microsoft/BingChatCreativeBot.js","webpack://chatall/./src/bots/poe/SageBot.js","webpack://chatall/./src/bots/openai/OpenAIAPI35Bot.js","webpack://chatall/./src/bots/openai/OpenAIAPI4Bot.js","webpack://chatall/./src/bots/lmsys/VicunaBot.js","webpack://chatall/./src/bots/lmsys/AlpacaBot.js","webpack://chatall/./src/bots/lmsys/ClaudeBot.js","webpack://chatall/./src/bots/DevBot.js","webpack://chatall/./src/bots/poe/ChatGPT35PoeBot.js","webpack://chatall/./src/bots/poe/ChatGPT4PoeBot.js","webpack://chatall/./src/bots/poe/ClaudeInstantPoeBot.js","webpack://chatall/./src/bots/poe/ClaudeInstant100kPoeBot.js","webpack://chatall/./src/bots/poe/ClaudePlusPoeBot.js","webpack://chatall/./src/bots/poe/ChatGPT432kPoeBot.js","webpack://chatall/./src/bots/openai/ChatGPT4MobileBot.js","webpack://chatall/./src/bots/openai/OpenAIAPI3516KBot.js","webpack://chatall/./src/bots/baidu/WenxinQianfanTurboBot.js","webpack://chatall/./src/bots/huggingface/Llama2HC70bBot.js","webpack://chatall/./src/bots/lmsys/Llama213bBot.js","webpack://chatall/./src/bots/lmsys/Llama27bBot.js","webpack://chatall/./src/bots/lmsys/Llama270bBot.js","webpack://chatall/./src/bots/lmsys/ChatGLM6bBot.js","webpack://chatall/./src/bots/lmsys/CodeLlamaBot.js","webpack://chatall/./src/bots/lmsys/Vicuna7bBot.js","webpack://chatall/./src/bots/lmsys/Vicuna13bBot.js","webpack://chatall/./src/bots/lmsys/Wizardlm13bBot.js","webpack://chatall/./src/bots/lmsys/Wizardlm70bBot.js","webpack://chatall/./src/bots/huggingface/FalconHC180bBot.js","webpack://chatall/./src/bots/huggingface/CodeLlamaHCBot.js","webpack://chatall/./src/bots/index.js","webpack://chatall/./src/components/Messages/ChatResponse.vue","webpack://chatall/./src/components/Messages/ChatResponse.vue?4b29","webpack://chatall/./src/components/Messages/ChatResponses.vue","webpack://chatall/./src/components/Messages/ChatResponses.vue?de82","webpack://chatall/./src/components/Messages/ChatMessages.vue","webpack://chatall/./src/components/Messages/ChatMessages.vue?49b9","webpack://chatall/./src/components/ProxySetting.vue","webpack://chatall/./src/components/ProxySetting.vue?2d75","webpack://chatall/./src/helpers/template-helper.js","webpack://chatall/./src/components/ChatSetting.vue","webpack://chatall/./src/components/ChatSetting.vue?3cfc","webpack://chatall/./src/components/SettingsModal.vue","webpack://chatall/./src/components/SettingsModal.vue?2f47","webpack://chatall/./src/components/MakeAvailableModal.vue","webpack://chatall/./src/components/MakeAvailableModal.vue?26f2","webpack://chatall/./src/components/Footer/BotLogo.vue","webpack://chatall/./src/components/Footer/BotLogo.vue?d6b4","webpack://chatall/./src/components/Footer/BotsMenu.vue","webpack://chatall/./src/components/Footer/BotsMenu.vue?038a","webpack://chatall/./src/prompts/index.js","webpack://chatall/./src/components/PromptModal.vue","webpack://chatall/./src/components/PromptModal.vue?7dc0","webpack://chatall/./src/components/Footer/FooterBar.vue","webpack://chatall/./src/components/Footer/FooterBar.vue?e085","webpack://chatall/./src/components/Notification/UpdateNotificationModal.vue","webpack://chatall/./src/components/Notification/UpdateNotificationModal.vue?7824","webpack://chatall/./src/components/FindModal.vue","webpack://chatall/./src/components/FindModal.vue?c264","webpack://chatall/./src/components/ShortcutGuide/ShortcutGuide.vue","webpack://chatall/./src/components/ShortcutGuide/ShortcutGuide.vue?7a2f","webpack://chatall/./src/components/ChatAction.vue","webpack://chatall/./src/components/ChatAction.vue?8a01","webpack://chatall/./src/App.vue","webpack://chatall/./src/App.vue?7ccd","webpack://chatall/./src/components/BotSettings/AzureOpenAIAPIBotSettings.vue","webpack://chatall/./src/components/BotSettings/AzureOpenAIAPIBotSettings.vue?5f90","webpack://chatall/./src/components/BotSettings/BardBotSettings.vue","webpack://chatall/./src/components/BotSettings/BardBotSettings.vue?8a12","webpack://chatall/./src/components/BotSettings/BingChatBotSettings.vue","webpack://chatall/./src/components/BotSettings/BingChatBotSettings.vue?a3de","webpack://chatall/./src/components/BotSettings/CharacterAIBotSettings.vue","webpack://chatall/./src/components/BotSettings/CharacterAIBotSettings.vue?6044","webpack://chatall/./src/components/BotSettings/ChatGLMBotSettings.vue","webpack://chatall/./src/components/BotSettings/ChatGLMBotSettings.vue?c779","webpack://chatall/./src/components/BotSettings/ChatGPTBotSettings.vue","webpack://chatall/./src/components/BotSettings/ChatGPTBotSettings.vue?5f7e","webpack://chatall/./src/components/BotSettings/ClaudeAIBotSettings.vue","webpack://chatall/./src/components/BotSettings/ClaudeAIBotSettings.vue?290e","webpack://chatall/./src/components/BotSettings/CommonBotSettings.vue","webpack://chatall/./src/components/BotSettings/CommonBotSettings.vue?a367","webpack://chatall/./src/components/BotSettings/Falcon180bBotSettings.vue","webpack://chatall/./src/components/BotSettings/Falcon180bBotSettings.vue?f1d7","webpack://chatall/./src/components/BotSettings/GradioAppBotSettings.vue","webpack://chatall/./src/components/BotSettings/GradioAppBotSettings.vue?bfe4","webpack://chatall/./src/components/BotSettings/HuggingChatBotSettings.vue","webpack://chatall/./src/components/BotSettings/HuggingChatBotSettings.vue?ff09","webpack://chatall/./src/components/BotSettings/LMSYSBotSettings.vue","webpack://chatall/./src/components/BotSettings/LMSYSBotSettings.vue?a74f","webpack://chatall/./src/components/BotSettings/LoginSetting.vue","webpack://chatall/./src/components/BotSettings/LoginSetting.vue?ab74","webpack://chatall/./src/components/BotSettings/MOSSBotSettings.vue","webpack://chatall/./src/components/BotSettings/MOSSBotSettings.vue?d478","webpack://chatall/./src/components/BotSettings/OpenAIAPIBotSettings.vue","webpack://chatall/./src/components/BotSettings/OpenAIAPIBotSettings.vue?9e2c","webpack://chatall/./src/components/BotSettings/OpenAssistantBotSettings.vue","webpack://chatall/./src/components/BotSettings/OpenAssistantBotSettings.vue?9e83","webpack://chatall/./src/components/BotSettings/PhindBotSettings.vue","webpack://chatall/./src/components/BotSettings/PhindBotSettings.vue?8114","webpack://chatall/./src/components/BotSettings/PiBotSettings.vue","webpack://chatall/./src/components/BotSettings/PiBotSettings.vue?454f","webpack://chatall/./src/components/BotSettings/PoeBotSettings.vue","webpack://chatall/./src/components/BotSettings/PoeBotSettings.vue?572c","webpack://chatall/./src/components/BotSettings/QianWenBotSettings.vue","webpack://chatall/./src/components/BotSettings/QianWenBotSettings.vue?3228","webpack://chatall/./src/components/BotSettings/Qihoo360AIBrainBotSettings.vue","webpack://chatall/./src/components/BotSettings/Qihoo360AIBrainBotSettings.vue?738d","webpack://chatall/./src/components/BotSettings/SkyWorkBotSettings.vue","webpack://chatall/./src/components/BotSettings/SkyWorkBotSettings.vue?d4b2","webpack://chatall/./src/components/BotSettings/SparkBotSettings.vue","webpack://chatall/./src/components/BotSettings/SparkBotSettings.vue?11fd","webpack://chatall/./src/components/BotSettings/WenxinQianfanBotSettings.vue","webpack://chatall/./src/components/BotSettings/WenxinQianfanBotSettings.vue?d814","webpack://chatall/./src/components/BotSettings/YouChatBotSettings.vue","webpack://chatall/./src/components/BotSettings/YouChatBotSettings.vue?9a8e","webpack://chatall/./src/assets/ sync ^\\.\\/column\\-.*\\.svg$","webpack://chatall/./src/components/BotSettings/ lazy ^\\.\\/.*$ namespace object","webpack://chatall/./src/components/BotSettings/ lazy ^\\.\\/.*\\.vue$ namespace object","webpack://chatall/webpack/bootstrap","webpack://chatall/webpack/runtime/async module","webpack://chatall/webpack/runtime/chunk loaded","webpack://chatall/webpack/runtime/compat get default export","webpack://chatall/webpack/runtime/define property getters","webpack://chatall/webpack/runtime/ensure chunk","webpack://chatall/webpack/runtime/get javascript chunk filename","webpack://chatall/webpack/runtime/get mini-css chunk filename","webpack://chatall/webpack/runtime/global","webpack://chatall/webpack/runtime/hasOwnProperty shorthand","webpack://chatall/webpack/runtime/load script","webpack://chatall/webpack/runtime/make namespace object","webpack://chatall/webpack/runtime/node module decorator","webpack://chatall/webpack/runtime/publicPath","webpack://chatall/webpack/runtime/jsonp chunk loading","webpack://chatall/webpack/startup"],"sourcesContent":["import axios from \"axios\";\nimport Bot from \"./Bot\";\nimport AsyncLock from \"async-lock\";\n\nfunction parseResponse(resp) {\n  let data = JSON.parse(resp.split(\"\\n\")[3]);\n  data = JSON.parse(data[0][2]);\n  if (!data) {\n    throw new Error(\"Failed to parse Bard response\");\n  }\n\n  const ids = [...data[1], data[4][0][0]];\n\n  let text = data[4][0][1][0];\n  const images = data[4][0][4];\n  if (images) {\n    images.forEach((image) => {\n      const url = image[0][0][0];\n      const alt = image[0][4];\n      const link = image[1][0][0];\n      const placeholder = image[2];\n      text = text.replace(\n        placeholder,\n        `[![${alt}](${url})](${link} \"${link}\")`,\n      );\n    });\n  }\n\n  return { text, ids };\n}\n\nexport default class BardBot extends Bot {\n  static _brandId = \"bard\";\n  static _className = \"BardBot\"; // Class name of the bot\n  static _logoFilename = \"bard-logo.svg\"; // Place it in public/bots/\n  static _loginUrl = \"https://bard.google.com/\";\n  // Remove Electron from the user agent to avoid blank login screen\n  static _userAgent =\n    \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) chatall/1.29.40 Chrome/114.0.5735.134 Safari/537.36\";\n  static _lock = new AsyncLock();\n\n  constructor() {\n    super();\n  }\n\n  async _checkAvailability() {\n    const context = await this.getChatContext();\n    let available = false;\n\n    if (context.requestParams.atValue) {\n      available = true;\n    }\n\n    return available;\n  }\n\n  async _sendPrompt(prompt, onUpdateResponse, callbackParam) {\n    const context = await this.getChatContext();\n    return new Promise((resolve, reject) => {\n      const { requestParams, contextIds } = context;\n\n      axios\n        .post(\n          \"https://bard.google.com/_/BardChatUi/data/assistant.lamda.BardFrontendService/StreamGenerate\",\n          new URLSearchParams({\n            at: requestParams.atValue,\n            \"f.req\": JSON.stringify([\n              null,\n              `[[${JSON.stringify(prompt)}],null,${JSON.stringify(\n                contextIds,\n              )}]`,\n            ]),\n          }),\n          {\n            params: {\n              bl: requestParams.blValue,\n              _reqid: Math.floor(Math.random() * 900000) + 100000,\n              rt: \"c\",\n            },\n          },\n        )\n        .then(({ data: resp }) => {\n          const { text, ids } = parseResponse(resp);\n          context.contextIds = ids;\n          onUpdateResponse(callbackParam, { content: text, done: true });\n          resolve();\n        })\n        .catch((error) => {\n          reject(error);\n        });\n    });\n  }\n\n  async createChatContext() {\n    const resp = await axios.get(\"https://bard.google.com/faq\");\n    const atValue = resp.data.match(/\"SNlM0e\":\"([^\"]+)\"/)?.[1];\n    const blValue = resp.data.match(/\"cfb2h\":\"([^\"]+)\"/)?.[1];\n    if (!atValue || !blValue) {\n      throw new Error(\"Failed to fetch Bard at/bl values\");\n    }\n\n    return {\n      requestParams: { atValue, blValue },\n      contextIds: [\"\", \"\", \"\"],\n    };\n  }\n}\n","import i18n from \"@/i18n\";\nimport store from \"@/store\";\n\nexport default class Bot {\n  static _logoPackedPaths = null;\n  static _isAvailable = false;\n\n  static _brandId = \"bot\"; // Brand id of the bot, should be unique. Used in i18n.\n  static _className = \"Bot\"; // Class name of the bot\n  static _model = \"\"; // Model of the bot (eg. \"text-davinci-002-render-sha\")\n  static _logoFilename = \"default-logo.svg\"; // Place it in public/bots/\n  static _isDarkLogo = false; // True if the main color of logo is dark\n  static _loginUrl = \"undefined\";\n  static _userAgent = \"\"; // Empty string means using the default user agent\n  static _lock = null; // AsyncLock for prompt requests. `new AsyncLock()` in the subclass as needed.\n  static _settingsComponent = \"\"; // Vue component filename for settings\n  static _outputFormat = \"markdown\"; // \"markdown\" or \"html\"\n\n  disabled = false; // True if the bot is permanently disabled\n\n  constructor() {}\n\n  static getInstance() {\n    return new this();\n  }\n\n  getLogo() {\n    return `bots/${this.constructor._logoFilename}`;\n  }\n\n  isDarkLogo() {\n    return this.constructor._isDarkLogo;\n  }\n\n  getBrandName() {\n    const c = this.constructor;\n    return i18n.global.t(`${c._brandId}.name`);\n  }\n\n  getModelName() {\n    const c = this.constructor;\n    const model = c._model.replace(/[^a-zA-Z0-9-_]/g, \"\");\n    return model ? i18n.global.t(`${c._brandId}.${model}`) : \"\";\n  }\n\n  getFullname() {\n    const prefix = this.isDisabled()\n      ? `(${i18n.global.t(\"bot.disabled\")}) `\n      : \"\";\n    if (this.getModelName())\n      return prefix + `${this.getModelName()}@${this.getBrandName()}`;\n    else return prefix + this.getBrandName();\n  }\n\n  getLoginUrl() {\n    return this.constructor._loginUrl;\n  }\n\n  getUserAgent() {\n    return this.constructor._userAgent;\n  }\n\n  getOutputFormat() {\n    return this.constructor._outputFormat;\n  }\n\n  getClassname() {\n    return this.constructor._className;\n  }\n\n  async getSettingsComponent() {\n    let component;\n\n    if (this.constructor._settingsComponent) {\n      component = await import(\n        `@/components/BotSettings/${this.constructor._settingsComponent}`\n      );\n    } else {\n      let currentClass = this.constructor;\n      let parentClass = Object.getPrototypeOf(currentClass);\n      while (parentClass && parentClass._className !== \"Bot\") {\n        currentClass = parentClass;\n        parentClass = Object.getPrototypeOf(currentClass);\n      }\n      const componentName = currentClass._className + \"Settings\";\n      component = await import(`@/components/BotSettings/${componentName}.vue`);\n    }\n\n    return component.default;\n  }\n\n  isAvailable() {\n    return this.constructor._isAvailable;\n  }\n\n  isDisabled() {\n    return this.disabled;\n  }\n\n  /**\n   * Subclass should implement this method if it needs to notice the user\n   * before using the bot.\n   * @param {object} confirmModal - ConfirmModal component\n   * @returns {boolean} true if user has confirmed to use the bot\n   */\n  // eslint-disable-next-line\n  async confirmBeforeUsing(confirmModal) {\n    return true;\n  }\n\n  /**\n   * Acquire a lock for the given key and call lockedFn() when the lock is acquired.\n   * If the lock is not available, call onLockUnavailable() and then try to acquire\n   * the lock again.\n   * @param {string} key\n   * @param {function} lockedFn\n   * @param {function} onLockUnavailable\n   */\n  async acquireLock(key, lockedFn, onLockUnavailable) {\n    const self = this;\n    return new Promise((resolve, reject) => {\n      (async () => {\n        await this.constructor._lock.acquire(\n          key,\n          async () => {\n            try {\n              const ret = await lockedFn();\n              resolve(ret);\n            } catch (err) {\n              reject(err);\n            }\n          },\n          async function (err, ret) {\n            if (err) {\n              // The lock is not available\n              onLockUnavailable();\n              try {\n                const ret = await self.constructor._lock.acquire(key, lockedFn); // Wait forever\n                resolve(ret);\n              } catch (err) {\n                reject(err);\n              }\n            } else {\n              resolve(ret);\n            }\n          },\n          { timeout: 1 }, // Wait for only 1ms. Don't use 0 here.\n        );\n      })();\n    });\n  }\n\n  /* eslint-disable no-unused-vars */\n  /**\n   * Subclass should implement this method, not sendPrompt().\n   * Send a prompt to the bot and call onResponse(response, callbackParam)\n   * when the response is ready.\n   * @param {string} prompt\n   * @param {function} onUpdateResponse params: callbackParam, Object {content, done}\n   * @param {object} callbackParam - Just pass it to onUpdateResponse() as is\n   */\n  async _sendPrompt(prompt, onUpdateResponse, callbackParam) {\n    throw new Error(i18n.global.t(\"bot.notImplemented\"));\n  }\n  /* eslint-enable no-unused-vars */\n\n  async sendPrompt(prompt, onUpdateResponse, callbackParam) {\n    // If not logged in, handle the error\n    if (!this.isAvailable()) {\n      onUpdateResponse(callbackParam, {\n        content: i18n.global.t(\"bot.notAvailable\", {\n          botName: this.getFullname(),\n        }),\n        done: true,\n      });\n      return;\n    }\n\n    const executeSendPrompt = async () => {\n      // Begin thinking...\n      onUpdateResponse(callbackParam, { content: \"...\", done: false });\n      await this._sendPrompt(prompt, onUpdateResponse, callbackParam);\n    };\n\n    try {\n      if (!this.constructor._lock) {\n        await executeSendPrompt();\n      } else {\n        await this.acquireLock(\"sendPrompt\", executeSendPrompt, () => {\n          onUpdateResponse(callbackParam, {\n            content: i18n.global.t(\"bot.waiting\", {\n              botName: this.getBrandName(),\n            }),\n            done: false,\n          });\n        });\n      }\n    } catch (err) {\n      console.error(`Error send prompt to ${this.getFullname()}:`, err);\n      let message;\n      if (err instanceof LoginError) {\n        message = `${err.message}\\n${i18n.global.t(\"error.requireLogin\", {\n          link: this.getLoginHyperlink(),\n        })}`;\n      } else {\n        message = err;\n      }\n      onUpdateResponse(callbackParam, {\n        content: this.wrapCollapsedSection(message),\n        done: true,\n      }); // Make sure stop loading\n    }\n  }\n\n  async checkAvailability() {\n    if (this.isDisabled()) return false;\n    this.constructor._isAvailable = await this._checkAvailability();\n    return this.isAvailable();\n  }\n\n  /**\n   * Subclass must implement this method.\n   * Check if the bot is logged in, settings are correct, etc.\n   * @returns {boolean} - true if the bot is available, false otherwise.\n   */\n  async _checkAvailability() {\n    return false;\n  }\n\n  disable() {\n    this.disabled = true;\n  }\n\n  /**\n   * Subclass should implement this method if the bot supports multi-chats.\n   * The conversation structure is defined by the subclass.\n   * @param null\n   * @returns {any} - Conversation structure. null if not supported.\n   */\n  async createChatContext() {\n    return null;\n  }\n\n  /**\n   * Get the context from the store. If not available, create a new one.\n   * @param {boolean} createIfNotExists - Create a new context if not exists\n   * @returns {object} - Chat context defined by the bot\n   */\n  async getChatContext(createIfNotExists = true) {\n    let context = store.getters.currentChat?.contexts?.[this.getClassname()];\n    if (!context && createIfNotExists) {\n      context = await this.createChatContext();\n      this.setChatContext(context);\n    }\n    return context;\n  }\n\n  /**\n   * @param {*} context\n   * @returns Nothing\n   */\n  setChatContext(context) {\n    store.commit(\"setChatContext\", {\n      botClassname: this.getClassname(),\n      context,\n    });\n  }\n\n  wrapCollapsedSection(text) {\n    // replace line break with <br/>\n    text = text?.toString()?.replace(/[\\r\\n]+/g, \"<br/>\");\n    return `<details open>\n              <summary>${i18n.global.t(\"error.error\")}</summary>\n              <pre class=\"error\">${text}</pre>\n            </details>`;\n  }\n\n  getSSEDisplayError(event) {\n    if (event?.source?.xhr?.getResponseHeader(\"cf-mitigated\") === \"challenge\") {\n      // if encounter Cloudflare challenge page, prompt user to open link and solve challenge\n      return `${i18n.global.t(\n        \"error.solveChallenge\",\n      )}\\n${this.getLoginHyperlink()}`;\n    }\n    return `${event?.source?.xhr?.status}\\n${event?.source?.xhr?.response}`;\n  }\n\n  getLoginHyperlink() {\n    const url = this.getLoginUrl();\n    return `<a href=\"${url}\" target=\"innerWindow\">${url}</a>`;\n  }\n}\n\nexport class LoginError extends Error {\n  constructor(message) {\n    super(message);\n    this.name = \"LoginError\";\n  }\n}\n","import Bot from \"@/bots/Bot\";\nimport store from \"@/store\";\nimport AsyncLock from \"async-lock\";\nimport axios from \"axios\";\n\nexport default class CharacterAIBot extends Bot {\n  static _brandId = \"characterAI\"; // Brand id of the bot, should be unique. Used in i18n.\n  static _className = \"CharacterAIBot\"; // Class name of the bot\n  static _logoFilename = \"character-ai-logo.svg\"; // Place it in public/bots/\n  static _isDarkLogo = true;\n  static _loginUrl = \"https://character.ai/\";\n  static _lock = new AsyncLock(); // AsyncLock for prompt requests\n\n  static _characterId = \"YntB_ZeqRq2l_aVf2gWDCZl4oBttQzDvhj9cXafWcF8\"; // Character Assistant id\n  constructor() {\n    super();\n  }\n\n  getAuthHeaders() {\n    return {\n      headers: {\n        Authorization: `Token ${store.state.characterAI.token}`,\n      },\n    };\n  }\n\n  /**\n   * Check whether the bot is logged in, settings are correct, etc.\n   * @returns {boolean} - true if the bot is available, false otherwise.\n   */\n  async _checkAvailability() {\n    let available = false;\n    try {\n      if (!store.state.characterAI.token) {\n        console.error(\"Error CharacterAIBot check login: token not found\");\n        return false;\n      }\n\n      if (new Date().getTime() >= store.state.characterAI?.ttl) {\n        console.error(\"Error CharacterAIBot check login: token expired\");\n        return false;\n      }\n\n      const userInfoResponse = await axios.get(\n        \"https://beta.character.ai/chat/user/\",\n        this.getAuthHeaders(),\n      );\n\n      if (userInfoResponse.status !== 200) {\n        console.error(\"Error CharacterAIBot check login:\", userInfoResponse);\n        return false;\n      }\n\n      if (userInfoResponse.data.user?.user?.username !== \"ANONYMOUS\") {\n        available = true;\n      }\n    } catch (error) {\n      console.error(\"Error CharacterAIBot check login:\", error);\n    }\n    return available;\n  }\n\n  /**\n   * Send a prompt to the bot and call onResponse(response, callbackParam)\n   * when the response is ready.\n   * @param {string} prompt\n   * @param {function} onUpdateResponse params: callbackParam, Object {content, done}\n   * @param {object} callbackParam - Just pass it to onUpdateResponse() as is\n   */\n  async _sendPrompt(prompt, onUpdateResponse, callbackParam) {\n    const context = await this.getChatContext();\n\n    return new Promise((resolve, reject) => {\n      try {\n        const headers = {\n          Accept: \"*/*\",\n          \"Content-Type\": \"application/json\",\n          ...this.getAuthHeaders().headers,\n        };\n        const payload = {\n          history_external_id: context.history_external_id,\n          character_external_id: this.constructor._characterId,\n          text: prompt,\n          tgt: context.tgt,\n        };\n        axios\n          .post(\"https://beta.character.ai/chat/streaming/\", payload, {\n            headers: headers,\n            onDownloadProgress: (progressEvent) => {\n              this.onResponseDownloadProgress(\n                progressEvent,\n                onUpdateResponse,\n                callbackParam,\n                reject,\n              );\n            },\n          })\n          .then((response) => {\n            if (response.status === 200) {\n              resolve();\n            } else {\n              reject(response);\n            }\n          })\n          .catch((error) => {\n            reject(error);\n          });\n      } catch (error) {\n        reject(error);\n      }\n    });\n  }\n\n  text = \"\";\n  onResponseDownloadProgress(\n    progressEvent,\n    onUpdateResponse,\n    callbackParam,\n    reject,\n  ) {\n    try {\n      const responses = progressEvent?.event?.currentTarget?.response\n        ?.split(\"\\n\") // split with new line\n        ?.filter((n) => n); //  filter empty string in array\n\n      // take last response item only\n      const lastResponse = JSON.parse(responses[responses.length - 1]);\n      if (Array.isArray(lastResponse.replies) && lastResponse.replies.length) {\n        this.text = lastResponse.replies[0].text;\n        onUpdateResponse(callbackParam, {\n          content: lastResponse.replies[0].text,\n          done: lastResponse.is_final_chunk,\n        });\n      } else {\n        // handle exception\n        // {\"abort\": true, \"error\": \"No eligible candidates\", \"last_user_msg_id\": 123, \"last_user_msg_uuid\": \"1111-uuid\"}\n        onUpdateResponse(callbackParam, {\n          content: `${this.text}\\n${this.wrapCollapsedSection(\n            JSON.stringify(lastResponse),\n          )}`,\n          done: true,\n        });\n      }\n    } catch (error) {\n      reject(error);\n      console.error(\"Error CharacterAIBot onChatDownloadProgress\", error);\n    }\n  }\n\n  /**\n   * Should implement this method if the bot supports conversation.\n   * The conversation structure is defined by the subclass.\n   * @param null\n   * @returns {any} - Conversation structure. null if not supported.\n   */\n  async createChatContext() {\n    let context = null;\n    let characterInfoResponse = await axios.post(\n      \"https://beta.character.ai/chat/character/info/\",\n      { external_id: this.constructor._characterId },\n      this.getAuthHeaders(),\n    );\n\n    if (characterInfoResponse.status !== 200) {\n      console.error(\n        \"CharacterAIBot characterInfoResponse\",\n        characterInfoResponse,\n      );\n      throw new Error(characterInfoResponse);\n    }\n\n    let chatContinueResponse;\n    try {\n      chatContinueResponse = await axios.post(\n        \"https://beta.character.ai/chat/history/continue/\",\n        {\n          character_external_id: this.constructor._characterId,\n          history_external_id: null,\n        },\n        this.getAuthHeaders(),\n      );\n    } catch (error) {\n      if (\n        error.response.status === 404 &&\n        error.response.data === \"there is no history between user and character\"\n      ) {\n        // no history, create\n        chatContinueResponse = await axios\n          .post(\n            \"https://beta.character.ai/chat/history/create/\",\n            {\n              character_external_id: this.constructor._characterId,\n            },\n            this.getAuthHeaders(),\n          )\n          .catch((error) => {\n            console.error(\"CharacterAIBot chatCreateResponse\", error);\n            throw Error(error);\n          });\n      } else {\n        console.error(\"CharacterAIBot chatContinueResponse\", error);\n        throw Error(error);\n      }\n    }\n\n    context = {\n      history_external_id: chatContinueResponse?.data?.external_id,\n      tgt: characterInfoResponse?.data?.character?.participant__user__username,\n    };\n\n    return context;\n  }\n}\n","import AsyncLock from \"async-lock\";\nimport Bot from \"@/bots/Bot\";\nimport axios from \"axios\";\nimport store from \"@/store\";\nimport { SSE } from \"sse.js\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nexport default class ChatGLMBot extends Bot {\n  static _brandId = \"chatGlm\"; // Brand id of the bot, should be unique. Used in i18n.\n  static _className = \"ChatGLMBot\"; // Class name of the bot\n  static _logoFilename = \"chatglm-logo.png\"; // Place it in public/bots/\n  static _loginUrl = \"https://chatglm.cn/detail\";\n  static _lock = new AsyncLock(); // AsyncLock for prompt requests\n\n  constructor() {\n    super();\n  }\n\n  getAuthHeader() {\n    return {\n      headers: {\n        Authorization: `Bearer ${store.state.chatGlm?.token}`,\n      },\n    };\n  }\n\n  /**\n   * Check whether the bot is logged in, settings are correct, etc.\n   * @returns {boolean} - true if the bot is available, false otherwise.\n   */\n  async _checkAvailability() {\n    let available = false;\n    let userInfoUrl = \"https://chatglm.cn/chatglm/backend-api/v3/user/info\";\n    const context = await this.getChatContext();\n    await axios\n      .get(userInfoUrl, this.getAuthHeader())\n      .then((response) => {\n        available = response.data?.message == \"success\";\n        this.setChatContext({\n          ...context,\n          user_id: response.data?.result._id,\n        });\n      })\n      .catch((error) => {\n        console.error(\"Error checking ChatGLM login status:\", error);\n      });\n\n    return available;\n  }\n\n  /**\n   * Send a prompt to the bot and call onResponse(response, callbackParam)\n   * when the response is ready.\n   * @param {string} prompt\n   * @param {function} onUpdateResponse params: callbackParam, Object {content, done}\n   * @param {object} callbackParam - Just pass it to onUpdateResponse() as is\n   */\n  async _sendPrompt(prompt, onUpdateResponse, callbackParam) {\n    let context = await this.getChatContext();\n    if (context.user_id == null || context.user_id == undefined) {\n      await this._checkAvailability();\n      context = await this.getChatContext();\n    }\n    const uuid = uuidv4();\n    const streamContext = await axios.post(\n      `https://chatglm.cn/chatglm/backend-api/v1/stream_context?__requestid=${uuid}`,\n      {\n        prompt: prompt,\n        seed: Math.floor(Math.random() * 100000),\n        max_tokens: 512,\n        conversation_task_id: context.conversation_task_id,\n        retry: false,\n        retry_history_task_id: null,\n        institution: \"\",\n        __userid: context.user_id,\n      },\n      this.getAuthHeader(),\n    );\n\n    if (streamContext.status !== 200) {\n      throw new Error(streamContext);\n    }\n\n    const context_id = streamContext.data.result.context_id;\n    return new Promise((resolve, reject) => {\n      try {\n        const source = new SSE(\n          `https://chatglm.cn/chatglm/backend-api/v1/stream?App-Name=chatglm&context_id=${context_id}&institution=`,\n          this.getAuthHeader(),\n        );\n        let text = \"\";\n        source.addEventListener(\"add\", (event) => {\n          try {\n            text = event.data;\n            onUpdateResponse(callbackParam, { content: text, done: false });\n          } catch {\n            console.error(\"Error ChatGLM JSON.parse message:\", event.data);\n            return;\n          }\n        });\n        source.addEventListener(\"finish\", () => {\n          // after stream closed, done\n          onUpdateResponse(callbackParam, {\n            content: text,\n            done: true,\n          });\n          resolve();\n        });\n        source.addEventListener(\"sse_error\", (event) => {\n          console.error(event);\n          reject(this.getSSEDisplayError(event));\n        });\n        source.stream();\n      } catch (err) {\n        reject(err);\n      }\n    });\n  }\n\n  /**\n   * Should implement this method if the bot supports conversation.\n   * The conversation structure is defined by the subclass.\n   * @param null\n   * @returns {any} - Conversation structure. null if not supported.\n   */\n  async createChatContext() {\n    let context = null;\n    await axios\n      .post(\n        `https://chatglm.cn/chatglm/backend-api/v1/conversation`,\n        {},\n        this.getAuthHeader(),\n      )\n      .then((response) => {\n        context = {\n          conversation_task_id: response.data?.result.task_id,\n        };\n      })\n      .catch((error) => {\n        console.error(\"Error ChatGLM createChatContext \", error);\n      });\n    return context;\n  }\n}\n","import Bot from \"@/bots/Bot\";\nimport store from \"@/store\";\nimport AsyncLock from \"async-lock\";\nimport axios from \"axios\";\nimport { SSE } from \"sse.js\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nexport default class ClaudeAIBot extends Bot {\n  static _brandId = \"claudeAi\"; // Brand id of the bot, should be unique. Used in i18n.\n  static _className = \"ClaudeAIBot\"; // Class name of the bot\n  static _logoFilename = \"claude-ai-logo.svg\"; // Place it in public/bots/\n  static _isDarkLogo = true; // The main color of logo is dark\n  static _loginUrl = \"https://claude.ai/\";\n  static _lock = new AsyncLock(); // AsyncLock for prompt requests\n\n  constructor() {\n    super();\n  }\n\n  /**\n   * Check whether the bot is logged in, settings are correct, etc.\n   * @returns {boolean} - true if the bot is available, false otherwise.\n   */\n  async _checkAvailability() {\n    let available = false;\n\n    if (store.state.claudeAi.org) {\n      const currentAcountResponse = await axios.get(\n        \"https://claude.ai/api/auth/current_account\",\n      );\n\n      if (currentAcountResponse.data.success) {\n        available = true;\n      }\n    }\n\n    return available;\n  }\n\n  /**\n   * Send a prompt to the bot and call onResponse(response, callbackParam)\n   * when the response is ready.\n   * @param {string} prompt\n   * @param {function} onUpdateResponse params: callbackParam, Object {content, done}\n   * @param {object} callbackParam - Just pass it to onUpdateResponse() as is\n   */\n  async _sendPrompt(prompt, onUpdateResponse, callbackParam) {\n    const context = await this.getChatContext();\n    const headers = {\n      accept: \"text/event-stream, text/event-stream\",\n      \"Content-Type\": \"application/json\",\n    };\n    const payload = JSON.stringify({\n      attachments: [],\n      completion: {\n        incremental: true,\n        model: \"claude-2\",\n        prompt: prompt,\n      },\n      conversation_uuid: context.uuid,\n      organization_uuid: store.state.claudeAi.org,\n      text: prompt,\n    });\n    return new Promise((resolve, reject) => {\n      try {\n        const source = new SSE(\"https://claude.ai/api/append_message\", {\n          headers,\n          payload,\n          withCredentials: true,\n        });\n        let text = \"\";\n        source.addEventListener(\"message\", (event) => {\n          try {\n            const data = JSON.parse(event.data);\n            if (data.completion) {\n              text += data.completion;\n              onUpdateResponse(callbackParam, {\n                content: text,\n                done: false,\n              });\n            }\n          } catch (error) {\n            console.error(event);\n            reject(this.getSSEDisplayError(event));\n          }\n        });\n        source.addEventListener(\"readystatechange\", (event) => {\n          if (event.readyState === source.CLOSED) {\n            // after stream closed, done\n            onUpdateResponse(callbackParam, {\n              content: text,\n              done: true,\n            });\n            resolve();\n          }\n        });\n        source.addEventListener(\"error\", (event) => {\n          console.error(event);\n          reject(this.getSSEDisplayError(event));\n        });\n        source.stream();\n      } catch (err) {\n        reject(err);\n        console.error(\"Error ClaudeAI _sendPrompt\", err);\n      }\n    });\n  }\n\n  /**\n   * Should implement this method if the bot supports conversation.\n   * The conversation structure is defined by the subclass.\n   * @param null\n   * @returns {any} - Conversation structure. null if not supported.\n   */\n  async createChatContext() {\n    let context = null;\n    const uuid = uuidv4();\n    try {\n      const createResponse = await axios.post(\n        `https://claude.ai/api/organizations/${store.state.claudeAi.org}/chat_conversations`,\n        { name: \"\", uuid: uuid },\n      );\n\n      if (createResponse.status === 201) {\n        context = {\n          uuid,\n        };\n      } else {\n        console.error(\n          \"Error ClaudeAI createChatContext status\",\n          createResponse,\n        );\n      }\n    } catch (error) {\n      console.error(\"Error ClaudeAI createChatContext\", error);\n    }\n    return context;\n  }\n}\n","import Bot from \"@/bots/Bot\";\nimport { BufferMemory } from \"langchain/memory\";\n\nexport default class LangChainBot extends Bot {\n  static _brandId = \"langChainBot\";\n  static _chatModel = undefined; // ChatModel instance\n\n  constructor() {\n    super();\n  }\n\n  async _sendPrompt(prompt, onUpdateResponse, callbackParam) {\n    let messages = await this.getChatContext();\n    let bufferMemory = new BufferMemory();\n\n    // Remove old messages if exceeding the pastRounds limit\n    while (messages.length > this.getPastRounds() * 2) {\n      messages.shift();\n    }\n\n    // Deserialize the messages and convert them to the correct format\n    messages.forEach((item) => {\n      let storedMessage = JSON.parse(item); // Deserialize\n      if (\n        storedMessage.type.toLowerCase() ===\n        bufferMemory.humanPrefix.toLowerCase()\n      ) {\n        bufferMemory.chatHistory.addUserMessage(storedMessage.data);\n      } else if (\n        storedMessage.type.toLowerCase() === bufferMemory.aiPrefix.toLowerCase()\n      ) {\n        bufferMemory.chatHistory.addAIChatMessage(storedMessage.data);\n      } else if (storedMessage.type === \"system\") {\n        bufferMemory.chatHistory.addMessage(storedMessage.data);\n      }\n    });\n\n    // Add the prompt to the messages\n    await bufferMemory.chatHistory.addUserMessage(prompt);\n\n    let res = \"\";\n    const model = this.constructor._chatModel;\n    messages = await bufferMemory.chatHistory.getMessages();\n    const callbacks = [\n      {\n        handleLLMNewToken(token) {\n          res += token;\n          onUpdateResponse(callbackParam, { content: res, done: false });\n        },\n        handleLLMEnd() {\n          onUpdateResponse(callbackParam, { done: true });\n        },\n      },\n    ];\n    model.callbacks = callbacks;\n    await model.call(messages);\n    await bufferMemory.chatHistory.addAIChatMessage(res);\n    // Serialize the messages before storing\n    messages = messages.map((item) => JSON.stringify(item.toDict()));\n    this.setChatContext(messages);\n  }\n\n  async createChatContext() {\n    return [];\n  }\n\n  getPastRounds() {\n    throw new Error(\n      \"Abstract property 'pastRounds' must be implemented in the subclass.\",\n    );\n  }\n}\n","import WebSocketAsPromised from \"websocket-as-promised\";\nimport axios from \"axios\";\nimport AsyncLock from \"async-lock\";\n\nimport Bot from \"./Bot\";\nimport store from \"@/store\";\nimport i18n from \"@/i18n\";\n\nexport default class MOSSBot extends Bot {\n  static _brandId = \"moss\";\n  static _className = \"MOSSBot\";\n  static _logoFilename = \"moss-logo.png\"; // Place it in public/bots/\n  static _loginUrl = \"https://moss.fastnlp.top/moss/\";\n  static _lock = new AsyncLock();\n\n  constructor() {\n    super();\n  }\n\n  getAuthHeader() {\n    const token = store.state.moss?.token?.refresh;\n    return {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    };\n  }\n\n  async createChatContext() {\n    try {\n      const res = await axios.post(\n        \"https://moss.fastnlp.top/api/chats\",\n        {},\n        this.getAuthHeader(),\n      );\n      return res.data.id;\n    } catch (err) {\n      console.error(\"Error creating conversation:\", err);\n      throw new Error(\n        i18n.global.t(\"bot.failedToCreateConversation\") + \"\\n\" + err.message,\n      );\n    }\n  }\n\n  async _checkAvailability() {\n    const token = store.state.moss?.token?.refresh;\n    let available = false;\n\n    if (token) {\n      await axios\n        .get(\"https://moss.fastnlp.top/api/users/me\", this.getAuthHeader())\n        .then(() => {\n          available = true;\n        });\n    }\n\n    return available;\n  }\n\n  async _sendPrompt(prompt, onUpdateResponse, callbackParam) {\n    const chat_id = await this.getChatContext();\n    return new Promise((resolve, reject) => {\n      (async () => {\n        try {\n          if (chat_id === 0) {\n            reject(new Error(i18n.global.t(\"bot.failedToCreateConversation\")));\n          }\n\n          const url = `wss://moss.fastnlp.top/api/ws/chats/${chat_id}/records?jwt=${\n            this.getAuthHeader().headers.Authorization.split(\" \")[1]\n          }`;\n\n          const wsp = new WebSocketAsPromised(url, {\n            packMessage: (data) => {\n              return JSON.stringify(data);\n            },\n            unpackMessage: (data) => {\n              return JSON.parse(data);\n            },\n          });\n\n          wsp.onOpen.addListener(() => {\n            wsp.sendPacked({ request: prompt });\n          });\n\n          let beginning = \"\";\n          let body = \"\";\n          let ending = \"\";\n          wsp.onUnpackedMessage.addListener(async (event) => {\n            if (!(\"status\" in event)) {\n              // The last message. Parse links first\n              const links = event.processed_extra_data?.[0]?.data;\n              for (const key in links) {\n                if (Object.hasOwnProperty.call(links, key)) {\n                  const link = links[key];\n                  ending += `> ${key}. [${link.title}](${link.url})\\n`;\n                }\n              }\n\n              onUpdateResponse(callbackParam, {\n                content: `${beginning}\\n${body}\\n${ending}`,\n                done: true,\n              });\n              wsp.removeAllListeners();\n              wsp.close();\n              resolve();\n              return;\n            } else if (event.status === 1) {\n              body = event.output;\n            } else if (event.status === 3) {\n              if (event.stage === \"start\") {\n                beginning += `> ${event.type} ${event.output}\\n`;\n              }\n            } else if (event.status === -1) {\n              wsp.removeAllListeners();\n              wsp.close();\n              reject(new Error(`${event.status_code} ${event.output}`));\n              return;\n            }\n            onUpdateResponse(callbackParam, {\n              content: `${beginning}\\n${body}\\n${ending}`,\n              done: false,\n            });\n          });\n\n          wsp.onError.addListener((event) => {\n            wsp.removeAllListeners();\n            wsp.close();\n            reject(\n              i18n.global.t(\"error.failedConnectUrl\", {\n                url: event.target.url,\n              }),\n            );\n          });\n\n          wsp.open();\n        } catch (err) {\n          reject(err);\n        }\n      })();\n    });\n  }\n}\n","import Bot from \"@/bots/Bot\";\nimport i18n from \"@/i18n\";\nimport AsyncLock from \"async-lock\";\nimport axios from \"axios\";\nimport queryString from \"query-string\";\nimport { SSE } from \"sse.js\";\n\nexport default class OpenAssistantBot extends Bot {\n  static _brandId = \"openAssistant\"; // Brand id of the bot, should be unique. Used in i18n.\n  static _className = \"OpenAssistantBot\"; // Class name of the bot\n  static _logoFilename = \"open-assistant.svg\"; // Place it in public/bots/\n  static _loginUrl = \"https://open-assistant.io/auth/signin/\";\n  static _lock = new AsyncLock(); // AsyncLock for prompt requests\n\n  constructor() {\n    super();\n  }\n\n  /**\n   * Check whether the bot is logged in, settings are correct, etc.\n   * @returns {boolean} - true if the bot is available, false otherwise.\n   */\n  async _checkAvailability() {\n    let available = false;\n    await axios\n      .get(\"https://open-assistant.io/api/auth/session\")\n      .then((response) => {\n        if (response.data) {\n          // eslint-disable-next-line\n          for (var i in response.data) {\n            // if data object not empty, user logged in\n            available = true;\n            break;\n          }\n        }\n      })\n      .catch((error) => {\n        console.error(\"Error OpenAssistantBot check login:\", error);\n      });\n    return available;\n  }\n\n  /**\n   * Send a prompt to the bot and call onResponse(response, callbackParam)\n   * when the response is ready.\n   * @param {string} prompt\n   * @param {function} onUpdateResponse params: callbackParam, Object {content, done}\n   * @param {object} callbackParam - Just pass it to onUpdateResponse() as is\n   */\n  // eslint-disable-next-line\n  async _sendPrompt(prompt, onUpdateResponse, callbackParam) {\n    const context = await this.getChatContext();\n\n    const prompterResponse = await axios.post(\n      \"https://open-assistant.io/api/chat/prompter_message\",\n      { chat_id: context.id, content: prompt, parent_id: context.parent_id },\n    );\n\n    if (prompterResponse.status !== 200) {\n      throw new Error(prompterResponse);\n    }\n\n    const assistantResponse = await axios.post(\n      \"https://open-assistant.io/api/chat/assistant_message\",\n      {\n        chat_id: context.id,\n        model_config_name: \"OA_SFT_Llama_30B_6\",\n        content: prompt,\n        parent_id: prompterResponse.data.id,\n        plugins: [],\n        sampling_parameters: {\n          top_k: 50,\n          top_p: 0.95,\n          typical_p: null,\n          temperature: 0.75,\n          repetition_penalty: 1.2,\n          max_new_tokens: 1024,\n        },\n      },\n    );\n\n    if (assistantResponse.status !== 200) {\n      throw new Error(prompterResponse);\n    }\n\n    this.setChatContext({\n      ...context,\n      parent_id: assistantResponse.data.id, // save assistant response id for next prompt parent_id\n    });\n\n    const headers = {\n      accept: \"*/*\",\n    };\n    const payload = {\n      chat_id: context.id,\n      message_id: assistantResponse.data.id,\n    };\n    return new Promise((resolve, reject) => {\n      try {\n        const source = new SSE(\n          `https://open-assistant.io/api/chat/events?${queryString.stringify(\n            payload,\n          )}`,\n          {\n            headers,\n            withCredentials: true,\n          },\n        );\n        let text = \"\";\n        source.addEventListener(\"message\", (event) => {\n          let data;\n          try {\n            // handle event data: \": ping - 2023-07-14 13:28:17.735145\"\n            data = JSON.parse(event.data);\n          } catch {\n            console.error(\n              \"Error OpenAssistantBot JSON.parse message:\",\n              event.data,\n            );\n            return;\n          }\n          switch (data.event_type) {\n            case \"pending\":\n              onUpdateResponse(callbackParam, {\n                content: i18n.global.t(\"openAssistant.queue\", {\n                  ...data,\n                }),\n                done: false,\n              });\n              break;\n            case \"token\":\n              text += data.text;\n              onUpdateResponse(callbackParam, {\n                content: text,\n                done: false,\n              });\n              break;\n            case \"message\":\n              onUpdateResponse(callbackParam, {\n                content: data.message.content, // full message\n                done: true,\n              });\n              resolve();\n              break;\n            case \"error\":\n              onUpdateResponse(callbackParam, {\n                content: `${text}\\n${this.wrapCollapsedSection(event.data)}`,\n                done: true,\n              });\n              resolve();\n              break;\n            default:\n              break;\n          }\n        });\n        source.addEventListener(\"readystatechange\", (event) => {\n          if (event.readyState === source.CLOSED) {\n            // after stream closed, done\n            onUpdateResponse(callbackParam, {\n              content: text,\n              done: true,\n            });\n            resolve();\n          }\n        });\n        source.addEventListener(\"error\", (event) => {\n          console.error(event);\n          reject(this.getSSEDisplayError(event));\n        });\n        source.stream();\n      } catch (err) {\n        reject(err);\n      }\n    });\n  }\n\n  /**\n   * Should implement this method if the bot supports conversation.\n   * The conversation structure is defined by the subclass.\n   * @param null\n   * @returns {any} - Conversation structure. null if not supported.\n   */\n  async createChatContext() {\n    let context = null;\n    try {\n      await axios\n        .post(\"https://open-assistant.io/api/chat\")\n        .then((response) => {\n          if (response.status === 200) {\n            context = {\n              ...response.data,\n            };\n          }\n        });\n    } catch (error) {\n      console.error(\"Error OpenAssistantBot createChatContext:\", error);\n    }\n    return context;\n  }\n}\n","import Bot from \"@/bots/Bot\";\nimport store from \"@/store\";\nimport AsyncLock from \"async-lock\";\nimport axios from \"axios\";\nimport { SSE } from \"sse.js\";\nconst { ipcRenderer } = window.require(\"electron\");\n\nexport default class PhindBot extends Bot {\n  static _brandId = \"phind\"; // Brand id of the bot, should be unique. Used in i18n.\n  static _className = \"PhindBot\"; // Class name of the bot\n  static _logoFilename = \"phind-logo.svg\"; // Place it in public/bots/\n  static _isDarkLogo = true; // The main color of logo is dark\n  static _loginUrl = \"https://www.phind.com\";\n  static _lock = new AsyncLock(); // AsyncLock for prompt requests\n\n  constructor() {\n    super();\n  }\n\n  /**\n   * Check whether the bot is logged in, settings are correct, etc.\n   * @returns {boolean} - true if the bot is available, false otherwise.\n   */\n  async _checkAvailability() {\n    return true;\n  }\n\n  /**\n   * Send a prompt to the bot and call onResponse(response, callbackParam)\n   * when the response is ready.\n   * @param {string} prompt\n   * @param {function} onUpdateResponse params: callbackParam, Object {content, done}\n   * @param {object} callbackParam - Just pass it to onUpdateResponse() as is\n   */\n  async _sendPrompt(prompt, onUpdateResponse, callbackParam) {\n    try {\n      const context = await this.getChatContext();\n      const rewrite = await axios.post(\n        \"https://www.phind.com/api/infer/followup/rewrite\",\n        {\n          questionToRewrite: prompt,\n          questionHistory: context.questionHistory,\n          answerHistory: context.answerHistory,\n        },\n      );\n      const search = await axios.post(\"https://www.phind.com/api/web/search\", {\n        q: rewrite.data.query,\n        browserLanguage: \"en-GB\",\n        userSearchRules: {},\n      });\n\n      const date = new Date();\n      const formatDate = this.getFormattedDate(date);\n      const payload = JSON.stringify({\n        questionHistory: context.questionHistory,\n        answerHistory: context.answerHistory,\n        question: prompt,\n        webResults: search.data,\n        options: {\n          date: formatDate,\n          language: \"en-GB\",\n          detailed: true,\n          anonUserId: await this.getUUID(),\n          answerModel: store.state.phind.model,\n          customLinks: [],\n        },\n        context: \"\",\n      });\n\n      return new Promise((resolve, reject) => {\n        try {\n          const source = new SSE(\"https://www.phind.com/api/infer/answer\", {\n            start: false,\n            payload,\n          });\n          let text = \"\";\n          let isSuccess = false;\n          source.addEventListener(\"message\", (event) => {\n            if (event.data) {\n              if (event.data.startsWith(\"<PHIND_METADATA>\")) {\n                isSuccess = true;\n              } else {\n                text += event.data;\n                onUpdateResponse(callbackParam, {\n                  content: text,\n                  done: false,\n                });\n              }\n            }\n          });\n\n          source.addEventListener(\"readystatechange\", (event) => {\n            if (event.readyState === source.CLOSED) {\n              // after stream closed, done\n              if (isSuccess) {\n                // save answerHistory and questionHistory to context\n                this.setChatContext({\n                  answerHistory: [...context.answerHistory, text],\n                  questionHistory: [...context.questionHistory, prompt],\n                });\n\n                // replace link with hostname\n                if (search.data && search.data.length) {\n                  for (let i = 0; i < search.data.length; i++) {\n                    const hostname = new URL(search.data[i].url).hostname;\n                    text = text.replaceAll(`[Source${i}]`, `[${hostname}]`);\n                    text = text.replaceAll(\n                      `[^${i}^]`,\n                      ` [${hostname}](${search.data[i].url})`,\n                    );\n                    text = text.replaceAll(\n                      `^${i}^`,\n                      ` [${hostname}](${search.data[i].url})`,\n                    );\n                  }\n                }\n              }\n              onUpdateResponse(callbackParam, {\n                content: text,\n                done: true,\n              });\n              resolve();\n            }\n          });\n          source.addEventListener(\"error\", (event) => {\n            console.error(event);\n            reject(this.getSSEDisplayError(event));\n          });\n\n          // override default _onStreamProgress to fix missing new line in response due to trimming\n          source._onStreamProgress = function (e) {\n            if (!source.xhr) {\n              return;\n            }\n\n            if (source.xhr.status !== 200) {\n              source._onStreamFailure(e);\n              return;\n            }\n\n            if (source.readyState == source.CONNECTING) {\n              source.dispatchEvent(new CustomEvent(\"open\"));\n              source._setReadyState(source.OPEN);\n            }\n\n            var data = source.xhr.responseText.substring(source.progress);\n\n            source.progress += data.length;\n            var parts = (source.chunk + data).split(/\\r\\n\\r\\n/);\n            var lastPart = parts.pop();\n            for (let part of parts) {\n              // skip if data is empty\n              if (part === \"data: \") {\n                continue;\n              }\n\n              // newline\n              if (part === \"data: \\r\\ndata: \") {\n                let event = new CustomEvent(\"message\");\n                event.data = \"\\n\";\n                source.dispatchEvent(event);\n                continue;\n              }\n\n              const event = source._parseEventChunk(part);\n              source.dispatchEvent(event);\n            }\n            source.chunk = lastPart;\n          };\n          source.stream();\n        } catch (err) {\n          reject(err);\n        }\n      });\n    } catch (error) {\n      if (error.request.status === 403) {\n        throw new Error(\n          `${error.request.status} ${error.request.responseText}`,\n        );\n      } else {\n        console.error(\"Error PhindBot _sendPrompt:\", error);\n        throw error;\n      }\n    }\n  }\n\n  /**\n   * Should implement this method if the bot supports conversation.\n   * The conversation structure is defined by the subclass.\n   * @param null\n   * @returns {any} - Conversation structure. null if not supported.\n   */\n  async createChatContext() {\n    return { answerHistory: [], questionHistory: [] };\n  }\n\n  getFormattedDate(date) {\n    let year = date.getFullYear();\n    let month = (1 + date.getMonth()).toString().padStart(2, \"0\");\n    let day = date.getDate().toString().padStart(2, \"0\");\n    return month + \"/\" + day + \"/\" + year;\n  }\n\n  async getUUID() {\n    const cookies = await ipcRenderer.invoke(\"get-cookies\", {\n      domain: \"www.phind.com\",\n    });\n    const uuidCookie = cookies.find((cookie) => cookie.name === \"uuid\");\n    return uuidCookie ? uuidCookie.value : \"\";\n  }\n}\n","import Bot from \"@/bots/Bot\";\nimport i18n from \"@/i18n\";\nimport AsyncLock from \"async-lock\";\nimport { SSE } from \"sse.js\";\n\nexport default class PiBot extends Bot {\n  static _brandId = \"pi\"; // Brand id of the bot, should be unique. Used in i18n.\n  static _className = \"PiBot\"; // Class name of the bot\n  static _logoFilename = \"pi-logo.svg\"; // Place it in public/bots/\n  static _loginUrl = \"https://pi.ai/\";\n  static _lock = new AsyncLock(); // AsyncLock for prompt requests\n\n  constructor() {\n    super();\n  }\n\n  /**\n   * Check whether the bot is logged in, settings are correct, etc.\n   * @returns {boolean} - true if the bot is available, false otherwise.\n   */\n  async _checkAvailability() {\n    return true;\n  }\n\n  /**\n   * Send a prompt to the bot and call onResponse(response, callbackParam)\n   * when the response is ready.\n   * @param {string} prompt\n   * @param {function} onUpdateResponse params: callbackParam, Object {content, done}\n   * @param {object} callbackParam - Just pass it to onUpdateResponse() as is\n   */\n  // eslint-disable-next-line\n  async _sendPrompt(prompt, onUpdateResponse, callbackParam) {\n    const headers = {\n      accept: \"text/event-stream\",\n      \"Content-Type\": \"application/json\",\n      \"X-Api-Version\": 3,\n    };\n    const payload = JSON.stringify({\n      text: prompt,\n    });\n    return new Promise((resolve, reject) => {\n      try {\n        const source = new SSE(\"https://pi.ai/api/chat\", {\n          headers,\n          payload,\n          withCredentials: true,\n        });\n        let text = \"\";\n        source.addEventListener(\"partial\", (event) => {\n          const data = JSON.parse(event.data);\n          if (data.text) {\n            text += data.text;\n            onUpdateResponse(callbackParam, {\n              content: text,\n              done: false,\n            });\n          }\n        });\n        source.addEventListener(\"readystatechange\", (event) => {\n          if (event.readyState === source.CLOSED) {\n            // after stream closed, done\n            onUpdateResponse(callbackParam, {\n              content: text,\n              done: true,\n            });\n            resolve();\n          }\n        });\n        source.addEventListener(\"error\", (event) => {\n          console.error(event);\n          if (event?.source?.xhr?.status === 401) {\n            reject(\n              new Error(\n                `${i18n.global.t(\"pi.waitPiIntro\")}<br/><a href=\"${\n                  this.constructor._loginUrl\n                }\" target=\"innerWindow\">${this.constructor._loginUrl}</a>`,\n              ),\n            );\n          } else {\n            reject(this.getSSEDisplayError(event));\n          }\n        });\n        source.stream();\n      } catch (err) {\n        reject(err);\n      }\n    });\n  }\n\n  /**\n   * Should implement this method if the bot supports conversation.\n   * The conversation structure is defined by the subclass.\n   * @param null\n   * @returns {any} - Conversation structure. null if not supported.\n   */\n  async createChatContext() {\n    return null;\n  }\n}\n","import AsyncLock from \"async-lock\";\nimport Bot from \"@/bots/Bot\";\nimport axios from \"axios\";\nimport store from \"@/store\";\nimport { SSE } from \"sse.js\";\n\nfunction generateRandomId() {\n  let randomStr = \"\";\n  for (let i = 0; i < 32; i++) {\n    randomStr += Math.floor(Math.random() * 16).toString(16);\n  }\n  return randomStr;\n}\n\nexport default class QianWenBot extends Bot {\n  static _brandId = \"qianWen\"; // Brand id of the bot, should be unique. Used in i18n.\n  static _className = \"QianWenBot\"; // Class name of the bot\n  static _logoFilename = \"qianwen-logo.png\"; // Place it in public/bots/\n  static _loginUrl = \"https://qianwen.aliyun.com/\";\n  static _lock = new AsyncLock(); // AsyncLock for prompt requests\n\n  constructor() {\n    super();\n  }\n\n  getRequestHeaders() {\n    return {\n      \"x-xsrf-token\": store.state.qianWen?.xsrfToken,\n    };\n  }\n\n  /**\n   * Check whether the bot is logged in, settings are correct, etc.\n   * @returns {boolean} - true if the bot is available, false otherwise.\n   */\n  async _checkAvailability() {\n    let available = false;\n    await axios\n      .post(\n        \"https://qianwen.aliyun.com/querySign\",\n        {},\n        { headers: this.getRequestHeaders() },\n      )\n      .then((resp) => {\n        available = resp.data?.success;\n        if (!resp.data?.success) {\n          console.error(\"Error QianWen check login:\", resp.data);\n        }\n      })\n      .catch((error) => {\n        console.error(\"Error QianWen check login:\", error);\n      });\n\n    return available;\n  }\n\n  /**\n   * Send a prompt to the bot and call onResponse(response, callbackParam)\n   * when the response is ready.\n   * @param {string} prompt\n   * @param {function} onUpdateResponse params: callbackParam, Object {content, done}\n   * @param {object} callbackParam - Just pass it to onUpdateResponse() as is\n   */\n  // eslint-disable-next-line\n  async _sendPrompt(prompt, onUpdateResponse, callbackParam) {\n    const context = await this.getChatContext();\n    const headers = {\n      ...this.getRequestHeaders(),\n      accept: \"text/event-stream\",\n      \"content-type\": \"application/json\",\n    };\n    const payload = JSON.stringify({\n      action: \"next\",\n      msgId: generateRandomId(),\n      parentMsgId: context.parentMessageId || \"0\",\n      contents: [\n        {\n          contentType: \"text\",\n          content: prompt,\n        },\n      ],\n      timeout: 17,\n      openSearch: false,\n      sessionId: context.sessionId,\n      model: \"\",\n    });\n\n    return new Promise((resolve, reject) => {\n      try {\n        const source = new SSE(\"https://qianwen.aliyun.com/conversation\", {\n          headers,\n          payload,\n          withCredentials: true,\n        });\n\n        source.addEventListener(\"message\", (event) => {\n          if (event.data === \"\") {\n            // Empty message usually means error\n            const resp = JSON.parse(source.chunk);\n            if (resp?.failed) {\n              reject(new Error(`${resp?.errorCode} ${resp?.errorMsg}`));\n              return;\n            }\n          }\n          const data = JSON.parse(event.data);\n          onUpdateResponse(callbackParam, {\n            content: data.content[0],\n            done: false,\n          });\n          if (data.stopReason === undefined || data.stopReason === \"stop\") {\n            onUpdateResponse(callbackParam, { done: true });\n            context.parentMessageId = data.msgId;\n            this.setChatContext(context);\n            resolve();\n          }\n        });\n\n        source.addEventListener(\"error\", (event) => {\n          console.error(event);\n          reject(this.getSSEDisplayError(event));\n        });\n\n        source.stream();\n      } catch (err) {\n        reject(err);\n      }\n    });\n  }\n\n  /**\n   * Should implement this method if the bot supports conversation.\n   * The conversation structure is defined by the subclass.\n   * @param null\n   * @returns {any} - Conversation structure. null if not supported.\n   */\n  async createChatContext() {\n    let context = null;\n    await axios\n      .post(\n        \"https://qianwen.aliyun.com/addSession\",\n        { firstQuery: \"ChatALL\" }, // A hack to set session name\n        { headers: this.getRequestHeaders() },\n      )\n      .then((resp) => {\n        if (resp.data?.success) {\n          const sessionId = resp.data?.data?.sessionId;\n          const userId = resp.data?.data?.userId;\n          const parentMsgId = \"0\";\n          context = { sessionId, parentMsgId, userId };\n        }\n      })\n      .catch((err) => {\n        console.error(\"Error QianWen adding sesion:\", err);\n      });\n    return context;\n  }\n}\n","import Bot from \"@/bots/Bot\";\nimport axios from \"axios\";\nimport { SSE } from \"sse.js\";\n\nexport default class Qihoo360AIBrainBot extends Bot {\n  static _brandId = \"360AiBrain\";\n  static _className = \"Qihoo360AIBrainBot\"; // Class name of the bot\n  static _logoFilename = \"360-ai-brain-logo.png\";\n  static _loginUrl = \"https://chat.360.cn/\";\n\n  constructor() {\n    super();\n  }\n\n  async _checkAvailability() {\n    let available = false;\n\n    await axios\n      .get(\"https://chat.360.cn/backend-api/apiz/user/info\")\n      .then((response) => {\n        available = response.data?.context?.message == \"OK\";\n      })\n      .catch((error) => {\n        console.error(\"Error checking 360Bot Chat login status:\", error);\n      });\n\n    return available;\n  }\n\n  async createChatContext() {\n    return {};\n  }\n\n  /**\n   * Send a prompt to the bot and call onResponse(response, callbackParam)\n   * when the response is ready.\n   * @param {string} prompt\n   * @param {function} onUpdateResponse params: callbackParam, Object {content, done}\n   * @param {object} callbackParam - Just pass it to onUpdateResponse() as is\n   */\n  // eslint-disable-next-line\n  async _sendPrompt(prompt, onUpdateResponse, callbackParam) {\n    const context = await this.getChatContext();\n    let res = \"\";\n    const headers = {\n      accept: \"text/event-stream\",\n      \"content-type\": \"application/json\",\n    };\n    const payload = JSON.stringify({\n      is_regenerate: false,\n      is_so: false,\n      prompt: prompt,\n      role: \"00000001\",\n      source_type: \"prophet_web\",\n    });\n\n    return new Promise((resolve, reject) => {\n      try {\n        const source = new SSE(\n          \"https://chat.360.cn/backend-api/api/common/chat\",\n          {\n            headers,\n            payload,\n          },\n        );\n\n        source.addEventListener(\"200\", (event) => {\n          res += event.data;\n          onUpdateResponse(callbackParam, {\n            content: res,\n            done: true,\n          });\n          resolve();\n        });\n\n        //Get CONVERSATIONID e.g: CONVERSATIONID####f9563471f24a088d\n        source.addEventListener(\"100\", (event) => {\n          context.parentConversationId = event.data.split(\"####\")[1];\n        });\n\n        //Get MESSAGEID e.g: MESSAGEID####f9563471f24a088ddd34826b527ffdfb\n        source.addEventListener(\"101\", (event) => {\n          context.parentMessageId = event.data.split(\"####\")[1];\n        });\n\n        //unable to answer the user's question.\n        source.addEventListener(\"40042\", (event) => {\n          res += event.data;\n          onUpdateResponse(callbackParam, {\n            content: res,\n            done: true,\n          });\n        });\n\n        source.addEventListener(\"error\", (event) => {\n          console.error(event);\n          const message = this.getSSEDisplayError(event);\n          reject(message);\n        });\n\n        source.stream();\n      } catch (err) {\n        reject(err);\n      }\n    });\n  }\n}\n","import AsyncLock from \"async-lock\";\nimport axios from \"axios\";\n\nimport Bot from \"@/bots/Bot\";\nimport store from \"@/store\";\n\nexport default class SkyWorkBot extends Bot {\n  static _brandId = \"skyWork\"; // Brand id of the bot, should be unique. Used in i18n.\n  static _className = \"SkyWorkBot\"; // Class name of the bot\n  static _logoFilename = \"skywork-logo.png\"; // Place it in public/bots/\n  static _isDarkLogo = true; // The main color of logo is dark\n  static _loginUrl = \"https://neice.tiangong.cn/\";\n  static _lock = new AsyncLock(); // AsyncLock for prompt requests\n\n  currentPrompt = \"\"; // Used by createChatContext() only\n\n  constructor() {\n    super();\n  }\n\n  getAuthHeaders() {\n    return {\n      headers: {\n        \"invite-token\": `Bearer ${store.state.skyWork?.inviteToken}`,\n        token: `Bearer ${store.state.skyWork?.token}`,\n      },\n    };\n  }\n\n  /**\n   * Check whether the bot is logged in, settings are correct, etc.\n   * @returns {boolean} - true if the bot is available, false otherwise.\n   */\n  async _checkAvailability() {\n    let available = false;\n\n    try {\n      const { data } = await axios.post(\n        \"https://neice.tiangong.cn/api/v1/user/inviteVerify\",\n        { data: {} },\n        this.getAuthHeaders(),\n      );\n\n      if (data.code === 200) {\n        available = true;\n      } else if (data.code >= 60100) {\n        // Invite token expired, request a new one\n        const { data } = await axios.post(\n          \"https://neice.tiangong.cn/api/v1/queue/waitAccess\",\n          { data: { token: \"\" } },\n          this.getAuthHeaders(),\n        );\n        if (data.code === 200 && data.resp_data?.busy_now === false) {\n          await store.commit(\"setSkyWork\", {\n            inviteToken: data.resp_data?.invite_token,\n          });\n          available = true;\n        }\n      }\n    } catch (err) {\n      console.error(\"SkyWork login error:\", err);\n    }\n    return available;\n  }\n\n  /**\n   * Send a prompt to the bot and call onResponse(response, callbackParam)\n   * when the response is ready.\n   * @param {string} prompt\n   * @param {function} onUpdateResponse params: callbackParam, Object {content, done}\n   * @param {object} callbackParam - Just pass it to onUpdateResponse() as is\n   */\n  async _sendPrompt(prompt, onUpdateResponse, callbackParam) {\n    await this.checkAvailability();\n\n    this.currentPrompt = prompt;\n    const context = await this.getChatContext();\n\n    return new Promise((resolve, reject) => {\n      (async () => {\n        try {\n          // If context.currentMessageId is not empty,\n          // it means a prompt has been sent through createChatContext()\n          let messageId = context.currentMessageId;\n          context.currentMessageId = \"\";\n          this.setChatContext(context);\n          if (!messageId) {\n            await axios\n              .post(\n                \"https://neice.tiangong.cn/api/v1/chat/chat\",\n                { data: { content: prompt, session_id: context.sessionId } },\n                this.getAuthHeaders(),\n              )\n              .then((res) => {\n                const data = res.data;\n                if (data.code === 200) {\n                  messageId = data.resp_data?.result_message?.message_id;\n                } else {\n                  console.error(data);\n                  reject(new Error(`${data.code} ${data.code_msg}`));\n                }\n              })\n              .catch((err) => {\n                console.error(err);\n                reject(err);\n              });\n          }\n\n          // Get the response\n          if (messageId) {\n            let done = false;\n            do {\n              // wait 1s\n              await new Promise((resolve) => setTimeout(resolve, 1000));\n              await axios\n                .post(\n                  \"https://neice.tiangong.cn/api/v1/chat/getMessage\",\n                  { data: { message_id: messageId } },\n                  this.getAuthHeaders(),\n                )\n                .then((res) => {\n                  const data = res.data;\n                  if (data.code !== 200) {\n                    console.error(data);\n                    reject(new Error(`${data.code} ${data.code_msg}`));\n                  }\n                  const status = data.resp_data?.result_message?.status;\n                  done = status == 3 || status == 6; // 3 - done, 6 - need continue\n                  const content = data.resp_data?.result_message?.content;\n                  if (content) {\n                    onUpdateResponse(callbackParam, { content, done });\n                  }\n                });\n            } while (!done);\n          }\n\n          resolve();\n        } catch (error) {\n          reject(error);\n        }\n      })();\n    });\n  }\n\n  /**\n   * Should implement this method if the bot supports conversation.\n   * The conversation structure is defined by the subclass.\n   * @param null\n   * @returns {any} - Conversation structure. null if not supported.\n   */\n  async createChatContext() {\n    let context = null;\n    await axios\n      .post(\n        \"https://neice.tiangong.cn/api/v1/session/newSession\",\n        { data: { content: this.currentPrompt } },\n        this.getAuthHeaders(),\n      )\n      .then((res) => {\n        const data = res.data;\n        if (data.code === 200) {\n          context = {\n            sessionId: data.resp_data.session_id,\n            currentMessageId: data.resp_data.dialogue?.[1]?.message_id,\n          };\n        }\n      });\n    return context;\n  }\n}\n","import axios from \"axios\";\nimport { SSE } from \"sse.js\";\nimport AsyncLock from \"async-lock\";\n\nimport i18n from \"../i18n\";\nimport Bot from \"./Bot\";\n\nexport default class SparkBot extends Bot {\n  static _brandId = \"spark\";\n  static _className = \"SparkBot\"; // Class name of the bot\n  static _logoFilename = \"spark-logo.png\"; // Place it in public/bots/\n  static _loginUrl = \"https://xinghuo.xfyun.cn/\";\n  static _lock = new AsyncLock(); // All Spark bots share the same lock\n\n  constructor() {\n    super();\n  }\n\n  async _checkAvailability() {\n    let available = false;\n    try {\n      const response = await axios.get(\n        \"https://xinghuo.xfyun.cn/iflygpt/userInfo\",\n      );\n      available = response.data.flag;\n    } catch (error) {\n      console.error(\"Error checking Spark login status:\", error);\n    }\n    return available;\n  }\n\n  async createChatContext() {\n    const response = await axios.post(\n      \"https://xinghuo.xfyun.cn/iflygpt/u/chat-list/v1/create-chat-list\",\n      {},\n    );\n\n    if (response.data.flag && response.data.code === 0) {\n      return response.data.data.id;\n    } else {\n      console.error(\"Error creating conversation:\", response.data.desc);\n      return 0;\n    }\n  }\n\n  async getGtToken() {\n    return new Promise((resolve, reject) => {\n      window.initGeeGuard(\n        {\n          appId: \"ihuqg3dmuzcr2kmghumvivsk7c3l4joe\",\n          https: true,\n        },\n        function (t) {\n          if (t.status === \"success\") {\n            resolve(t.data.gee_token);\n          } else {\n            reject(new Error(\"Failed to get GtToken\", t));\n          }\n        },\n      );\n    });\n  }\n\n  async _sendPrompt(prompt, onUpdateResponse, callbackParam) {\n    const chatId = await this.getChatContext();\n    return new Promise((resolve, reject) => {\n      (async () => {\n        try {\n          if (chatId === 0) {\n            reject(new Error(i18n.global.t(\"bot.failedToCreateConversation\")));\n          }\n\n          // Create FormData payload\n          const GtToken = await this.getGtToken();\n          const formData = new FormData();\n          formData.append(\"fd\", String(+new Date()).slice(-6));\n          formData.append(\"chatId\", chatId);\n          formData.append(\"text\", prompt);\n          formData.append(\"GtToken\", GtToken);\n          formData.append(\"clientType\", \"1\");\n          formData.append(\"isBot\", \"0\");\n\n          const source = new SSE(\n            \"https://xinghuo.xfyun.cn/iflygpt-chat/u/chat_message/chat\",\n            { payload: formData },\n          );\n\n          let text = \"\";\n          source.addEventListener(\"message\", (event) => {\n            if (event.data === \"<end>\") {\n              onUpdateResponse(callbackParam, { done: true });\n              source.close();\n              resolve();\n            } else if (event.data.slice(-5) === \"<sid>\") {\n              // ignore <sid> message\n              return;\n            } else {\n              let partialText;\n              if (event.data[0] === \"{\") {\n                // JSON data\n                const data = JSON.parse(event.data);\n                partialText = data.descr;\n              } else if (event.data[0] === \"[\") {\n                // [error] or [geeError]\n                partialText = event.data;\n              } else {\n                // Normal data\n                partialText = Buffer.from(event.data, \"base64\").toString(\n                  \"utf8\",\n                );\n              }\n              text += partialText;\n              onUpdateResponse(callbackParam, { content: text, done: false });\n            }\n          });\n\n          source.addEventListener(\"error\", (error) => {\n            source.close();\n            reject(new Error(error.data));\n          });\n\n          source.stream();\n        } catch (error) {\n          console.error(\"Error Spark:\", error);\n          reject(error);\n        }\n      })();\n    });\n  }\n}\n","import Bot from \"@/bots/Bot\";\nimport AsyncLock from \"async-lock\";\nimport queryString from \"query-string\";\nimport { SSE } from \"sse.js\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nexport default class YouChatBot extends Bot {\n  static _brandId = \"youChat\"; // Brand id of the bot, should be unique. Used in i18n.\n  static _className = \"YouChatBot\"; // Class name of the bot\n  static _logoFilename = \"you-logo.png\"; // Place it in public/bots/\n  static _loginUrl = \"https://you.com/\";\n  static _lock = new AsyncLock(); // AsyncLock for prompt requests\n\n  constructor() {\n    super();\n  }\n\n  /**\n   * Check whether the bot is logged in, settings are correct, etc.\n   * @returns {boolean} - true if the bot is available, false otherwise.\n   * @sideeffect - Set this.constructor._isAvailable\n   */\n  async _checkAvailability() {\n    return true;\n  }\n\n  /**\n   * Send a prompt to the bot and call onResponse(response, callbackParam)\n   * when the response is ready.\n   * @param {string} prompt\n   * @param {function} onUpdateResponse params: callbackParam, Object {content, done}\n   * @param {object} callbackParam - Just pass it to onUpdateResponse() as is\n   */\n  // eslint-disable-next-line\n  async _sendPrompt(prompt, onUpdateResponse, callbackParam) {\n    const context = await this.getChatContext();\n    const headers = {\n      accept: \"text/event-stream\",\n    };\n    const payload = {\n      q: prompt,\n      domain: \"youchat\",\n      chatId: context.chatId,\n      queryTraceId: context.chatId,\n      chat: JSON.stringify(context.chatHistory),\n    };\n    return new Promise((resolve, reject) => {\n      try {\n        const source = new SSE(\n          `https://you.com/api/streamingSearch?${queryString.stringify(\n            payload,\n          )}`,\n          {\n            headers,\n            withCredentials: true,\n          },\n        );\n        let text = \"\";\n        source.addEventListener(\"youChatToken\", (event) => {\n          const data = JSON.parse(event.data);\n          if (data.youChatToken) {\n            text += data.youChatToken;\n            onUpdateResponse(callbackParam, {\n              content: text,\n              done: false,\n            });\n          }\n        });\n        source.addEventListener(\"done\", () => {\n          // save chat question and answer to context\n          this.setChatContext({\n            chatId: context.chatId,\n            chatHistory: [\n              ...context.chatHistory,\n              {\n                question: prompt,\n                answer: text,\n              },\n            ],\n          });\n          onUpdateResponse(callbackParam, {\n            content: text,\n            done: true,\n          });\n          resolve();\n        });\n        source.addEventListener(\"error\", (event) => {\n          console.error(event);\n          reject(this.getSSEDisplayError(event));\n        });\n        source.stream();\n      } catch (err) {\n        reject(err);\n      }\n    });\n  }\n\n  /**\n   * Should implement this method if the bot supports conversation.\n   * The conversation structure is defined by the subclass.\n   * @param null\n   * @returns {any} - Conversation structure. null if not supported.\n   */\n  async createChatContext() {\n    return { chatId: uuidv4(), chatHistory: [] };\n  }\n}\n","import LangChainBot from \"@/bots/LangChainBot\";\nimport { ChatBaiduWenxin } from \"langchain/chat_models/baiduwenxin\";\nimport AsyncLock from \"async-lock\";\nimport store from \"@/store\";\n\nexport default class WenxinQianfanBot extends LangChainBot {\n  static _brandId = \"wenxinQianfan\"; // ID of the bot, should be unique\n  static _className = \"WenxinQianfanBot\"; // Class name of the bot\n  static _logoFilename = \"wenxin-qianfan-logo.png\"; // Place it in public/bots/\n  static _model = \"ERNIE-Bot\"; // Model name\n  static _lock = new AsyncLock();\n\n  constructor() {\n    super();\n  }\n\n  async _checkAvailability() {\n    let available = false;\n    const { apiKey, secretKey } = store.state.wenxinQianfan;\n    if (apiKey && secretKey) {\n      const chatModel = new ChatBaiduWenxin({\n        modelName: this.constructor._model,\n        baiduApiKey: apiKey,\n        baiduSecretKey: secretKey,\n        streaming: true,\n      });\n      this.constructor._chatModel = chatModel;\n      available = true;\n    }\n    return available;\n  }\n\n  getPastRounds() {\n    return store.state.wenxinQianfan.pastRounds;\n  }\n}\n","import GradioBot from \"@/bots/huggingface/GradioBot\";\nimport AsyncLock from \"async-lock\";\nimport axios from \"axios\";\nimport store from \"@/store\";\n\nexport default class Falcon180bBot extends GradioBot {\n  static _brandId = \"falcon\"; // Brand id of the bot, should be unique. Used in i18n.\n  static _className = \"Falcon180bBot\"; // Class name of the bot\n  static _logoFilename = \"falcon-180b-logo.jpeg\"; // Place it in public/bots/\n  static _loginUrl = \"https://tiiuae-falcon-180b-demo.hf.space/\"; // Any Gradio URL\n  static _settingsComponent = \"Falcon180bBotSettings\"; // Vue component filename for settings\n  static _model = \"falcon-180b\";\n  static _lock = new AsyncLock(); // Send requests in queue to save LMSYS\n  static _fnIndexes = [3]; // Indexes of the APIs to call in order. Sniffer it by devtools.\n\n  static _predictUrl = Falcon180bBot._loginUrl + \"run/predict\";\n\n  constructor() {\n    super();\n  }\n\n  sendPredict(fn_index, session_hash, payload) {\n    return axios.post(Falcon180bBot._predictUrl, {\n      fn_index,\n      data: [],\n      event_data: null,\n      session_hash: session_hash,\n      ...payload,\n    });\n  }\n\n  async _sendPrompt(prompt, onUpdateResponse, callbackParam) {\n    try {\n      const session_hash = await this.getChatContext();\n      await axios.all([\n        this.sendPredict(4, session_hash),\n        this.sendPredict(1, session_hash, {\n          data: [prompt],\n        }),\n      ]);\n      await this.sendPredict(2, session_hash, { data: [null, null] });\n      await super._sendPrompt(prompt, onUpdateResponse, callbackParam);\n      await this.sendPredict(5, session_hash);\n    } catch (error) {\n      throw Error(error);\n    }\n  }\n\n  /* eslint-disable no-unused-vars */\n  makeData(fn_index, prompt) {\n    let r = null;\n    if (fn_index === this.constructor._fnIndexes[0]) {\n      r = [\n        null,\n        null,\n        \"\",\n        store.state.falcon.temperature,\n        store.state.falcon.maxNewTokens,\n        store.state.falcon.topP,\n        store.state.falcon.repetitionPenalty,\n      ];\n    }\n    return r;\n  }\n\n  parseData(fn_index, data) {\n    let r = undefined;\n    if (fn_index === this.constructor._fnIndexes[0]) {\n      r = data[0][data[0].length - 1][1];\n    }\n    return r;\n  }\n\n  parseError(errorMsg) {\n    return errorMsg;\n  }\n}\n","import AsyncLock from \"async-lock\";\nimport GradioBot from \"./GradioBot\";\nimport store from \"@/store\";\n\nexport default class GradioAppBot extends GradioBot {\n  static _className = \"GradioAppBot\"; // Class name of the bot\n  static _loginUrl = \"\";\n  static _settingsComponent = \"GradioAppBotSettings\"; // Vue component filename for settings\n  static _lock = new AsyncLock(); // AsyncLock for prompt requests\n\n  constructor() {\n    super();\n    this.constructor._loginUrl = store.state.gradio.url;\n    this.constructor._fnIndexes[0] = store.state.gradio.fnIndex;\n  }\n\n  _checkAvailability() {\n    this.constructor._loginUrl = store.state.gradio.url;\n    this.constructor._fnIndexes[0] = store.state.gradio.fnIndex;\n    return super._checkAvailability();\n  }\n\n  makeData(fn_index, prompt) {\n    return Array(prompt);\n  }\n\n  parseData(fn_index, data) {\n    return data[0];\n  }\n}\n","import axios from \"axios\";\nimport WebSocketAsPromised from \"websocket-as-promised\";\nimport Bot from \"@/bots/Bot\";\nimport i18n from \"@/i18n\";\n\nexport default class GradioBot extends Bot {\n  static _brandId = \"gradio\"; // Brand id of the bot, should be unique. Used in i18n.\n  static _className = \"GradioBot\"; // Class name of the bot\n  static _logoFilename = \"gradio-logo.svg\"; // Place it in public/bots/\n  static _loginUrl = \"\"; // Any Gradio URL\n  static _fnIndexes = [0]; // Indexes of the APIs to call in order. Sniffer it by devtools.\n\n  config = {};\n\n  constructor() {\n    super();\n  }\n\n  /**\n   * Check whether the bot is logged in, settings are correct, etc.\n   * @returns {boolean} - true if the bot is available, false otherwise.\n   */\n  async _checkAvailability() {\n    let available = false;\n    if (this.constructor._loginUrl !== \"\") {\n      try {\n        // Remove trailing slash\n        this.constructor._loginUrl = this.constructor._loginUrl.replace(\n          /\\/$/,\n          \"\",\n        );\n\n        const response = await axios.get(\n          this.constructor._loginUrl + \"/config\",\n        );\n        this.config = response.data;\n        this.config.path = response.data.path ?? \"\";\n        this.config.root = this.constructor._loginUrl;\n\n        available = true;\n      } catch (err) {\n        console.log(err);\n      }\n    }\n\n    return available;\n  }\n\n  /**\n   * Send a prompt to the bot and call onResponse(response, callbackParam)\n   * when the response is ready.\n   * @param {string} prompt\n   * @param {function} onUpdateResponse params: callbackParam, Object {content, done}\n   * @param {object} callbackParam - Just pass it to onUpdateResponse() as is\n   */\n  async _sendPrompt(prompt, onUpdateResponse, callbackParam) {\n    for (const key in this.constructor._fnIndexes) {\n      const fn_index = this.constructor._fnIndexes[key];\n      await this._sendFnIndex(\n        fn_index,\n        prompt,\n        onUpdateResponse,\n        callbackParam,\n      );\n    }\n  }\n\n  async _sendFnIndex(fn_index, prompt, onUpdateResponse, callbackParam) {\n    const config = this.config;\n    const session_hash = await this.getChatContext();\n    return new Promise((resolve, reject) => {\n      try {\n        const url = new URL(config.root + config.path + \"/queue/join\");\n        url.protocol = url.protocol === \"https:\" ? \"wss:\" : \"ws:\";\n\n        const data = this.makeData(fn_index, prompt);\n\n        const wsp = new WebSocketAsPromised(url.toString(), {\n          packMessage: (data) => {\n            return JSON.stringify(data);\n          },\n          unpackMessage: (data) => {\n            return JSON.parse(data);\n          },\n        });\n\n        wsp.onUnpackedMessage.addListener(async (event) => {\n          if (event.msg === \"send_hash\") {\n            wsp.sendPacked({ fn_index, session_hash });\n          } else if (event.msg === \"send_data\") {\n            // Requested to send data\n            wsp.sendPacked({\n              data,\n              event_data: null,\n              fn_index,\n              session_hash,\n            });\n          } else if (event.msg === \"estimation\") {\n            if (event.rank > 0) {\n              // Waiting in queue\n              event.rank_eta = Math.floor(event.rank_eta);\n              onUpdateResponse(callbackParam, {\n                content: i18n.global.t(\"gradio.waiting\", { ...event }),\n                done: false,\n              });\n            }\n          } else if (event.msg === \"process_generating\") {\n            // Generating data\n            if (event.success && event.output.data) {\n              onUpdateResponse(callbackParam, {\n                content: this.parseData(fn_index, event.output.data),\n                done: false,\n              });\n            } else {\n              reject(new Error(event.output.error));\n            }\n          } else if (event.msg === \"process_completed\") {\n            // Done\n            if (event.success && event.output.data) {\n              if (\n                typeof event.output.data[2] !== \"string\" ||\n                event.output.data[2] === \"\"\n              ) {\n                onUpdateResponse(callbackParam, {\n                  content: this.parseData(fn_index, event.output.data),\n                  done: fn_index == this.constructor._fnIndexes.slice(-1), // Only the last one is done\n                });\n              } else {\n                const errorMsg = this.parseError(event.output.data[2]);\n                reject(new Error(errorMsg));\n              }\n            } else {\n              reject(new Error(event.output.error));\n            }\n            wsp.removeAllListeners();\n            wsp.close();\n            resolve();\n          } else if (event.msg === \"queue_full\") {\n            reject(i18n.global.t(\"gradio.queueFull\"));\n          }\n        });\n\n        wsp.onClose.addListener((event) => {\n          console.log(\"WebSocket closed:\", event);\n          wsp.removeAllListeners();\n          wsp.close();\n          reject(new Error(i18n.global.t(\"error.closedByServer\")));\n        });\n\n        wsp.onError.addListener((event) => {\n          wsp.removeAllListeners();\n          wsp.close();\n          reject(\n            i18n.global.t(\"error.failedConnectUrl\", { url: event.target.url }),\n          );\n        });\n\n        wsp.open();\n      } catch (error) {\n        reject(error);\n      }\n    });\n  }\n\n  /**\n   * Should implement this method if the bot supports conversation.\n   * The conversation structure is defined by the subclass.\n   * @param null\n   * @returns {any} - Conversation structure. null if not supported.\n   */\n  async createChatContext() {\n    return Math.random().toString(36).substring(2);\n  }\n\n  parseError(errorMsg) {\n    return errorMsg;\n  }\n}\n","import AsyncLock from \"async-lock\";\nimport axios from \"axios\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport Bot, { LoginError } from \"@/bots/Bot\";\nimport i18n from \"@/i18n\";\n\nexport default class HuggingChatBot extends Bot {\n  static _brandId = \"huggingChat\"; // Brand id of the bot, should be unique. Used in i18n.\n  static _className = \"HuggingChatBot\"; // Class name of the bot\n  static _logoFilename = \"huggingchat-logo.png\"; // Place it in public/bots/\n  static _loginUrl = \"https://huggingface.co/chat/\";\n  static _model = \"OpenAssistant/oasst-sft-6-llama-30b-xor\";\n  static _lock = new AsyncLock(); // AsyncLock for prompt requests\n\n  constructor() {\n    super();\n  }\n\n  /**\n   * Check whether the bot is logged in, settings are correct, etc.\n   * @returns {boolean} - true if the bot is available, false otherwise.\n   */\n  async _checkAvailability() {\n    return true; // Support anonymous chat\n  }\n\n  packRequest(prompt) {\n    return {\n      inputs: prompt,\n      id: uuidv4(),\n      is_retry: false,\n      response_id: uuidv4(),\n      web_search: false,\n    };\n  }\n  /**\n   * Send a prompt to the bot and call onResponse(response, callbackParam)\n   * when the response is ready.\n   * @param {string} prompt\n   * @param {function} onUpdateResponse params: callbackParam, Object {content, done}\n   * @param {object} callbackParam - Just pass it to onUpdateResponse() as is\n   */\n  async _sendPrompt(prompt, onUpdateResponse, callbackParam) {\n    const conversationId = await this.getChatContext();\n    return new Promise((resolve, reject) => {\n      (async () => {\n        if (!conversationId) {\n          reject(new Error(i18n.global.t(\"bot.failedToCreateConversation\")));\n        }\n\n        try {\n          const response = await fetch(\n            `https://huggingface.co/chat/conversation/${conversationId}`,\n            {\n              method: \"POST\",\n              headers: {\n                \"Content-Type\": \"application/json\",\n              },\n              body: JSON.stringify(this.packRequest(prompt)),\n            },\n          );\n\n          if (!response.ok) {\n            const errorData = await response.json();\n            if (\n              errorData.message === \"Exceeded number of messages before login\"\n            ) {\n              reject(new LoginError(errorData.message));\n            } else {\n              reject(new Error(errorData.message || \"Unknown error\"));\n            }\n            return;\n          }\n\n          const reader = response.body.getReader();\n          let text = \"\";\n\n          const processStream = async () => {\n            const { done, value } = await reader.read();\n            if (done) {\n              return;\n            }\n\n            const dataChunk = new TextDecoder().decode(value);\n            // Split the chunk into individual JSON strings\n            const jsonDataArray = dataChunk.split(\"\\n\").filter(Boolean); // filter(Boolean) removes any empty strings\n\n            for (let i = 0; i < jsonDataArray.length; i++) {\n              const jsonData = jsonDataArray[i];\n              const data = JSON.parse(jsonData);\n\n              if (data.type === \"stream\") {\n                text += data.token;\n                onUpdateResponse(callbackParam, { content: text, done: false });\n              } else if (data.type === \"finalAnswer\") {\n                onUpdateResponse(callbackParam, {\n                  content: data.text,\n                  done: true,\n                });\n                return;\n              }\n            }\n            await processStream(); // Continue processing stream\n          };\n\n          await processStream(); // Start processing stream\n          resolve();\n        } catch (error) {\n          if (error.message === \"network error\") {\n            // ignore network error\n          } else {\n            reject(new Error(error.message));\n          }\n        }\n      })();\n    });\n  }\n\n  /**\n   * Should implement this method if the bot supports conversation.\n   * The conversation structure is defined by the subclass.\n   * @param null\n   * @returns {any} - Conversation structure. null if not supported.\n   */\n  async createChatContext() {\n    let conversationId = \"\";\n    await axios\n      .post(\"https://huggingface.co/chat/conversation\", {\n        model: this.constructor._model,\n      })\n      .then(({ data: resp }) => {\n        conversationId = resp.conversationId;\n      })\n      .catch((error) => {\n        console.error(error);\n        throw error;\n      });\n    return conversationId;\n  }\n}\n","import AsyncLock from \"async-lock\";\nimport GradioBot from \"@/bots/huggingface/GradioBot\";\n\nexport default class LMSYSBot extends GradioBot {\n  static _brandId = \"lmsys\"; // Brand id of the bot, should be unique. Used in i18n.\n  static _className = \"LMSYSBot\"; // Class name of the bot\n  static _logoFilename = \"lmsys-logo.png\"; // Place it in public/bots/\n  static _loginUrl = \"https://chat.lmsys.org/\"; // Any Gradio URL\n  static _settingsComponent = \"LMSYSBotSettings\"; // Vue component filename for settings\n  static _model = \"\";\n  static _outputFormat = \"html\"; // \"markdown\" or \"html\"\n  static _lock = new AsyncLock(); // Send requests in queue to save LMSYS\n\n  static _fnIndexes = [39, 40]; // Indexes of the APIs to call in order. Sniffer it by devtools.\n\n  constructor() {\n    super();\n  }\n\n  async _checkAvailability() {\n    let available = await super._checkAvailability();\n    if (available) {\n      this._sendFnIndex(43, \"\", () => {}, 0); // Refresh the session\n    }\n    return available;\n  }\n\n  makeData(fn_index, prompt) {\n    let r = null;\n    if (fn_index === this.constructor._fnIndexes[0]) {\n      r = [null, this.constructor._model, prompt];\n    } else if (fn_index === this.constructor._fnIndexes[1]) {\n      r = [null, 0.7, 1, 512];\n    } else if (fn_index === 43) {\n      r = [{}];\n    }\n    return r;\n  }\n\n  parseData(fn_index, data) {\n    let r = undefined;\n    if (fn_index === this.constructor._fnIndexes[1]) {\n      r = data[1][data[1].length - 1][1];\n    }\n    if (!r) r = \"\"; // Sometimes the result from data[] is null\n    return r;\n  }\n\n  parseError(errorMsg) {\n    if (errorMsg.includes(\"REFRESH THIS PAGE\")) {\n      errorMsg = errorMsg.replace(\n        \"REFRESH THIS PAGE\",\n        `<a href=\"${this.constructor._loginUrl}\" target=\"innerWindow\">REFRESH THIS PAGE</a>`,\n      );\n\n      // Refresh the session too\n      const context = this.createChatContext();\n      this.setChatContext(context);\n    }\n    return errorMsg;\n  }\n}\n","import LangChainBot from \"@/bots/LangChainBot\";\nimport store from \"@/store\";\nimport { ChatOpenAI } from \"langchain/chat_models/openai\";\n\nexport default class AzureOpenAIAPIBot extends LangChainBot {\n  static _brandId = \"azureOpenaiApi\";\n  static _className = \"AzureOpenAIAPIBot\";\n  static _logoFilename = \"azure-openai-logo.png\";\n  static _isDarkLogo = true; // The main color of logo is dark\n\n  constructor() {\n    super();\n  }\n\n  async _checkAvailability() {\n    let available = false;\n    if (\n      store.state.azureOpenaiApi.azureApiKey &&\n      store.state.azureOpenaiApi.azureApiInstanceName &&\n      store.state.azureOpenaiApi.azureOpenAIApiDeploymentName &&\n      store.state.azureOpenaiApi.azureOpenAIApiVersion\n    ) {\n      const chatModel = new ChatOpenAI({\n        azureOpenAIApiKey: store.state.azureOpenaiApi.azureApiKey,\n        azureOpenAIApiInstanceName:\n          store.state.azureOpenaiApi.azureApiInstanceName,\n        azureOpenAIApiDeploymentName:\n          store.state.azureOpenaiApi.azureOpenAIApiDeploymentName,\n        azureOpenAIApiVersion: store.state.azureOpenaiApi.azureOpenAIApiVersion,\n        temperature: store.state.azureOpenaiApi.temperature,\n        streaming: true,\n      });\n      this.constructor._chatModel = chatModel;\n      available = true;\n    }\n    return available;\n  }\n\n  getPastRounds() {\n    return store.state.azureOpenaiApi.pastRounds;\n  }\n}\n","import Bot, { LoginError } from \"@/bots/Bot\";\nimport axios from \"axios\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport WebSocketAsPromised from \"websocket-as-promised\";\nimport i18n from \"@/i18n\";\n\nexport default class BingChatBot extends Bot {\n  static _brandId = \"bingChat\";\n  static _className = \"BingChatBot\"; // Class name of the bot\n  static _model = \"h3precise\"; // Bing styles: h3imaginative, harmonyv3, h3precise\n  static _logoFilename = \"bing-logo.svg\"; // Place it in public/bots/\n  static _loginUrl = \"https://www.bing.com/new\";\n  static _userAgent =\n    \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/112.0.0.0 Safari/537.36 Edg/112.0.1722.48\";\n\n  static _optionsSets = null; // Set by the subclass\n  static _tone = \"\"; // Set by the subclass\n\n  constructor() {\n    super();\n  }\n\n  async createChatContext() {\n    const headers = {\n      \"x-ms-client-request-id\": uuidv4(),\n      \"x-ms-useragent\":\n        \"azsdk-js-api-client-factory/1.0.0-beta.1 core-rest-pipeline/1.10.3 OS/macOS\",\n    };\n    let conversation = null;\n\n    const response = await axios.get(\n      \"https://www.bing.com/turing/conversation/create\",\n      { headers },\n    );\n    if (response.status == 200 && response.data?.result?.value == \"Success\") {\n      // Save the conversation context\n      conversation = {\n        clientId: response.data.clientId,\n        conversationId: response.data.conversationId,\n        conversationSignature:\n          response.data.conversationSignature ??\n          response.headers[\"x-sydney-conversationsignature\"],\n        secAccessToken:\n          response.headers[\"x-sydney-encryptedconversationsignature\"],\n        invocationId: 0,\n      };\n    } else {\n      console.error(\"Error creating Bing Chat conversation:\", response);\n      throw new Error(\n        i18n.global.t(\"bot.failedToCreateConversation\") + \" \" + response.data,\n      );\n    }\n\n    return conversation;\n  }\n\n  async _checkAvailability() {\n    let available = false;\n\n    await axios\n      .get(\"https://www.bing.com/turing/conversation/chats\")\n      .then((response) => {\n        available =\n          response.data?.result?.value == \"Success\" &&\n          !this.isAnonymous(response.data?.clientId); // Anonymous user is not supported any more\n\n        // If login user is changed, clear the chat context\n        const context = this.getChatContext(false);\n        if (response.data?.clientId != context?.clientId) {\n          this.setChatContext(null);\n        }\n      })\n      .catch((error) => {\n        console.error(\"Error checking Bing Chat login status:\", error);\n      });\n\n    return available;\n  }\n\n  async makePromptRequest(prompt) {\n    const context = await this.getChatContext();\n    const uuid = uuidv4();\n    return {\n      arguments: [\n        {\n          source: \"cib\",\n          optionsSets: this.constructor._optionsSets,\n          allowedMessageTypes: [\"Chat\", \"InternalSearchQuery\"],\n          sliceIds: [\n            \"629adsredir\",\n            \"gbaa\",\n            \"gba\",\n            \"divkorbl2p\",\n            \"emovoicecf\",\n            \"tts3cf\",\n            \"crtrgxnew\",\n            \"wrapuxslimt\",\n            \"norbingchrome\",\n            \"sydconfigoptt\",\n            \"803iyjbexps0\",\n            \"178gentechs0\",\n            \"824fluxhi52s0\",\n            \"0825agicert\",\n            \"821iypapyrust\",\n          ],\n          verbosity: \"verbose\",\n          scenario: \"SERP\",\n          plugins: [],\n          isStartOfSession: context.invocationId === 0,\n          requestId: uuid,\n          message: {\n            timestamp: new Date().toISOString(),\n            author: \"user\",\n            inputMethod: \"Keyboard\",\n            text: prompt,\n            messageType: \"Chat\",\n            requestId: uuid,\n            messageId: uuid,\n          },\n          tone: this.constructor._tone,\n          conversationSignature: context.conversationSignature, // TODO: test if this is needed when secAccessToken is set\n          participant: { id: context.clientId },\n          spokenTextMode: \"None\",\n          conversationId: context.conversationId,\n        },\n      ],\n      invocationId: context.invocationId.toString(),\n      target: \"chat\",\n      type: 4,\n    };\n  }\n\n  async _sendPrompt(prompt, onUpdateResponse, callbackParam) {\n    let context = await this.getChatContext();\n    return new Promise((resolve, reject) => {\n      try {\n        const seperator = String.fromCharCode(30);\n        // If secAccessToken is not set, use the old way to pass conversationSignature\n        const url = context.secAccessToken\n          ? `wss://sydney.bing.com/sydney/ChatHub?sec_access_token=${encodeURIComponent(\n              context.secAccessToken,\n            )}`\n          : \"wss://sydney.bing.com/sydney/ChatHub\";\n        const wsp = new WebSocketAsPromised(url, {\n          packMessage: (data) => {\n            return JSON.stringify(data) + seperator;\n          },\n          unpackMessage: (data) => {\n            return data\n              .toString()\n              .split(seperator)\n              .filter(Boolean)\n              .map((r) => JSON.parse(r));\n          },\n        });\n\n        wsp.onOpen.addListener(() => {\n          wsp.sendPacked({ protocol: \"json\", version: 1 });\n        });\n\n        let beginning = \"\";\n        let body = \"\";\n        let ending = \"\";\n        wsp.onUnpackedMessage.addListener(async (events) => {\n          try {\n            for (const event of events) {\n              if (JSON.stringify(event) === \"{}\") {\n                wsp.sendPacked({ type: 6 });\n                wsp.sendPacked(await this.makePromptRequest(prompt));\n                context.invocationId += 1;\n              } else if (event.type === 6) {\n                wsp.sendPacked({ type: 6 });\n              } else if (event.type === 3) {\n                onUpdateResponse(callbackParam, { done: true });\n                wsp.removeAllListeners();\n                wsp.close();\n                resolve();\n              } else if (event.type === 2) {\n                if (event.item.result.value !== \"Success\") {\n                  console.error(\"Error sending prompt to Bing Chat:\", event);\n                  if (event.item.result.value === \"InvalidSession\") {\n                    // Create a new conversation and retry\n                    context = await this.createChatContext();\n                    this.setChatContext(context);\n                    this._sendPrompt(prompt, onUpdateResponse, callbackParam);\n                    reject(\n                      new Error(i18n.global.t(\"bot.creatingConversation\")),\n                    );\n                  } else if (event.item.result.value === \"Throttled\") {\n                    if (this.isAnonymous(context.clientId)) {\n                      reject(new LoginError(event.item.result.message));\n                      this.setChatContext(null);\n                    } else {\n                      reject(new Error(event.item.result.message));\n                    }\n                  } else if (event.item.result.value === \"CaptchaChallenge\") {\n                    const url = \"https://www.bing.com/turing/captcha/challenge\";\n                    onUpdateResponse(callbackParam, {\n                      content: i18n.global.t(\"bingChat.solveCaptcha\", {\n                        attributes: `href=\"${url}\" title=\"${url}\" target=\"innerWindow\"`,\n                      }),\n                      format: \"html\",\n                      done: false,\n                    });\n                  } else {\n                    reject(\n                      new Error(\n                        `${event.item.result.message} (${event.item.result.value})`,\n                      ),\n                    );\n                  }\n                } else if (\n                  event.item.throttling.maxNumUserMessagesInConversation ===\n                  event.item.throttling.numUserMessagesInConversation\n                ) {\n                  // Max number of messages reached\n                  context = await this.createChatContext();\n                  this.setChatContext(context);\n                }\n                wsp.removeAllListeners();\n                wsp.close();\n                resolve();\n              } else if (event.type === 1) {\n                // Content response\n                if (event.arguments[0].messages?.length > 0) {\n                  const message = event.arguments[0].messages[0];\n                  if (message.messageType === \"InternalSearchQuery\") {\n                    beginning += \"> \" + message.text + \"\\n\";\n                  } else {\n                    body = message.adaptiveCards[0]?.body[0]?.text;\n                    const moreLinks = message.adaptiveCards[0]?.body[1]?.text;\n                    if (moreLinks !== undefined) {\n                      ending = `> ${moreLinks}`;\n                    }\n                  }\n                  onUpdateResponse(callbackParam, {\n                    content: `${beginning}\\n${body}\\n${ending}`,\n                    done: false,\n                  });\n                }\n              } else if (event.type === 7) {\n                wsp.removeAllListeners();\n                wsp.close();\n                reject(new Error(event.error));\n              } else {\n                console.warn(\"Unknown Bing Chat response:\", event);\n              }\n            }\n          } catch (error) {\n            reject(error);\n          }\n        });\n\n        wsp.onError.addListener((event) => {\n          wsp.removeAllListeners();\n          wsp.close();\n          reject(\n            new Error(\n              i18n.global.t(\"error.failedConnectUrl\", {\n                url: event.target.url,\n              }),\n            ),\n          );\n        });\n\n        wsp.onClose.addListener(() => {\n          onUpdateResponse(callbackParam, { done: true });\n        });\n\n        wsp.open();\n      } catch (error) {\n        reject(error);\n      }\n    });\n  }\n\n  isAnonymous(clientId) {\n    return clientId.length > 30; // TODO: find a better way to check if anonymous\n  }\n}\n","import axios from \"axios\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { SSE } from \"sse.js\";\nimport AsyncLock from \"async-lock\";\n\nimport Bot from \"@/bots/Bot\";\nimport store from \"@/store\";\n\n// Inspired by https://v2ex.com/t/926890\nconst REFRESH_SESSION_URL =\n  \"https://chat.openai.com/_next/static/k9OKjvwgjWES7JT3k-6g9/_ssgManifest.js\";\n\nexport default class ChatGPTBot extends Bot {\n  static _brandId = \"chatGpt\";\n  static _className = \"ChatGPTBot\"; // Class name of the bot\n  static _logoFilename = \"chatgpt-logo.svg\"; // Place it in public/bots/\n  static _loginUrl = \"https://chat.openai.com/\";\n  // Remove Electron from the user agent to avoid blank login screen of Google\n  static _userAgent =\n    \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) chatall/1.29.40 Chrome/114.0.5735.134 Safari/537.36\";\n  static _model = \"\";\n  static _lock = new AsyncLock(); // All ChatGPT bots share the same lock\n\n  static _sessionRefreshing = {\n    interval: 0,\n    id: null,\n  };\n\n  static _arkoseScriptLoaded = false;\n  static _myEnforcement = null;\n  static _arkosePromise = null;\n\n  accessToken = \"\";\n\n  constructor() {\n    super();\n    this.setRefreshCycle(store.state.chatgpt.refreshCycle);\n  }\n\n  async _checkAvailability() {\n    let available = false;\n\n    try {\n      const response = await axios.get(\n        \"https://chat.openai.com/api/auth/session\",\n      );\n      if (!response.data?.error && response.data?.accessToken) {\n        this.accessToken = response.data.accessToken;\n        available = true;\n      }\n    } catch (error) {\n      console.error(\"Error checking ChatGPT login status:\", error);\n    }\n\n    if (available) {\n      this.loadArkoseScript();\n    }\n    // Toggle periodic session refreshing based on login status\n    this.toggleSessionRefreshing(available);\n\n    return available;\n  }\n\n  async createChatContext() {\n    return { conversationId: undefined, parentMessageId: uuidv4() };\n  }\n\n  refreshSession() {\n    axios.get(REFRESH_SESSION_URL).catch((error) => {\n      // the REFRESH_SESSION_URL always returns a 404 error\n      // if 403, then the session has expired\n      if (error.response && error.response.status === 403) {\n        this.constructor._isAvailable = false;\n        this.toggleSessionRefreshing(false);\n      }\n    });\n  }\n\n  /**\n   * @param {int} cycle - Refresh cycle in seconds\n   */\n  setRefreshCycle(cycle) {\n    const sr = this.constructor._sessionRefreshing;\n    sr.interval = cycle * 1000;\n    this.toggleSessionRefreshing(sr.interval > 0);\n  }\n\n  toggleSessionRefreshing(shouldRefresh) {\n    const sr = this.constructor._sessionRefreshing;\n\n    if (sr.id) {\n      clearInterval(sr.id);\n      sr.id = null;\n    }\n\n    if (shouldRefresh && sr.interval > 0) {\n      this.refreshSession();\n      sr.id = setInterval(this.refreshSession.bind(this), sr.interval);\n    }\n  }\n\n  loadArkoseScript() {\n    // Append the Arkose JS tag to the Document Body. Reference https://github.com/ArkoseLabs/arkose-examples/blob/main/vue-example/src/components/Arkose.vue\n    if (!ChatGPTBot._arkoseScriptLoaded) {\n      ChatGPTBot._arkoseScriptLoaded = true;\n      console.log(\"Loading Arkose API Script\", this.getFullname());\n      const script = document.createElement(\"script\");\n      script.type = \"text/javascript\";\n      script.src =\n        \"https://tcr9i.chat.openai.com/v2/35536E1E-65B4-4D96-9D97-6ADB7EFF8147/api.js\";\n      script.setAttribute(\"data-callback\", \"setupEnforcement\");\n      script.async = true;\n      script.defer = true;\n      document.body.appendChild(script);\n\n      script.onload = () => {\n        console.log(\"Arkose API Script loaded\");\n        window.setupEnforcement = this.setupEnforcement.bind(this);\n      };\n      script.onerror = () => {\n        console.log(\"Could not load the Arkose API Script!\");\n      };\n    }\n  }\n\n  setupEnforcement(myEnforcement) {\n    ChatGPTBot._myEnforcement = myEnforcement;\n    ChatGPTBot._myEnforcement.setConfig({\n      onReady: () => {},\n      onShown: () => {},\n      onShow: () => {},\n      onSuppress: () => {},\n      onCompleted: (response) => {\n        console.log(\"Arkose response:\", response);\n        ChatGPTBot._arkosePromise.resolve(response.token);\n      },\n      onReset: () => {},\n      onHide: () => {},\n      onError: (response) => {\n        console.log(\"Arkose error:\", response);\n        ChatGPTBot._arkosePromise.reject(response);\n      },\n      onFailed: (response) => {\n        console.log(\"Arkose failed:\", response);\n        ChatGPTBot._arkosePromise.reject(response);\n      },\n    });\n  }\n\n  async getArkoseToken() {\n    if (ChatGPTBot._myEnforcement) {\n      return new Promise((resolve, reject) => {\n        ChatGPTBot._arkosePromise = { resolve, reject };\n        ChatGPTBot._myEnforcement.run();\n      });\n    } else {\n      return null;\n    }\n  }\n\n  async _sendPrompt(prompt, onUpdateResponse, callbackParam) {\n    // Make sure the access token is available\n    if (!this.accessToken) await this.checkAvailability();\n\n    // Send the prompt to the ChatGPT API\n    const headers = {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${this.accessToken}`,\n    };\n    const context = await this.getChatContext();\n    const payload = JSON.stringify({\n      action: \"next\",\n      arkose_token: await this.getArkoseToken(),\n      messages: [\n        {\n          id: uuidv4(),\n          author: { role: \"user\" },\n          content: {\n            content_type: \"text\",\n            parts: [prompt],\n          },\n        },\n      ],\n      conversation_id: context.conversationId,\n      parent_message_id: context.parentMessageId,\n      model: this.constructor._model,\n      history_and_training_disabled: false, // allow training\n    });\n\n    return new Promise((resolve, reject) => {\n      try {\n        const source = new SSE(\n          \"https://chat.openai.com/backend-api/conversation\",\n          { headers, payload },\n        );\n\n        let preInfo = [];\n        source.addEventListener(\"message\", (event) => {\n          const regex = /^\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}\\.\\d{6}$/;\n          if (event.data.trim() === \"[DONE]\") {\n            onUpdateResponse(callbackParam, { done: true });\n            source.close();\n            resolve();\n          } else if (regex.test(event.data)) {\n            // Ignore the timestamp\n            return;\n          } else\n            try {\n              const data = JSON.parse(event.data);\n              this.setChatContext({\n                conversationId: data.conversation_id,\n                parentMessageId: data.message_id,\n              });\n              const content = data.message?.content;\n              if (\n                content?.content_type === \"code\" ||\n                content?.content_type === \"system_error\"\n              ) {\n                // Preprocessing info\n                onUpdateResponse(callbackParam, {\n                  content:\n                    \"```python\\n\" +\n                    preInfo.join(\"\\n\") +\n                    (preInfo.length > 0 ? \"\\n\" : \"\") +\n                    content.text +\n                    \"\\n```\",\n                  done: false,\n                });\n                if (data.message.status === \"finished_successfully\")\n                  preInfo.push(content.text);\n              } else if (content?.content_type === \"text\") {\n                // The final response\n                let text = content.parts[0];\n\n                if (preInfo.length > 0)\n                  text = \"```python\\n\" + preInfo.join(\"\\n\") + \"\\n```\\n\" + text;\n\n                const citations = data.message.metadata?.citations;\n                if (citations) {\n                  citations.forEach((element) => {\n                    text += `\\n> 1. [${element.metadata.title}](${element.metadata.url})`;\n                  });\n                }\n\n                onUpdateResponse(callbackParam, {\n                  content: text,\n                  done: false,\n                });\n              }\n            } catch (error) {\n              console.error(\"Error parsing ChatGPT response:\", error);\n              console.error(\"ChatGPT response:\", event);\n              return;\n            }\n        });\n\n        source.addEventListener(\"error\", (error) => {\n          source.close();\n\n          let message = \"\";\n          if (error.data) {\n            try {\n              const data = JSON.parse(error.data);\n              message = data.detail?.message || data.detail;\n            } catch (e) {\n              const parser = new DOMParser();\n              const doc = parser.parseFromString(error.data, \"text/html\");\n              const msg = doc.querySelector(\".message p\");\n              message = msg ? msg.textContent + \". \" : \"\";\n              const explanation = doc.querySelector(\".explanation\");\n              message += explanation ? explanation.textContent : \"\";\n            }\n          } else {\n            message = error.source.url;\n          }\n\n          reject(new Error(message));\n        });\n\n        source.stream();\n      } catch (error) {\n        reject(error);\n      }\n    });\n  }\n}\n","import LangChainBot from \"@/bots/LangChainBot\";\nimport store from \"@/store\";\nimport { ChatOpenAI } from \"langchain/chat_models/openai\";\n\nexport default class OpenAIAPIBot extends LangChainBot {\n  static _brandId = \"openaiApi\";\n  static _className = \"OpenAIAPIBot\";\n\n  constructor() {\n    super();\n  }\n\n  async _checkAvailability() {\n    let available = false;\n\n    if (store.state.openaiApi.apiKey) {\n      const chatModel = new ChatOpenAI({\n        configuration: {\n          basePath: store.state.openaiApi.alterUrl\n            ? store.state.openaiApi.alterUrl\n            : \"\",\n        },\n        openAIApiKey: store.state.openaiApi.apiKey,\n        modelName: this.constructor._model ? this.constructor._model : \"\",\n        temperature: store.state.openaiApi.temperature,\n        streaming: true,\n      });\n      this.constructor._chatModel = chatModel;\n      available = true;\n    }\n    return available;\n  }\n\n  getPastRounds() {\n    return store.state.openaiApi.pastRounds;\n  }\n}\n","import Bot from \"@/bots/Bot\";\nimport axios from \"axios\";\nimport md5 from \"md5\";\nimport WebSocketAsPromised from \"websocket-as-promised\";\nimport AsyncLock from \"async-lock\";\nimport store from \"@/store\";\n\nexport default class PoeBot extends Bot {\n  static _brandId = \"poe\"; // Brand id of the bot, should be unique. Used in i18n.\n  static _className = \"PoeBot\"; // Class name of the bot\n  static _logoFilename = \"default-logo.svg\"; // Place it in public/bots/\n  static _loginUrl = \"https://poe.com/\";\n  static _lock = new AsyncLock();\n\n  context = {\n    buildId: \"\",\n    chatId: 0,\n    settings: null,\n    lastMessageId: 0,\n  };\n\n  constructor() {\n    super();\n  }\n\n  async gqlPost(queryName, variables) {\n    const { settings } = this.context;\n    const formkey = store.state.poe.formkey;\n    const queryHashs = {\n      AnnotateWithIdsProviderQuery:\n        \"b4e6992c3af8f208ab2b3979dce48889835736ed29f623ea9f609265018d0d8f\",\n      chatHelpers_sendMessageMutation_Mutation:\n        \"dc684d8e0aab4cee82ed40ef7381b40cc31b1dd3afdf0e5c0a500364994fed8b\",\n      ChatListPaginationQuery:\n        \"c2e523bd328fee74768a0356481ba24da372b2e54d07820bcd0d439b2bd60495\",\n      subscriptionsMutation:\n        \"61c1bfa1ba167fd0857e3f6eaf9699e847e6c3b09d69926b12b5390076fe36e6\",\n    };\n\n    const payload = {\n      extensions: { hash: queryHashs[queryName] },\n      queryName,\n      variables,\n    };\n    const tagId = md5(JSON.stringify(payload) + formkey + \"4LxgHM6KpFqokX0Ox\");\n    const headers = {\n      \"Content-Type\": \"application/json\",\n      \"poe-formkey\": formkey,\n      \"poe-tchannel\": settings.tchannelData.channel,\n      \"poe-tag-id\": tagId,\n    };\n\n    const response = await axios.post(\"https://poe.com/api/gql_POST\", payload, {\n      headers,\n    });\n\n    return response.data;\n  }\n  /**\n   * Check whether the bot is logged in, settings are correct, etc.\n   * @returns {boolean} - true if the bot is available, false otherwise.\n   */\n  async _checkAvailability() {\n    let available = false;\n\n    const modelHandles = {\n      a2: \"Claude-instant\",\n      a2_100k: \"Claude-instant-100k\",\n      a2_2: \"Claude-2-100k\",\n      capybara: \"Assistant\",\n      chinchilla: \"ChatGPT\",\n      beaver: \"GPT-4\",\n      vizcacha: \"GPT-4-32k\",\n    };\n    const url =\n      this.constructor._loginUrl + modelHandles[this.constructor._model];\n\n    try {\n      const response = await axios.get(url);\n\n      // Parse buildId\n      const buildId = response.data.match(/\"buildId\":\"(.*?)\",/);\n      this.context.buildId = buildId[1];\n\n      // Parse chatId\n      const chatId = response.data.match(/\"chatId\":(\\d+),/);\n      this.context.chatId = chatId[1];\n\n      available = true;\n    } catch (error) {\n      console.error(\"Error checking Poe login status:\", error);\n    }\n\n    return available;\n  }\n\n  /**\n   * Send a prompt to the bot and call onResponse(response, callbackParam)\n   * when the response is ready.\n   * @param {string} prompt\n   * @param {function} onUpdateResponse params: callbackParam, Object {content, done}\n   * @param {object} callbackParam - Just pass it to onUpdateResponse() as is\n   */\n  async _sendPrompt(prompt, onUpdateResponse, callbackParam) {\n    const ctx = this.context;\n\n    // Get settings\n    if (!ctx.settings) {\n      await axios.get(\"https://poe.com/api/settings\").then((response) => {\n        ctx.settings = response.data;\n      });\n    }\n\n    return new Promise((resolve, reject) => {\n      try {\n        const subDomain = \"tch\" + Math.floor(Math.random() * 1000000);\n        const tchannel = ctx.settings.tchannelData;\n        const url = `wss://${subDomain}.tch.${tchannel.baseHost}/up/${tchannel.boxName}/updates?min_seq=${tchannel.minSeq}&channel=${tchannel.channel}&hash=${tchannel.channelHash}`;\n        const wsp = new WebSocketAsPromised(url, {\n          packMessage: (data) => {\n            return JSON.stringify(data);\n          },\n          unpackMessage: (data) => {\n            return JSON.parse(data);\n          },\n        });\n\n        // Subscribe to messageAdded\n        this.gqlPost(\"subscriptionsMutation\", {\n          subscriptions: [\n            {\n              subscriptionName: \"messageAdded\",\n              query: null,\n              queryHash:\n                \"b6ce35c2b568d42105983f4025b279fdbda53f842e1e13c6a9b69710272a0129\",\n            },\n          ],\n        });\n\n        console.debug(\"context\", ctx);\n\n        wsp.onUnpackedMessage.addListener((message) => {\n          if (message.error) {\n            reject(new Error(message.error));\n            return;\n          }\n          ctx.settings.tchannelData.minSeq = message.min_seq;\n          const messages = message.messages.map((m) => JSON.parse(m));\n          for (const m of messages) {\n            if (m.message_type === \"subscriptionUpdate\") {\n              const messageAdded = m.payload.data.messageAdded;\n              if (!messageAdded) {\n                console.debug(m);\n                continue;\n              }\n              if (\n                ctx.lastMessageId >= messageAdded.messageId ||\n                messageAdded.author !== this.constructor._model\n              ) {\n                // Skip old messages and messages from other bots\n                continue;\n              }\n\n              const done = messageAdded.state === \"complete\";\n              onUpdateResponse(callbackParam, {\n                content: messageAdded.text,\n                done,\n              });\n              if (done) {\n                ctx.lastMessageId = messageAdded.messageId;\n                wsp.removeAllListeners();\n                resolve();\n              }\n            } else {\n              console.log(\"Unknown message type:\", m.message_type, m);\n            }\n          }\n        });\n\n        wsp.onError.addListener((error) => {\n          wsp.removeAllListeners();\n          wsp.close();\n          reject(error);\n        });\n\n        wsp.open();\n\n        this.gqlPost(\"chatHelpers_sendMessageMutation_Mutation\", {\n          bot: this.constructor._model,\n          chatId: ctx.chatId,\n          query: prompt,\n          source: null,\n          withChatBreak: false,\n        })\n          .then((response) => {\n            const status = response.data.messageEdgeCreate.status;\n            if (response.errors) {\n              let msg = \"\";\n              for (const error of response.errors) {\n                msg += error.message + \"\\n\";\n              }\n              reject(new Error(msg));\n            } else if (status !== \"success\") {\n              reject(new Error(status));\n            }\n            console.debug(\"response\", response);\n          })\n          .catch((error) => {\n            reject(error);\n          });\n      } catch (error) {\n        reject(error);\n      }\n    });\n  }\n\n  /**\n   * Should implement this method if the bot supports conversation.\n   * The conversation structure is defined by the subclass.\n   * @param null\n   * @returns {any} - Conversation structure. null if not supported.\n   */\n  async createChatContext() {\n    return null;\n  }\n}\n","export const Type = {\n  Text: 0,\n  Slider: 1,\n  Select: 2,\n};\n","import { ref, onUnmounted } from \"vue\";\n\nexport function getMatomo() {\n  return window.Piwik?.getAsyncTracker();\n}\n\nexport function useMatomo() {\n  const matomo = ref(null);\n\n  const instance = getMatomo();\n  if (instance) {\n    matomo.value = instance;\n  } else {\n    const interval = 50;\n    const timeout = 10000;\n    const start = Date.now();\n\n    const timer = setInterval(() => {\n      const instance = getMatomo();\n      if (instance) {\n        clearInterval(timer);\n        matomo.value = instance;\n        return;\n      }\n\n      if (Date.now() - start > timeout) {\n        clearInterval(timer);\n        console.warn(`Matomo not loaded after waiting for ${timeout}ms`);\n      }\n    }, interval);\n\n    onUnmounted(() => {\n      clearInterval(timer);\n    });\n  }\n\n  return matomo;\n}\n","import { createI18n } from \"vue-i18n\";\n\n// Import stored language\nimport store from \"../store\";\nvar lang = store.state.lang;\nif (lang == \"auto\") {\n  lang = navigator.language || navigator.userLanguage || \"en\";\n  lang = lang.substr(0, 2); // Only use the first two characters (e.g. \"en\")\n}\n\n// Import translation files here\nimport enMessages from \"./locales/en.json\";\nimport zhMessages from \"./locales/zh.json\";\nimport deMessages from \"./locales/de.json\";\nimport ruMessages from \"./locales/ru.json\";\nimport viMessages from \"./locales/vi.json\";\nimport frMessages from \"./locales/fr.json\";\nimport itMessages from \"./locales/it.json\";\nimport koMessages from \"./locales/ko.json\";\nimport esMessages from \"./locales/es.json\";\nimport jaMessages from \"./locales/ja.json\";\n\nconst messages = {\n  en: enMessages,\n  zh: zhMessages,\n  de: deMessages,\n  ru: ruMessages,\n  vi: viMessages,\n  it: itMessages,\n  fr: frMessages,\n  ko: koMessages,\n  es: esMessages,\n  ja: jaMessages,\n};\n\nconst i18n = createI18n({\n  legacy: false, // Vuetify does not support the legacy mode of vue-i18n\n  locale: lang,\n  fallbackLocale: \"en\",\n  messages,\n});\n\nexport default i18n;\n","import { createApp } from \"vue\";\nimport App from \"./App.vue\";\nimport i18n from \"./i18n\";\nimport store from \"./store\";\nimport { createVueI18nAdapter } from \"vuetify/locale/adapters/vue-i18n\";\nimport { useI18n } from \"vue-i18n\";\nimport \"material-design-icons/iconfont/material-icons.css\";\nimport VueMatomo from \"vue-matomo\";\nimport VueShortkey from \"vue3-shortkey\";\nimport { resolveTheme, applyTheme } from \"./theme\";\n\n// Vuetify\nimport \"vuetify/styles\";\nimport { createVuetify } from \"vuetify\";\nimport * as components from \"vuetify/components\";\nimport * as directives from \"vuetify/directives\";\nimport { VDataTable } from \"vuetify/labs/VDataTable\";\n\n// VMdPreview\nimport VMdPreview from \"@kangc/v-md-editor/lib/preview\";\nimport \"@kangc/v-md-editor/lib/style/preview.css\";\nimport \"@kangc/v-md-editor/lib/theme/style/vuepress.css\";\nimport createLineNumbertPlugin from \"@kangc/v-md-editor/lib/plugins/line-number/index\";\nimport createCopyCodePlugin from \"@kangc/v-md-editor/lib/plugins/copy-code/index\";\nimport \"@kangc/v-md-editor/lib/plugins/copy-code/copy-code.css\";\nimport \"@kangc/v-md-editor/lib/style/base-editor.css\";\nimport vuepressTheme from \"@kangc/v-md-editor/lib/theme/vuepress.js\";\nimport \"@kangc/v-md-editor/lib/theme/style/github.css\";\nimport Prism from \"prismjs\";\nimport createKatexPlugin from \"@kangc/v-md-editor/lib/plugins/katex/npm\";\n\nVMdPreview.use(vuepressTheme, {\n  Prism,\n})\n  .use(createLineNumbertPlugin())\n  .use(createCopyCodePlugin())\n  .use(createKatexPlugin());\n\nconst { ipcRenderer } = window.require(\"electron\");\n\n// Init storage\nstore.commit(\"init\");\n\nconst defaultTheme = await resolveTheme(store.state.mode, ipcRenderer);\nstore.commit(\"setTheme\", defaultTheme);\napplyTheme(defaultTheme);\n\nconst vuetify = createVuetify({\n  components: { ...components, VDataTable },\n  directives,\n  locale: {\n    adapter: createVueI18nAdapter({ i18n, useI18n }),\n  },\n  theme: {\n    defaultTheme: defaultTheme,\n    themes: {\n      light: {\n        colors: {\n          primary: \"#062AAA\",\n          surface: \"#FFFFFF\",\n          background: \"#f3f3f3\",\n          \"surface-variant\": \"#fff\",\n          \"on-surface-variant\": \"#212121\",\n          header: \"#fff\",\n          prompt: \"#95ec69\",\n          response: \"#fff\",\n          font: \"#212121\",\n          \"table-tr-2n\": \"#F6F8FA\",\n          \"code-font\": \"#476582\",\n          \"code-background\": \"#F3F4F4\",\n        },\n      },\n      dark: {\n        dark: true,\n        colors: {\n          primary: \"#ececf1\",\n          surface: \"#292a2d\",\n          background: \"#1a1a20\",\n          \"surface-variant\": \"#131419\",\n          \"on-surface-variant\": \"#fff\",\n          header: \"#292a2d\",\n          prompt: \"#222329\",\n          response: \"#131419\",\n          font: \"#fff\",\n          \"table-tr-2n\": \"#1d1e20\",\n          \"code-font\": \"#cbdae6\",\n          \"code-background\": \"#292a2d\",\n        },\n      },\n    },\n  },\n});\n\n// Inject geetest script for iFlytek Spark\nfetch(\"https://static.geetest.com/g5/gd.js\")\n  .then((response) => response.text())\n  .then((text) => {\n    const script = document.createElement(\"script\");\n    script.textContent = text;\n    document.head.appendChild(script);\n  });\n\ncreateApp(App)\n  .use(i18n)\n  .use(store)\n  .use(vuetify)\n  .use(VMdPreview)\n  .use(VueShortkey)\n  .use(VueMatomo, {\n    // Configure your matomo server and site by providing\n    host: \"https://matomo.chatall.ai/\",\n    siteId: 1,\n\n    // Changes the default .js and .php endpoint's filename\n    // Default: 'matomo'\n    trackerFileName: \"matomo\",\n\n    // Overrides the autogenerated tracker endpoint entirely\n    // Default: undefined\n    // trackerUrl: 'https://example.com/whatever/endpoint/you/have',\n\n    // Overrides the autogenerated tracker script path entirely\n    // Default: undefined\n    // trackerScriptUrl: 'https://example.com/whatever/script/path/you/have',\n\n    // Enables automatically registering pageviews on the router\n    router: null,\n\n    // Enables link tracking on regular links. Note that this won't\n    // work for routing links (ie. internal Vue router links)\n    // Default: true\n    enableLinkTracking: true,\n\n    // Require consent before sending tracking information to matomo\n    // Default: false\n    requireConsent: false,\n\n    // Whether to track the initial page view\n    // Default: true\n    trackInitialView: true,\n\n    // Run Matomo without cookies\n    // Default: false\n    disableCookies: true,\n\n    // Require consent before creating matomo session cookie\n    // Default: false\n    requireCookieConsent: false,\n\n    // Enable the heartbeat timer (https://developer.matomo.org/guides/tracking-javascript-guide#accurately-measure-the-time-spent-on-each-page)\n    // Default: false\n    enableHeartBeatTimer: false,\n\n    // Set the heartbeat timer interval\n    // Default: 15\n    heartBeatTimerInterval: 15,\n\n    // Whether or not to log debug information\n    // Default: false\n    debug: false,\n\n    // UserID passed to Matomo (see https://developer.matomo.org/guides/tracking-javascript-guide#user-id)\n    // Default: undefined\n    userId: undefined,\n\n    // Share the tracking cookie across subdomains (see https://developer.matomo.org/guides/tracking-javascript-guide#measuring-domains-andor-sub-domains)\n    // Default: undefined, example '*.example.com'\n    cookieDomain: undefined,\n    // setDomains: [\".\", \"localhost\", \"127.0.0.1\"],\n    // enableCrossDomainLinking: true,\n\n    // Tell Matomo the website domain so that clicks on these domains are not tracked as 'Outlinks'\n    // Default: undefined, example: '*.example.com'\n    domains: \"*\",\n\n    // A list of pre-initialization actions that run before matomo is loaded\n    // Default: []\n    // Example: [\n    //   ['API_method_name', parameter_list],\n    //   ['setCustomVariable','1','VisitorType','Member'],\n    //   ['appendToTrackingUrl', 'new_visit=1'],\n    //   etc.\n    // ]\n    preInitActions: [\n      [\n        \"setCustomVariable\",\n        \"1\",\n        \"AppVersion\",\n        require(\"../package.json\").version,\n        \"visit\",\n      ],\n    ],\n\n    // A function to determine whether to track an interaction as a site search\n    // instead of as a page view. If not a function, all interactions will be\n    // tracked as page views. Receives the new route as an argument, and\n    // returns either an object of keyword, category (optional) and resultsCount\n    // (optional) to track as a site search, or a falsey value to track as a page\n    // view.\n    // Default: false, i.e. track all interactions as page views\n    // Example: (to) => {\n    //   if (to.query.q && to.name === 'search') {\n    //     return { keyword: to.query.q, category: to.params.category }\n    //   } else {\n    //    return null\n    //   }\n    // }\n    trackSiteSearch: false,\n\n    // Set this to include crossorigin attribute on the matomo script import\n    // Default: undefined, possible values : 'anonymous', 'use-credentials'\n    crossOrigin: undefined,\n  })\n  .mount(\"#app\");\n","// store/messagesPersist.js\nimport VuexPersist from \"vuex-persist\";\n\nconst messagesPersist = new VuexPersist({\n  key: \"chatall-messages\",\n  storage: window.localStorage,\n  reducer: (state) => ({ messages: state.messages, chats: state.chats }), // Store only messages and chats\n});\n\nexport default messagesPersist;\n","// store/promptsPersist.js\nimport VuexPersist from \"vuex-persist\";\n\nconst promptsPersist = new VuexPersist({\n  key: \"chatall-prompts\",\n  storage: window.localStorage,\n  reducer: (state) => ({ prompts: state.prompts }), // Store prompts\n});\n\nexport default promptsPersist;\n","import { createStore } from \"vuex\";\nimport VuexPersist from \"vuex-persist\";\nimport i18n from \"@/i18n\";\nimport messagesPersist from \"./messagesPersist\";\nimport promptsPersist from \"./promptsPersist\";\nimport { getMatomo } from \"@/composables/matomo\";\n\nlet isThrottleMessage = false;\nlet isThrottleThreadMessage = false;\nlet messageBuffer = [];\nlet threadMessageBuffer = [];\n//  VuexPersist \nconst vuexPersist = new VuexPersist({\n  key: \"chatall-app\", // \n  storage: window.localStorage, //  localStorage sessionStorage\n  reducer: (state) => {\n    /* eslint-disable no-unused-vars */\n    const {\n      messages,\n      chats,\n      prompts,\n      updateCounter,\n      selectedResponses,\n      ...persistedState\n    } = state;\n    /* eslint-enable no-unused-vars */\n    return persistedState;\n  },\n});\n\nexport default createStore({\n  state: {\n    uuid: \"\",\n    lang: \"auto\",\n    columns: 2,\n    openaiApi: {\n      apiKey: \"\",\n      temperature: 1,\n      pastRounds: 5,\n      alterUrl: \"\",\n    },\n    azureOpenaiApi: {\n      azureApiKey: \"\",\n      temperature: 1,\n      pastRounds: 5,\n      azureApiInstanceName: \"\",\n      azureOpenAIApiDeploymentName: \"\",\n      azureOpenAIApiVersion: \"\",\n    },\n    chatgpt: {\n      refreshCycle: 0,\n      riskConfirmed: false,\n    },\n    gradio: {\n      url: \"\",\n      fnIndex: 0,\n    },\n    moss: {\n      token: \"\",\n    },\n    chatGlm: {\n      token: \"\",\n    },\n    qianWen: {\n      xsrfToken: \"\",\n    },\n    skyWork: {\n      inviteToken: \"\",\n      token: \"\",\n    },\n    wenxinQianfan: {\n      apiKey: \"\",\n      secretKey: \"\",\n      pastRounds: 5,\n    },\n    characterAI: {\n      token: \"\",\n      ttl: 0,\n    },\n    claudeAi: {\n      org: \"\",\n    },\n    poe: {\n      formkey: \"\",\n    },\n    falcon: {\n      temperature: 0.9,\n      maxNewTokens: 256,\n      topP: 0.9,\n      repetitionPenalty: 1.2,\n    },\n    phind: {\n      model: \"Phind Model\",\n    },\n    chats: [\n      {\n        title: \"New Chat\",\n        favBots: [\n          // default bots\n          { classname: \"ChatGPT35Bot\", selected: true },\n          { classname: \"ChatGPT4Bot\", selected: true },\n          { classname: \"BingChatCreativeBot\", selected: true },\n          { classname: \"BingChatBalancedBot\", selected: true },\n          { classname: \"BingChatPreciseBot\", selected: true },\n          { classname: \"BardBot\", selected: true },\n          { classname: \"ClaudeInstantPoeBot\", selected: true },\n          { classname: \"FalconHC180bBot\", selected: true },\n          { classname: \"Llama270bBot\", selected: true },\n          { classname: \"VicunaBot\", selected: true },\n        ],\n        contexts: {},\n        messages: [],\n        threads: [],\n        hide: false,\n        createdTime: new Date().getTime(),\n      },\n    ],\n    currentChatIndex: 0,\n    updateCounter: 0,\n    theme: undefined,\n    mode: \"system\",\n    isChatDrawerOpen: true,\n    // TODO: delete following fields\n    selectedBots: null,\n    messages: [],\n    prompts: [],\n    actions: [\n      {\n        name: \"Summarize 1\",\n        prefix:\n          \"Summarize the data below in a markdown table with the bot name, difference, and response rating (1-5) columns.\\nDo not include the response' value column in your table.\\nSimplify the data and identify the differences.\\nEach response is delimited by the `resp` tag.\\nInside every response, the bot's name is delimited by the `name` tag, and the bot's response is delimited by the `value` tag.\",\n        template:\n          \"<resp>\\n  <name>{botName}</name>\\n  <value>{botResponse}</value>\\n</resp>\",\n        suffix: \"Give me the best response.\",\n        index: 0,\n      },\n    ],\n    selectedResponses: [],\n  },\n  mutations: {\n    changeColumns(state, n) {\n      state.columns = n;\n    },\n    setUuid(state, uuid) {\n      state.uuid = uuid;\n    },\n    setBotSelected(state, { botClassname, selected }) {\n      const currentChat = state.chats[state.currentChatIndex];\n      const bot = currentChat.favBots.find(\n        (bot) => bot.classname === botClassname,\n      );\n      if (bot) bot.selected = selected;\n      else currentChat.favBots.push({ classname: botClassname, selected });\n    },\n    setFavBotOrder(state, newOrder) {\n      const currentChat = state.chats[state.currentChatIndex];\n      newOrder.forEach((botClassname, order) => {\n        const bot = currentChat.favBots.find(\n          (bot) => bot.classname === botClassname,\n        );\n        if (bot) bot.order = order;\n      });\n    },\n    addFavoriteBot(state, botClassname) {\n      const currentChat = state.chats[state.currentChatIndex];\n      const favBots = currentChat.favBots;\n      if (favBots.find((bot) => bot.classname === botClassname) == undefined)\n        favBots.push({ classname: botClassname, selected: true });\n    },\n    removeFavoriteBot(state, botClassname) {\n      const currentChat = state.chats[state.currentChatIndex];\n      const favBots = currentChat.favBots;\n      const index = favBots.findIndex((bot) => bot.classname === botClassname);\n      favBots.splice(index, 1);\n    },\n    setCurrentLanguage(state, language) {\n      state.lang = language;\n      i18n.global.locale = language;\n    },\n    setChatgpt(state, refreshCycle) {\n      state.chatgpt.refreshCycle = refreshCycle;\n    },\n    setOpenaiApi(state, values) {\n      state.openaiApi = { ...state.openaiApi, ...values };\n    },\n    setAzureOpenaiApi(state, values) {\n      state.azureOpenaiApi = { ...state.azureOpenaiApi, ...values };\n    },\n    setMoss(state, token) {\n      state.moss.token = token;\n    },\n    setChatGLM(state, token) {\n      state.chatGlm = { ...state.chatGlm, ...token };\n    },\n    setQianWenToken(state, token) {\n      state.qianWen.xsrfToken = token;\n    },\n    setSkyWork(state, tokens) {\n      state.skyWork = { ...state.skyWork, ...tokens };\n    },\n    setWenxinQianfan(state, values) {\n      state.wenxinQianfan = { ...state.wenxinQianfan, ...values };\n    },\n    setGradio(state, values) {\n      state.gradio = { ...state.gradio, ...values };\n    },\n    setCharacterAI(state, values) {\n      state.characterAI = { ...state.characterAI, ...values };\n    },\n    setClaudeAi(state, values) {\n      state.claudeAi = { ...state.claudeAi, ...values };\n    },\n    setPoe(state, values) {\n      state.poe = { ...state.poe, ...values };\n    },\n    setPhind(state, values) {\n      state.phind = { ...state.phind, ...values };\n    },\n    setLatestPromptIndex(state, promptIndex) {\n      const currentChat = state.chats[state.currentChatIndex];\n      currentChat.latestPromptIndex = promptIndex;\n    },\n    setLatestThreadPromptIndex(state, { threadIndex, promptIndex }) {\n      const currentChat =\n        state.chats[state.currentChatIndex].threads[threadIndex];\n      currentChat.latestPromptIndex = promptIndex;\n    },\n    setResponseThreadIndex(state, { responseIndex, threadIndex }) {\n      const currentChat = state.chats[state.currentChatIndex];\n      currentChat.messages[responseIndex].threadIndex = threadIndex;\n    },\n    updateMessage(state) {\n      messageBuffer.forEach((update) => {\n        const { indexes, message } = update;\n        const { chatIndex, messageIndex } = indexes;\n        const i = chatIndex == -1 ? state.currentChatIndex : chatIndex;\n        const chat = state.chats[i];\n        chat.messages[messageIndex] = {\n          ...chat.messages[messageIndex],\n          ...message,\n        };\n      });\n      messageBuffer = [];\n      isThrottleMessage = false;\n    },\n    updateThreadMessage(state) {\n      threadMessageBuffer.forEach((update) => {\n        const { indexes, message } = update;\n        const { chatIndex, messageIndex, threadIndex } = indexes;\n        const i = chatIndex == -1 ? state.currentChatIndex : chatIndex;\n        const chat = state.chats[i];\n        chat.threads[threadIndex].messages[messageIndex] = {\n          ...chat.threads[threadIndex].messages[messageIndex],\n          ...message,\n        };\n      });\n      threadMessageBuffer = [];\n      isThrottleThreadMessage = false;\n    },\n    setMessages(state, messages) {\n      const currentChat = state.chats[state.currentChatIndex];\n      currentChat.messages = messages;\n    },\n    incrementUpdateCounter(state) {\n      state.updateCounter += 1;\n    },\n    setChatContext(state, { botClassname, context }) {\n      const currentChat = state.chats[state.currentChatIndex];\n      if (currentChat.contexts == undefined) currentChat.contexts = {};\n      currentChat.contexts[botClassname] = context;\n    },\n    clearMessages(state) {\n      const currentChat = state.chats[state.currentChatIndex];\n      currentChat.contexts = {};\n      currentChat.messages = [];\n      currentChat.threads = [];\n    },\n    init(state) {\n      // Upgrade messages data structure\n      if (state.messages.length > 0) {\n        const chat = {\n          title: i18n.global.t(\"chat.newChat\"),\n          contexts: {},\n          messages: state.messages,\n        };\n        state.chats[0] = chat;\n        state.messages = [];\n      }\n      // Migrate to favorited bots\n      if (state.selectedBots) {\n        const bots = Object.keys(state.selectedBots);\n        state.chats[0].favBots = [];\n        for (const bot of bots) {\n          if (state.selectedBots[bot])\n            state.chats[0].favBots.push({ classname: bot, selected: true });\n        }\n        state.selectedBots = null;\n      }\n      if (state.chats[0].threads === undefined) {\n        state.chats[0].threads = [];\n      }\n      if (state.chats[0].index === undefined) {\n        state.chats[0].index = 0;\n        state.chats[0].createdTime = new Date().getTime();\n        state.isChatDrawerOpen = true;\n      }\n    },\n    setTheme(state, theme) {\n      state.theme = theme;\n    },\n    setMode(state, mode) {\n      state.mode = mode;\n    },\n    createChat(state) {\n      const { favBots } = state.chats[state.currentChatIndex];\n      const chatIndex =\n        state.chats.push({\n          favBots,\n          contexts: {},\n          messages: [],\n          threads: [],\n          createdTime: new Date().getTime(),\n        }) - 1;\n      state.chats[chatIndex].index = chatIndex;\n      state.chats[chatIndex].title = `${i18n.global.t(\"chat.newChat\")} ${\n        chatIndex + 1\n      }`;\n    },\n    selectChat(state, index) {\n      state.currentChatIndex = index;\n    },\n    hideChat(state) {\n      state.chats[state.currentChatIndex].hide = true;\n    },\n    editChatTitle(state, { title, isEditedByUser = false }) {\n      if (isEditedByUser) {\n        state.chats[state.currentChatIndex].title = title;\n        state.chats[state.currentChatIndex].isTitleUserEdited = true;\n      } else {\n        if (!state.chats[state.currentChatIndex].isTitleUserEdited) {\n          // if user has not edit title before, set title\n          state.chats[state.currentChatIndex].title = title;\n        } // else do not overwrite user title\n      }\n    },\n    setIsChatDrawerOpen(state, isChatDrawerOpen) {\n      state.isChatDrawerOpen = isChatDrawerOpen;\n    },\n    deleteChats(state) {\n      const { favBots } = state.chats[state.currentChatIndex];\n      const newChats = [\n        {\n          favBots,\n          contexts: {},\n          messages: [],\n          threads: [],\n          index: 0,\n          title: i18n.global.t(\"chat.newChat\"),\n          createdTime: new Date().getTime(),\n        },\n      ];\n      state.chats = newChats;\n      state.currentChatIndex = 0;\n    },\n    addPrompt(state, values) {\n      const addPrompt = { ...values };\n      addPrompt.index = state.prompts.push(addPrompt) - 1;\n    },\n    editPrompt(state, values) {\n      const { index } = values;\n      state.prompts[index] = { ...state.prompts[index], ...values };\n    },\n    deletePrompt(state, values) {\n      state.prompts[values.index].hide = true;\n    },\n    addAction(state, values) {\n      const addAction = { ...values };\n      addAction.index = state.actions.push(addAction) - 1;\n    },\n    editAction(state, values) {\n      const { index } = values;\n      state.actions[index] = { ...state.actions[index], ...values };\n    },\n    deleteAction(state, values) {\n      state.actions[values.index].hide = true;\n    },\n    addSelectedResponses(state, value) {\n      value.selectedIndex = state.selectedResponses.push(value) - 1;\n    },\n    deleteSelectedResponses(state, value) {\n      const index = state.selectedResponses.findIndex(\n        (r) => r.selectedIndex === value,\n      );\n      state.selectedResponses.splice(index, 1);\n    },\n    deleteAllSelectedResponses(state) {\n      state.selectedResponses = [];\n    },\n  },\n  actions: {\n    sendPrompt({ commit, state, dispatch }, { prompt, bots, promptIndex }) {\n      isThrottleMessage = false;\n      const currentChat = state.chats[state.currentChatIndex];\n      if (promptIndex === undefined) {\n        // if promptIndex not found, not resend, push to messages array\n        const promptMessage = {\n          type: \"prompt\",\n          content: prompt,\n          done: true,\n          hide: false,\n        };\n        // add message\n        const index = currentChat.messages.push(promptMessage);\n        promptMessage.index = index - 1;\n        promptIndex = promptMessage.index;\n      }\n      commit(\"setLatestPromptIndex\", promptIndex); // to keep track of the latest prompt index for hiding old prompt's resend button\n\n      for (const bot of bots) {\n        const message = {\n          type: \"response\",\n          content: \"\",\n          format: bot.getOutputFormat(),\n          model: bot.constructor._model,\n          done: false,\n          highlight: false,\n          hide: false,\n          className: bot.getClassname(),\n          promptIndex: promptIndex,\n        };\n\n        // workaround for tracking message position\n        message.index = currentChat.messages.push(message) - 1;\n\n        bot.sendPrompt(\n          prompt,\n          (indexes, values) =>\n            dispatch(\"updateMessage\", { indexes, message: values }),\n          { chatIndex: state.currentChatIndex, messageIndex: message.index },\n        );\n\n        getMatomo()?.trackEvent(\n          \"prompt\",\n          \"sendTo\",\n          bot.getClassname(),\n          prompt.length,\n        );\n      }\n    },\n    sendPromptInThread(\n      { commit, state, dispatch },\n      { prompt, bot, responseIndex, threadIndex, promptIndex },\n    ) {\n      isThrottleThreadMessage = false;\n      const currentChat = state.chats[state.currentChatIndex];\n      let thread;\n      if (threadIndex !== undefined) {\n        // existing thread\n        thread = currentChat.threads[threadIndex];\n      } else {\n        // new thread\n        const newThreadMessage = {\n          responseIndex: responseIndex,\n          messages: [],\n        };\n        newThreadMessage.index = currentChat.threads.push(newThreadMessage) - 1;\n        thread = newThreadMessage;\n        threadIndex = thread.index;\n        // update threadIndex to response\n        commit(\"setResponseThreadIndex\", {\n          responseIndex,\n          threadIndex: thread.index,\n        });\n      }\n\n      if (promptIndex === undefined) {\n        // index starts at zero, using `if (!promptIndex)` will enter wrong condition for first time.\n        // if promptIndex not found, not resend, push to messages array\n        const threadPromptMessage = {\n          type: \"prompt\",\n          content: prompt,\n        };\n        // add message\n        threadPromptMessage.index =\n          thread.messages.push(threadPromptMessage) - 1;\n        promptIndex = threadPromptMessage.index;\n      }\n      commit(\"setLatestThreadPromptIndex\", {\n        threadIndex: thread.index,\n        promptIndex,\n      }); // to keep track of the latest prompt index for hiding old prompt's resend button\n\n      const threadResponseMessage = {\n        type: \"response\",\n        content: \"\",\n        format: bot.getOutputFormat(),\n        model: bot.constructor._model,\n        done: false,\n        highlight: false,\n        hide: false,\n        className: bot.getClassname(),\n        promptIndex: promptIndex,\n      };\n\n      // workaround for tracking message position\n      threadResponseMessage.index =\n        thread.messages.push(threadResponseMessage) - 1;\n\n      bot.sendPrompt(\n        prompt,\n        (indexes, values) =>\n          dispatch(\"updateThreadMessage\", { indexes, message: values }),\n        {\n          chatIndex: state.currentChatIndex,\n          messageIndex: threadResponseMessage.index,\n          threadIndex: threadIndex,\n        },\n      );\n\n      getMatomo()?.trackEvent(\n        \"prompt\",\n        \"replyTo\",\n        bot.getClassname(),\n        prompt.length,\n      );\n    },\n    updateMessage({ commit, state }, { indexes, message: values }) {\n      messageBuffer.push({ indexes, message: values });\n      if (!isThrottleMessage) {\n        isThrottleMessage = true;\n        setTimeout(() => {\n          commit(\"updateMessage\");\n          commit(\"incrementUpdateCounter\");\n        }, 200); // save every 0.2 seconds\n      }\n      if (values.done) {\n        const i =\n          indexes.chatIndex == -1 ? state.currentChatIndex : indexes.chatIndex;\n        const chat = state.chats[i];\n        const message = { ...chat.messages[indexes.messageIndex], ...values };\n        getMatomo()?.trackEvent(\n          \"prompt\",\n          \"received\",\n          message.className,\n          message.content.length,\n        );\n      }\n    },\n    updateThreadMessage({ commit, state }, { indexes, message: values }) {\n      threadMessageBuffer.push({ indexes, message: values });\n      if (!isThrottleThreadMessage) {\n        isThrottleThreadMessage = true;\n        setTimeout(() => {\n          commit(\"updateThreadMessage\");\n          commit(\"incrementUpdateCounter\");\n        }, 200); // save every 0.2 seconds\n      }\n      if (values.done) {\n        const i =\n          indexes.chatIndex == -1 ? state.currentChatIndex : indexes.chatIndex;\n        const chat = state.chats[i];\n        let message = { ...chat.threads[indexes.threadIndex], ...values };\n        getMatomo()?.trackEvent(\n          \"prompt\",\n          \"received\",\n          message.className,\n          message.content.length,\n        );\n      }\n    },\n    addSelectedResponses({ commit, state }, value) {\n      commit(\"addSelectedResponses\", value);\n      return state.selectedResponses.length - 1;\n    },\n    createChatAndSelect({ commit, state }) {\n      commit(\"createChat\");\n      commit(\"selectChat\", state.chats.length - 1);\n    },\n  },\n  getters: {\n    currentChat: (state) => {\n      if (state.chats.length === 0) {\n        return null;\n      }\n      return state.chats[state.currentChatIndex];\n    },\n    // get current chat prompt\n    getCurrentChatPrompt: (state, getters) => {\n      const messages = getters.currentChat.messages;\n      return messages.filter((message) => message?.type === \"prompt\");\n    },\n  },\n  modules: {\n    // ...\n  },\n  plugins: [vuexPersist.plugin, messagesPersist.plugin, promptsPersist.plugin], //  store\n});\n","const SYSTEM = \"system\";\nconst DARK = \"dark\";\nconst LIGHT = \"light\";\nexport const Theme = { DARK, LIGHT };\nexport const Mode = { SYSTEM, ...Theme };\n\n/**\n * Determine the actual theme for system mode\n * @param {string} mode\n * @param {object} ipcRenderer\n * @returns {string} resolved theme\n */\nexport const resolveTheme = async (mode, ipcRenderer) => {\n  let resolvedTheme = mode;\n  if (mode === Mode.SYSTEM) {\n    const nativeTheme = await ipcRenderer.invoke(\"get-native-theme\");\n    resolvedTheme = nativeTheme.shouldUseDarkColors ? Theme.DARK : Theme.LIGHT;\n  }\n  return resolvedTheme;\n};\n\n/**\n * Apply theme to UI\n * @param {string} theme dark / light\n * @param {object} vuetifyTheme from veutify useTheme\n */\nexport const applyTheme = (theme, vuetifyTheme) => {\n  if (vuetifyTheme) {\n    vuetifyTheme.global.name.value = theme; // vuetify theme\n  }\n};\n","const is_mac = process.platform === \"darwin\";\nconst modifier = is_mac ? \"meta\" : \"ctrl\";\nexport const SHORTCUT_PROMPT_TEXTAREA = {\n  elementId: \"prompt-textarea\",\n  key: [modifier, \"k\"],\n  offset: {\n    top: 15,\n  },\n  alignHorizontallyCenter: true,\n};\n\nexport const SHORTCUT_PROMPT_PRE_NEXT = {\n  elementId: \"prompt-textarea\",\n  key: [modifier, \"up/down\"],\n  offset: {\n    top: 15,\n    left: 100,\n  },\n  alignHorizontallyCenter: true,\n};\n\nexport const SHORTCUT_FIND = {\n  elementId: \"find-btn\",\n  key: [modifier, \"f\"],\n  offset: {\n    top: 40,\n  },\n  flexDirection: \"column\",\n};\n\nexport const SHORTCUT_CLEAR_MESSAGES = {\n  elementId: \"clear-messages-btn\",\n  key: [modifier, \"e\"],\n  offset: {\n    top: 40,\n  },\n  flexDirection: \"column\",\n};\n\nexport const SHORTCUT_SETTINGS = {\n  elementId: \"settings-btn\",\n  key: [modifier, \",\"],\n  offset: {\n    top: 40,\n  },\n  flexDirection: \"column\",\n};\n\nexport const SHORTCUT_SHORTCUT_GUIDE = {\n  elementId: \"shortcut-guide-btn\",\n  key: [modifier, \"/\"],\n  offset: {\n    top: 40,\n  },\n  flexDirection: \"column\",\n};\n\nexport const SHORTCUT_BOTS_MENU = {\n  elementId: \"bots-menu-btn\",\n  key: [\"ctrl\", \"tab\"],\n  offset: {\n    top: -70,\n  },\n  flexDirection: \"column\",\n};\n\nexport const SHORTCUT_CHAT_DRAWER = {\n  elementId: \"chat-drawer-btn\",\n  key: [modifier, \"d\"],\n  offset: {\n    top: 40,\n  },\n  flexDirection: \"column\",\n};\n\nexport const SHORTCUT_NEW_CHAT = {\n  elementId: \"new-chat-list-item\",\n  key: [modifier, \"n\"],\n  offset: {\n    top: 12,\n    left: 20,\n  },\n  alignHorizontallyCenter: true,\n};\n\nexport const SHORTCUT_PROMPT_MANAGEMENT = {\n  elementId: \"prompt-btn\",\n  key: [modifier, \"p\"],\n  offset: {\n    top: -65,\n    left: 5,\n  },\n  flexDirection: \"column\",\n};\n\nexport const SHORTCUT_LIST = [\n  SHORTCUT_FIND,\n  SHORTCUT_SETTINGS,\n  SHORTCUT_BOTS_MENU,\n  SHORTCUT_SHORTCUT_GUIDE,\n  SHORTCUT_CLEAR_MESSAGES,\n  SHORTCUT_PROMPT_TEXTAREA,\n  SHORTCUT_CHAT_DRAWER,\n  SHORTCUT_NEW_CHAT,\n  SHORTCUT_PROMPT_MANAGEMENT,\n  SHORTCUT_PROMPT_PRE_NEXT,\n  {\n    elementId: \"column-1\",\n    key: [\"f1\"],\n    offset: {\n      top: 30,\n    },\n  },\n  {\n    elementId: \"column-2\",\n    key: [\"f2\"],\n    offset: {\n      top: 30,\n    },\n  },\n  {\n    elementId: \"column-3\",\n    key: [\"f3\"],\n    offset: {\n      top: 30,\n    },\n  },\n  {\n    elementId: \"fav-bot-1\",\n    key: [modifier, \"1\"],\n    offset: {\n      top: -70,\n    },\n    flexDirection: \"column\",\n  },\n  {\n    elementId: \"fav-bot-2\",\n    key: [modifier, \"2\"],\n    offset: {\n      top: -70,\n    },\n    flexDirection: \"column\",\n  },\n  {\n    elementId: \"fav-bot-3\",\n    key: [modifier, \"3\"],\n    offset: {\n      top: -70,\n    },\n    flexDirection: \"column\",\n  },\n  {\n    elementId: \"fav-bot-4\",\n    key: [modifier, \"4\"],\n    offset: {\n      top: -70,\n    },\n    flexDirection: \"column\",\n  },\n  {\n    elementId: \"fav-bot-5\",\n    key: [modifier, \"5\"],\n    offset: {\n      top: -70,\n    },\n    flexDirection: \"column\",\n  },\n  {\n    elementId: \"fav-bot-6\",\n    key: [modifier, \"6\"],\n    offset: {\n      top: -70,\n    },\n    flexDirection: \"column\",\n  },\n  {\n    elementId: \"fav-bot-7\",\n    key: [modifier, \"7\"],\n    offset: {\n      top: -70,\n    },\n    flexDirection: \"column\",\n  },\n  {\n    elementId: \"fav-bot-8\",\n    key: [modifier, \"8\"],\n    offset: {\n      top: -70,\n    },\n    flexDirection: \"column\",\n  },\n  {\n    elementId: \"fav-bot-9\",\n    key: [modifier, \"9\"],\n    offset: {\n      top: -70,\n    },\n    flexDirection: \"column\",\n  },\n];\n","<template>\n  <v-dialog\n    v-model=\"dialog\"\n    width=\"auto\"\n    max-width=\"80%\"\n    @click:outside=\"close(false)\"\n  >\n    <v-card :title=\"_title\">\n      <v-card-text>\n        <div v-html=\"_text\"></div>\n      </v-card-text>\n      <v-card-actions>\n        <v-spacer></v-spacer>\n        <v-btn variant=\"outlined\" color=\"primary\" @click=\"close(false)\">{{\n          $t(\"header.no\")\n        }}</v-btn>\n        <v-btn\n          ref=\"defaultButton\"\n          variant=\"flat\"\n          color=\"primary\"\n          class=\"bg-primary\"\n          @click=\"close(true)\"\n          >{{ $t(\"header.yes\") }}</v-btn\n        >\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script setup>\nimport { ref, watch, nextTick } from \"vue\";\n\nlet dialog = ref(false);\nlet _title = ref(\"\");\nlet _text = ref(\"\");\nconst defaultButton = ref(null);\n\nlet close;\n\nconst showModal = (title, text = \"\") => {\n  _title.value = title;\n  _text.value = text.replace(/\\n/g, \"<br />\");\n  return new Promise((resolve) => {\n    dialog.value = true;\n    close = (result) => {\n      resolve(result);\n      dialog.value = false;\n    };\n  });\n};\n\nwatch(\n  dialog,\n  () => {\n    if (dialog.value) {\n      nextTick(() => {\n        defaultButton.value.$el.focus();\n      });\n    }\n  },\n  { immediate: true },\n);\n\n// Using defineExpose to expose showModal and close methods to be accessible from outside and template\ndefineExpose({\n  showModal,\n  close,\n});\n</script>\n","import script from \"./ConfirmModal.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ConfirmModal.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <v-list-item\n    density=\"comfortable\"\n    v-if=\"!isEditMode\"\n    :key=\"`chat-${props.chat.index}`\"\n    :active=\"store.getters.currentChat.index === props.chat.index\"\n    :title=\"props.chat.title\"\n    :value=\"props.chat.index\"\n    class=\"pa-3 pr-0\"\n    :style=\"{ cursor: isCursorWait ? 'wait' : 'pointer' }\"\n    @click=\"onSelectChat\"\n  >\n    <template v-slot:prepend>\n      <v-icon color=\"primary\" class=\"mr-4\"> mdi-message-outline </v-icon>\n    </template>\n    <template\n      #append\n      v-if=\"store.getters.currentChat.index === props.chat.index\"\n    >\n      <v-btn\n        flat\n        size=\"x-small\"\n        icon=\"mdi-pencil-outline\"\n        @click=\"editChat\"\n        style=\"background-color: transparent\"\n      ></v-btn>\n      <v-btn\n        flat\n        size=\"x-small\"\n        icon=\"mdi-delete-outline\"\n        @click=\"confirmHideChat\"\n        style=\"margin: 0; background-color: transparent\"\n      ></v-btn>\n    </template>\n  </v-list-item>\n  <v-text-field\n    autofocus\n    :key=\"`chat-${index}`\"\n    v-if=\"isEditMode\"\n    v-model=\"chatTitleEditModel\"\n    color=\"primary\"\n    density=\"compact\"\n    @keydown=\"onPressEnter\"\n    @focus=\"$event.target.select()\"\n    style=\"padding: 6px\"\n    class=\"pl-3 pr-0\"\n    hide-details\n  >\n    <template v-slot:prepend>\n      <v-icon color=\"primary\"> mdi-message-outline </v-icon>\n    </template>\n    <template v-slot:append>\n      <v-btn flat size=\"x-small\" icon=\"mdi-check\" @click=\"confirmEdit\"></v-btn>\n      <v-btn\n        flat\n        size=\"x-small\"\n        icon=\"mdi-close\"\n        @click=\"isEditMode = false\"\n      ></v-btn>\n    </template>\n  </v-text-field>\n</template>\n\n<script setup>\nimport { ref, watch } from \"vue\";\nimport { useStore } from \"vuex\";\n\nconst store = useStore();\nconst emit = defineEmits([\"confirmHideChat\", \"focusTextarea\"]);\nconst props = defineProps({\n  chat: {\n    type: Object,\n    required: true,\n  },\n});\nwatch(() => store.state.currentChatIndex, unsetCursorWait);\n\nconst isEditMode = ref(false);\nconst isCursorWait = ref(false);\nconst chatTitleEditModel = ref(\"\");\n\nasync function onSelectChat() {\n  if (props.chat.index === store.state.currentChatIndex) return;\n  setCursorWait();\n  await new Promise((r) => setTimeout(r, 25));\n  store.commit(\"selectChat\", props.chat.index);\n  emit(\"focusTextarea\");\n}\n\nfunction setCursorWait() {\n  document.body.style.cursor = \"wait\";\n  isCursorWait.value = true;\n}\n\nfunction unsetCursorWait() {\n  document.body.style.cursor = \"\";\n  isCursorWait.value = false;\n}\n\nasync function confirmHideChat() {\n  emit(\"confirmHideChat\");\n}\n\nfunction editChat() {\n  isEditMode.value = true;\n  chatTitleEditModel.value = props.chat.title;\n}\n\nfunction confirmEdit() {\n  store.commit(\"editChatTitle\", {\n    title: chatTitleEditModel.value,\n    isEditedByUser: true,\n  });\n  isEditMode.value = false;\n}\n\nfunction onPressEnter(event) {\n  if (event.keyCode == 13) {\n    confirmEdit();\n  }\n}\n</script>\n\n<style scoped>\n:deep() .v-input__append {\n  margin-left: 0 !important;\n}\n\n:deep() .v-input__prepend {\n  margin-right: 0.25rem !important;\n}\n\n:deep() .v-field__input {\n  padding-left: 12px;\n  padding-right: 0;\n}\n\n:deep() i.v-icon {\n  color: rgb(var(--v-theme-primary));\n}\n</style>\n","import script from \"./ChatDrawerItem.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ChatDrawerItem.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ChatDrawerItem.vue?vue&type=style&index=0&id=c5a6b94e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-c5a6b94e\"]])\n\nexport default __exports__","<template>\n  <v-navigation-drawer permanent :model-value=\"props.open\">\n    <v-list nav>\n      <v-list-item\n        :id=\"SHORTCUT_NEW_CHAT.elementId\"\n        density=\"comfortable\"\n        class=\"mb-1 border\"\n        :title=\"$t('chat.newChat')\"\n        @click=\"onAddNewChat\"\n        @shortkey=\"onAddNewChat\"\n        v-shortkey=\"SHORTCUT_NEW_CHAT.key\"\n      >\n        <template v-slot:prepend>\n          <v-icon color=\"primary\"> mdi-plus </v-icon>\n        </template>\n      </v-list-item>\n    </v-list>\n\n    <template v-for=\"chat in chatsReversed\">\n      <ChatDrawerItem\n        v-if=\"!chat.hide\"\n        :chat=\"chat\"\n        @confirm-hide-chat=\"confirmHideChat\"\n        @focus-textarea=\"focusTextarea\"\n        :key=\"chat.index\"\n      ></ChatDrawerItem>\n    </template>\n  </v-navigation-drawer>\n  <ConfirmModal ref=\"confirmModal\" />\n</template>\n\n<script setup>\nimport { ref, computed, onUpdated, nextTick } from \"vue\";\nimport { useStore } from \"vuex\";\nimport i18n from \"@/i18n\";\nimport ConfirmModal from \"@/components/ConfirmModal.vue\";\nimport ChatDrawerItem from \"@/components/ChatDrawer/ChatDrawerItem.vue\";\nimport { SHORTCUT_NEW_CHAT } from \"@/components/ShortcutGuide/shortcut.const\";\n\nconst store = useStore();\n\nconst props = defineProps([\"open\"]);\nconst emit = defineEmits([\"update:open\", \"focusTextarea\"]);\nonUpdated(setIsChatDrawerOpen);\n\nconst confirmModal = ref(null);\nconst chatsReversed = computed(() => store.state.chats.slice().reverse());\n\nfunction setIsChatDrawerOpen() {\n  store.commit(\"setIsChatDrawerOpen\", props.open);\n}\n\nfunction onAddNewChat() {\n  store.commit(\"createChat\");\n  store.commit(\"selectChat\", store.state.chats.length - 1);\n  focusTextarea();\n}\n\nasync function confirmHideChat() {\n  const result = await confirmModal.value.showModal(\n    i18n.global.t(\"modal.confirmHideChat\"),\n  );\n  if (result) {\n    store.commit(\"hideChat\");\n    selectLatestVisibleChat();\n  }\n}\n\nfunction selectLatestVisibleChat() {\n  let isAnyChatVisible = false;\n  for (let i = 0; i < chatsReversed.value.length; i++) {\n    const chat = chatsReversed.value[i];\n    if (!chat.hide) {\n      isAnyChatVisible = true;\n      store.commit(\"selectChat\", chat.index);\n      focusTextarea();\n      break;\n    }\n  }\n  if (!isAnyChatVisible) {\n    // if there is no visible chat, create a new chat\n    store.commit(\"createChat\");\n    store.commit(\"selectChat\", store.state.chats.length - 1);\n    focusTextarea();\n  }\n}\n\nfunction focusTextarea() {\n  nextTick().then(() => {\n    emit(\"focusTextarea\");\n  });\n}\n</script>\n<style scoped>\n:deep() .v-list-item-title {\n  font-size: 1rem !important;\n}\n</style>\n","import script from \"./ChatDrawer.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ChatDrawer.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ChatDrawer.vue?vue&type=style&index=0&id=85dea396&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-85dea396\"]])\n\nexport default __exports__","<template>\n  <v-card\n    ref=\"root\"\n    class=\"message prompt\"\n    :class=\"props.isThread ? 'thread-prompt' : ''\"\n  >\n    <pre>{{ props.message.content }}</pre>\n  </v-card>\n</template>\n\n<script setup>\nimport { ref, onMounted, watch } from \"vue\";\n\nconst root = ref();\nconst props = defineProps({\n  message: {\n    type: Object,\n    required: true,\n  },\n  columns: {\n    type: Number,\n    required: true,\n  },\n  isThread: {\n    type: Boolean,\n    default: false,\n  },\n});\n\nwatch(\n  () => props.columns,\n  () => {\n    root.value.$el.style.setProperty(\"--columns\", props.columns);\n  },\n);\n\nonMounted(() => {\n  root.value.$el.style.setProperty(\"--columns\", props.columns);\n});\n</script>\n\n<style scoped>\n.message {\n  border-radius: 8px;\n  padding: 16px;\n  word-wrap: break-word;\n  text-align: left;\n}\n\n.prompt {\n  background-color: rgb(var(--v-theme-prompt));\n  width: fit-content;\n  grid-column: 1 / span var(--columns);\n}\n\n.prompt pre {\n  white-space: pre-wrap;\n  font-family: inherit;\n}\n\n.thread-prompt {\n  width: 100%;\n  margin-top: 1rem;\n  margin-bottom: 1rem;\n}\n</style>\n","import script from \"./ChatPrompt.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ChatPrompt.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ChatPrompt.vue?vue&type=style&index=0&id=4e9f2e3c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-4e9f2e3c\"]])\n\nexport default __exports__","<template>\n  <template v-for=\"(message, index) in messages\" :key=\"index\">\n    <chat-prompt\n      v-if=\"checkIsMessagePromptTypeAndEmptyResponsesIfTrue(message)\"\n      :message=\"message\"\n      :columns=\"1\"\n      :isThread=\"true\"\n    ></chat-prompt>\n    <template v-else>\n      <chat-responses\n        v-if=\"pushResponseAndCheckIsNextMessagePromptType(index, message)\"\n        :columns=\"1\"\n        :responses=\"responses\"\n        :threadIndex=\"props.threadIndex\"\n        :isThread=\"true\"\n        :updateThreadMessage=\"props.updateThreadMessage\"\n      ></chat-responses>\n    </template>\n  </template>\n</template>\n\n<script setup>\nimport { ref, computed, toRefs } from \"vue\";\nimport { useStore } from \"vuex\";\nimport ChatPrompt from \"@/components/Messages/ChatPrompt.vue\";\nimport ChatResponses from \"@/components/Messages/ChatResponses.vue\";\n\nconst store = useStore();\n\nconst props = defineProps({\n  threadIndex: {\n    type: Number,\n    required: true,\n  },\n  updateThreadMessage: {\n    type: Function,\n  },\n});\n\nconst { threadIndex } = toRefs(props);\nconst thread = ref(store.getters.currentChat.threads[threadIndex.value]);\nconst messages = computed(() => {\n  return (thread.value ? thread.value.messages : []).filter(\n    (message) => !message.hide,\n  );\n});\n\nlet responses = []; // this array store a prompt responses in a thread\nfunction checkIsMessagePromptTypeAndEmptyResponsesIfTrue(message) {\n  if (message.type === \"prompt\") {\n    responses = []; // clear responses for next prompt's responses\n    return true;\n  }\n  return false;\n}\n\nfunction pushResponseAndCheckIsNextMessagePromptType(index, response) {\n  const nextIndex = index + 1;\n  if (!response.hide) responses.push(response);\n  if (nextIndex >= messages.value.length) {\n    return true; // allow last element\n  }\n  return messages.value[nextIndex].type === \"prompt\";\n}\n</script>\n","import script from \"./ChatThread.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ChatThread.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import ChatGPTBot from \"./ChatGPTBot\";\n\nexport default class ChatGPT35Bot extends ChatGPTBot {\n  static _className = \"ChatGPT35Bot\"; // Class name of the bot\n  static _logoFilename = \"chatgpt-35-logo.png\"; // Place it in public/bots/\n  static _model = \"text-davinci-002-render-sha\";\n\n  constructor() {\n    super();\n  }\n}\n","import axios from \"axios\";\nimport ChatGPTBot from \"./ChatGPTBot\";\n\nexport default class ChatGPT4Bot extends ChatGPTBot {\n  static _className = \"ChatGPT4Bot\"; // Class name of the bot\n  static _logoFilename = \"chatgpt-4-logo.png\"; // Place it in public/bots/\n  static _model = \"gpt-4\";\n\n  constructor() {\n    super();\n  }\n\n  async _checkAvailability() {\n    let available = await super._checkAvailability();\n\n    if (available) {\n      try {\n        const headers = {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${this.accessToken}`,\n        };\n        const response = await axios.get(\n          \"https://chat.openai.com/backend-api/accounts/check\",\n          { headers },\n        );\n        const isPaidSubscriptionActive =\n          response.data.account_plan.is_paid_subscription_active;\n        available = isPaidSubscriptionActive;\n      } catch (error) {\n        console.error(\"Error fetching paid status:\", error);\n        available = false;\n      }\n    }\n\n    return available;\n  }\n}\n","import ChatGPT4Bot from \"./ChatGPT4Bot\";\n\nexport default class ChatGPTBrowsingBot extends ChatGPT4Bot {\n  static _className = \"ChatGPTBrowsingBot\"; // Class name of the bot\n  static _logoFilename = \"chatgpt-browsing-logo.png\"; // Place it in public/bots/\n  static _model = \"gpt-4-browsing\";\n\n  constructor() {\n    super();\n  }\n}\n","import AsyncLock from \"async-lock\";\n\nimport BingChatBot from \"./BingChatBot\";\n\nexport default class BingChatPreciseBot extends BingChatBot {\n  static _className = \"BingChatPreciseBot\"; // Class name of the bot\n  static _logoFilename = \"bing-precise-logo.png\"; // Place it in public/bots/\n  static _model = \"h3precise\"; // Bing styles: h3imaginative, harmonyv3, h3precise\n  static _lock = new AsyncLock(); // Must process requests in queue\n\n  static _optionsSets = [\n    \"nlu_direct_response_filter\",\n    \"deepleo\",\n    \"disable_emoji_spoken_text\",\n    \"responsible_ai_policy_235\",\n    \"enablemm\",\n    \"dv3sugg\",\n    \"machine_affinity\",\n    \"autosave\",\n    \"iyxapbing\",\n    \"iycapbing\",\n    \"h3precise\",\n    \"clgalileo\",\n    \"gencontentv3\",\n    \"adsredirecturl\",\n    \"agicert\",\n    \"iypapyrus\",\n    \"eredirecturl\",\n  ];\n  static _tone = \"Precise\";\n\n  constructor() {\n    super();\n  }\n}\n","import AsyncLock from \"async-lock\";\n\nimport BingChatBot from \"./BingChatBot\";\n\nexport default class BingChatBalancedBot extends BingChatBot {\n  static _className = \"BingChatBalancedBot\"; // Class name of the bot\n  static _logoFilename = \"bing-balanced-logo.png\"; // Place it in public/bots/\n  static _model = \"galileo\"; // Bing styles: h3imaginative, harmonyv3, h3precise\n  static _lock = new AsyncLock(); // Must process requests in queue\n\n  static _optionsSets = [\n    \"nlu_direct_response_filter\",\n    \"deepleo\",\n    \"disable_emoji_spoken_text\",\n    \"responsible_ai_policy_235\",\n    \"enablemm\",\n    \"dv3sugg\",\n    \"machine_affinity\",\n    \"autosave\",\n    \"iyxapbing\",\n    \"iycapbing\",\n    \"galileo\",\n    \"saharagenconv5\",\n    \"fluxhint\",\n    \"glfluxv13\",\n    \"adsredirecturl\",\n    \"agicert\",\n    \"iypapyrus\",\n    \"eredirecturl\",\n  ];\n  static _tone = \"Balanced\";\n\n  constructor() {\n    super();\n  }\n}\n","import AsyncLock from \"async-lock\";\n\nimport BingChatBot from \"./BingChatBot\";\n\nexport default class BingChatCreativeBot extends BingChatBot {\n  static _className = \"BingChatCreativeBot\"; // Class name of the bot\n  static _logoFilename = \"bing-creative-logo.png\"; // Place it in public/bots/\n  static _model = \"h3imaginative\"; // Bing styles: h3imaginative, harmonyv3, h3precise\n  static _lock = new AsyncLock(); // Must process requests in queue\n\n  static _optionsSets = [\n    \"nlu_direct_response_filter\",\n    \"deepleo\",\n    \"disable_emoji_spoken_text\",\n    \"responsible_ai_policy_235\",\n    \"enablemm\",\n    \"dv3sugg\",\n    \"machine_affinity\",\n    \"autosave\",\n    \"iyxapbing\",\n    \"iycapbing\",\n    \"h3imaginative\",\n    \"adsredirecturl\",\n    \"agicert\",\n    \"iypapyrus\",\n    \"eredirecturl\",\n    \"clgalileo\",\n    \"gencontentv3\",\n  ];\n  static _tone = \"Creative\";\n\n  constructor() {\n    super();\n  }\n}\n","import PoeBot from \"@/bots/poe/PoeBot\";\n\nexport default class SageBot extends PoeBot {\n  static _className = \"SageBot\"; // Class name of the bot\n  static _logoFilename = \"sage-logo.webp\"; // Place it in public/bots/\n  static _model = \"capybara\";\n\n  constructor() {\n    super();\n  }\n}\n","import OpenAIAPIBot from \"./OpenAIAPIBot\";\n\nexport default class OpenAIAPI35Bot extends OpenAIAPIBot {\n  static _className = \"OpenAIAPI35Bot\"; // Class name of the bot\n  static _logoFilename = \"openai-35-logo.png\"; // Place it in public/bots/\n  static _isDarkLogo = true; // The main color of logo is dark\n  static _model = \"gpt-3.5-turbo\";\n\n  constructor() {\n    super();\n  }\n}\n","import OpenAIAPIBot from \"./OpenAIAPIBot\";\n\nexport default class OpenAIAPI4Bot extends OpenAIAPIBot {\n  static _className = \"OpenAIAPI4Bot\"; // Class name of the bot\n  static _logoFilename = \"openai-4-logo.png\"; // Place it in public/bots/\n  static _isDarkLogo = true; // The main color of logo is dark\n  static _model = \"gpt-4\";\n\n  constructor() {\n    super();\n  }\n}\n","import LMSYSBot from \"./LMSYSBot\";\n\nexport default class VicunaBot extends LMSYSBot {\n  static _brandId = \"lmsys\"; // Brand id of the bot, should be unique. Used in i18n.\n  static _className = \"VicunaBot\"; // Class name of the bot\n  static _logoFilename = \"vicuna-33b-logo.png\"; // Place it in public/bots/\n  static _model = \"vicuna-33b\";\n\n  constructor() {\n    super();\n  }\n}\n","import LMSYSBot from \"./LMSYSBot\";\n\nexport default class AlpacaBot extends LMSYSBot {\n  static _brandId = \"lmsys\"; // Brand id of the bot, should be unique. Used in i18n.\n  static _className = \"AlpacaBot\"; // Class name of the bot\n  static _logoFilename = \"alpaca-logo.png\"; // Place it in public/bots/\n  static _model = \"alpaca-13b\";\n\n  constructor() {\n    super();\n  }\n}\n","import LMSYSBot from \"./LMSYSBot\";\n\nexport default class ClaudeBot extends LMSYSBot {\n  static _brandId = \"lmsys\"; // Brand id of the bot, should be unique. Used in i18n.\n  static _className = \"ClaudeBot\"; // Class name of the bot\n  static _logoFilename = \"claude-logo.png\"; // Place it in public/bots/\n  static _model = \"claude-1\";\n\n  constructor() {\n    super();\n  }\n}\n","import Bot from \"@/bots/Bot\";\n\nexport default class DevBot extends Bot {\n  static _brandId = \"dev\"; // Brand id of the bot, should be unique. Used in i18n.\n  static _className = \"DevBot\"; // Class name of the bot\n  static _logoFilename = \"default-logo.svg\"; // Place it in public/bots/\n  static _isDarkLogo = true; // The main color of logo is dark\n  static _loginUrl = \"http://chatall.ai\";\n  static _isAvailable = true;\n\n  constructor() {\n    super();\n  }\n\n  /**\n   * Check whether the bot is logged in, settings are correct, etc.\n   * @returns {boolean} - true if the bot is available, false otherwise.\n   */\n  async _checkAvailability() {\n    return true;\n  }\n\n  /**\n   * Send a prompt to the bot and call onResponse(response, callbackParam)\n   * when the response is ready.\n   * @param {string} prompt\n   * @param {function} onUpdateResponse params: callbackParam, Object {content, done}\n   * @param {object} callbackParam - Just pass it to onUpdateResponse() as is\n   */\n  async _sendPrompt(prompt, onUpdateResponse, callbackParam) {\n    return new Promise((resolve, reject) => {\n      // Send the prompt to the bot and call onUpdateResponse() when the response is ready\n      // onUpdateResponse(callbackParam, {content, done})\n      //   callbackParam: Just pass it to onUpdateResponse() as is\n      //   Object.content: Response text from the bot, even if it's not fully complete\n      //   Object.done: true if the response is completed, false otherwise\n      //\n      // When everything is done, call resolve()\n      // If there is an error, call reject(error)\n\n      try {\n        onUpdateResponse(callbackParam, {\n          content: prompt,\n          done: true,\n        });\n        resolve();\n      } catch (error) {\n        reject(error);\n      }\n    });\n  }\n\n  /**\n   * Should implement this method if the bot supports conversation.\n   * The conversation structure is defined by the subclass.\n   * @param null\n   * @returns {any} - Conversation structure. null if not supported.\n   */\n  async createChatContext() {\n    return null;\n  }\n}\n","import PoeBot from \"@/bots/poe/PoeBot\";\n\nexport default class ChatGPT35PoeBot extends PoeBot {\n  static _className = \"ChatGPT35PoeBot\"; // Class name of the bot\n  static _logoFilename = \"chatgpt-35-poe-logo.png\"; // Place it in public/bots/\n  static _model = \"chinchilla\";\n\n  constructor() {\n    super();\n  }\n}\n","import PoeBot from \"@/bots/poe/PoeBot\";\n\nexport default class ChatGPT4PoeBot extends PoeBot {\n  static _className = \"ChatGPT4PoeBot\"; // Class name of the bot\n  static _logoFilename = \"chatgpt-4-poe-logo.png\"; // Place it in public/bots/\n  static _model = \"beaver\";\n\n  constructor() {\n    super();\n  }\n}\n","import PoeBot from \"@/bots/poe/PoeBot\";\n\nexport default class ClaudeInstantPoeBot extends PoeBot {\n  static _className = \"ClaudeInstantPoeBot\"; // Class name of the bot\n  static _logoFilename = \"claude-instant-poe-logo.png\"; // Place it in public/bots/\n  static _model = \"a2\";\n\n  constructor() {\n    super();\n  }\n}\n","import PoeBot from \"@/bots/poe/PoeBot\";\n\nexport default class ClaudeInstant100kPoeBot extends PoeBot {\n  static _className = \"ClaudeInstant100kPoeBot\"; // Class name of the bot\n  static _logoFilename = \"claude-100k-poe-logo.png\"; // Place it in public/bots/\n  static _model = \"a2_100k\";\n\n  constructor() {\n    super();\n  }\n}\n","import PoeBot from \"@/bots/poe/PoeBot\";\n\nexport default class ClaudePlusPoeBot extends PoeBot {\n  static _className = \"ClaudePlusPoeBot\"; // Class name of the bot\n  static _logoFilename = \"claude-plus-poe-logo.png\"; // Place it in public/bots/\n  static _model = \"a2_2\";\n\n  constructor() {\n    super();\n  }\n}\n","import PoeBot from \"@/bots/poe/PoeBot\";\n\nexport default class ChatGPT432kPoeBot extends PoeBot {\n  static _className = \"ChatGPT432kPoeBot\"; // Class name of the bot\n  static _logoFilename = \"gpt-4-32k-poe-logo.png\"; // Place it in public/bots/\n  static _model = \"vizcacha\";\n\n  constructor() {\n    super();\n  }\n}\n","import ChatGPT4Bot from \"./ChatGPT4Bot\";\n\nexport default class ChatGPT4MobileBot extends ChatGPT4Bot {\n  static _className = \"ChatGPT4MobileBot\"; // Class name of the bot\n  static _logoFilename = \"chatgpt-4-mobile-logo.png\"; // Place it in assets/bots/\n  static _model = \"gpt-4-mobile\";\n\n  constructor() {\n    super();\n  }\n}\n","import OpenAIAPIBot from \"./OpenAIAPIBot\";\n\nexport default class OpenAIAPI3516KBot extends OpenAIAPIBot {\n  static _className = \"OpenAIAPI3516KBot\"; // Class name of the bot\n  static _logoFilename = \"openai-35-16k-logo.png\"; // Place it in public/bots/\n  static _isDarkLogo = true; // The main color of logo is dark\n  static _model = \"gpt-3.5-turbo-16k\";\n\n  constructor() {\n    super();\n  }\n}\n","import AsyncLock from \"async-lock\";\nimport WenxinQianfanBot from \"./WenxinQianfanBot\";\n\nexport default class WenxinQianfanTurboBot extends WenxinQianfanBot {\n  static _className = \"WenxinQianfanTurboBot\"; // Class name of the bot\n  static _logoFilename = \"wenxin-qianfan-turbo-logo.png\"; // Place it in public/bots/\n  static _model = \"ERNIE-Bot-turbo\"; // Model name\n  static _lock = new AsyncLock();\n\n  constructor() {\n    super();\n  }\n}\n","import HuggingChatBot from \"@/bots/huggingface/HuggingChatBot\";\n\nexport default class Llama2HC70bBot extends HuggingChatBot {\n  static _className = \"Llama2HC70bBot\"; // Class name of the bot\n  static _logoFilename = \"llama-huggingchat-logo.png\"; // Place it in public/bots/\n  static _model = \"meta-llama/Llama-2-70b-chat-hf\";\n\n  constructor() {\n    super();\n  }\n}\n","import LMSYSBot from \"./LMSYSBot\";\n\nexport default class Llama213bBot extends LMSYSBot {\n  static _brandId = \"lmsys\"; // Brand id of the bot, should be unique. Used in i18n.\n  static _className = \"Llama213bBot\"; // Class name of the bot\n  static _logoFilename = \"llama-2-13b-logo.png\"; // Place it in public/bots/\n  static _model = \"llama-2-13b-chat\";\n\n  constructor() {\n    super();\n  }\n}\n","import LMSYSBot from \"./LMSYSBot\";\n\nexport default class Llama27bBot extends LMSYSBot {\n  static _brandId = \"lmsys\"; // Brand id of the bot, should be unique. Used in i18n.\n  static _className = \"Llama27bBot\"; // Class name of the bot\n  static _logoFilename = \"llama-2-7b-logo.png\"; // Place it in public/bots/\n  static _model = \"llama-2-7b-chat\";\n\n  constructor() {\n    super();\n  }\n}\n","import LMSYSBot from \"./LMSYSBot\";\n\nexport default class Llama270bBot extends LMSYSBot {\n  static _brandId = \"lmsys\"; // Brand id of the bot, should be unique. Used in i18n.\n  static _className = \"Llama270bBot\"; // Class name of the bot\n  static _logoFilename = \"llama-2-70b-logo.png\"; // Place it in public/bots/\n  static _model = \"llama-2-70b-chat\";\n\n  constructor() {\n    super();\n  }\n}\n","import LMSYSBot from \"./LMSYSBot\";\n\nexport default class ChatGLM6bBot extends LMSYSBot {\n  static _brandId = \"lmsys\"; // Brand id of the bot, should be unique. Used in i18n.\n  static _className = \"ChatGLM6bBot\"; // Class name of the bot\n  static _logoFilename = \"chatglm-logo.svg\"; // Place it in public/bots/\n  static _model = \"chatglm2-6b\";\n\n  constructor() {\n    super();\n  }\n}\n","import LMSYSBot from \"./LMSYSBot\";\n\nexport default class CodeLlamaBot extends LMSYSBot {\n  static _brandId = \"lmsys\"; // Brand id of the bot, should be unique. Used in i18n.\n  static _className = \"CodeLlamaBot\"; // Class name of the bot\n  static _logoFilename = \"codellama-logo.png\"; // Place it in public/bots/\n  static _model = \"codellama-34b-instruct\";\n\n  constructor() {\n    super();\n  }\n}\n","import LMSYSBot from \"./LMSYSBot\";\n\nexport default class Vicuna7bBot extends LMSYSBot {\n  static _brandId = \"lmsys\"; // Brand id of the bot, should be unique. Used in i18n.\n  static _className = \"Vicuna7bBot\"; // Class name of the bot\n  static _logoFilename = \"vicuna-7b-logo.png\"; // Place it in public/bots/\n  static _model = \"vicuna-7b\";\n\n  constructor() {\n    super();\n  }\n}\n","import LMSYSBot from \"./LMSYSBot\";\n\nexport default class Vicuna13bBot extends LMSYSBot {\n  static _brandId = \"lmsys\"; // Brand id of the bot, should be unique. Used in i18n.\n  static _className = \"Vicuna13bBot\"; // Class name of the bot\n  static _logoFilename = \"vicuna-13b-logo.png\"; // Place it in public/bots/\n  static _model = \"vicuna-13b\";\n\n  constructor() {\n    super();\n  }\n}\n","import LMSYSBot from \"./LMSYSBot\";\n\nexport default class Wizardlm13bBot extends LMSYSBot {\n  static _brandId = \"lmsys\"; // Brand id of the bot, should be unique. Used in i18n.\n  static _className = \"Wizardlm13bBot\"; // Class name of the bot\n  static _logoFilename = \"wizardlm-13b-logo.png\"; // Place it in public/bots/\n  static _model = \"wizardlm-13b\";\n\n  constructor() {\n    super();\n  }\n}\n","import LMSYSBot from \"./LMSYSBot\";\n\nexport default class Wizardlm70bBot extends LMSYSBot {\n  static _brandId = \"lmsys\"; // Brand id of the bot, should be unique. Used in i18n.\n  static _className = \"Wizardlm70bBot\"; // Class name of the bot\n  static _logoFilename = \"wizardlm-70b-logo.png\"; // Place it in public/bots/\n  static _model = \"wizardlm-70b\";\n\n  constructor() {\n    super();\n  }\n}\n","import HuggingChatBot from \"@/bots/huggingface/HuggingChatBot\";\n\nexport default class FalconHC180bBot extends HuggingChatBot {\n  static _className = \"FalconHC180bBot\"; // Class name of the bot\n  static _logoFilename = \"falcon-180b-hc-logo.png\"; // Place it in public/bots/\n  static _model = \"tiiuae/falcon-180B-chat\";\n\n  constructor() {\n    super();\n  }\n}\n","import HuggingChatBot from \"@/bots/huggingface/HuggingChatBot\";\n\nexport default class CodeLlamaHCBot extends HuggingChatBot {\n  static _className = \"CodeLlamaHCBot\"; // Class name of the bot\n  static _logoFilename = \"codellama-hc-logo.png\"; // Place it in public/bots/\n  static _model = \"codellama/CodeLlama-34b-Instruct-hf\";\n\n  constructor() {\n    super();\n  }\n}\n","// Bots\nimport ChatGPT35Bot from \"@/bots/openai/ChatGPT35Bot\";\nimport ChatGPT4Bot from \"@/bots/openai/ChatGPT4Bot\";\nimport ChatGPTBrowsingBot from \"@/bots/openai/ChatGPTBrowsingBot\";\nimport BingChatPreciseBot from \"@/bots/microsoft/BingChatPreciseBot\";\nimport BingChatBalancedBot from \"@/bots/microsoft/BingChatBalancedBot\";\nimport BingChatCreativeBot from \"@/bots/microsoft/BingChatCreativeBot\";\nimport SageBot from \"@/bots/poe/SageBot\";\nimport SparkBot from \"@/bots/SparkBot\";\nimport BardBot from \"@/bots/BardBot\";\nimport OpenAIAPI35Bot from \"@/bots/openai/OpenAIAPI35Bot\";\nimport OpenAIAPI4Bot from \"@/bots/openai/OpenAIAPI4Bot\";\nimport MOSSBot from \"@/bots/MOSSBot\";\nimport WenxinQianfanBot from \"@/bots/baidu/WenxinQianfanBot\";\nimport VicunaBot from \"@/bots/lmsys/VicunaBot\";\nimport ChatGLMBot from \"@/bots/ChatGLMBot\";\nimport AlpacaBot from \"@/bots/lmsys/AlpacaBot\";\nimport ClaudeBot from \"@/bots/lmsys/ClaudeBot\";\nimport DevBot from \"@/bots/DevBot\";\nimport GradioAppBot from \"@/bots/huggingface/GradioAppBot\";\nimport HuggingChatBot from \"@/bots/huggingface/HuggingChatBot\";\nimport QianWenBot from \"./QianWenBot\";\nimport ChatGPT35PoeBot from \"./poe/ChatGPT35PoeBot\";\nimport ChatGPT4PoeBot from \"./poe/ChatGPT4PoeBot\";\nimport ClaudeInstantPoeBot from \"./poe/ClaudeInstantPoeBot\";\nimport ClaudeInstant100kPoeBot from \"./poe/ClaudeInstant100kPoeBot\";\nimport ClaudePlusPoeBot from \"./poe/ClaudePlusPoeBot\";\nimport ChatGPT432kPoeBot from \"./poe/ChatGPT432kPoeBot\";\nimport SkyWorkBot from \"./SkyWorkBot\";\nimport ChatGPT4MobileBot from \"./openai/ChatGPT4MobileBot\";\nimport OpenAIAPI3516KBot from \"./openai/OpenAIAPI3516KBot\";\nimport AzureOpenAIAPIBot from \"./microsoft/AzureOpenAIAPIBot\";\nimport WenxinQianfanTurboBot from \"./baidu/WenxinQianfanTurboBot\";\nimport YouChatBot from \"./YouChatBot\";\nimport PhindBot from \"./PhindBot\";\nimport PiBot from \"./PiBot\";\nimport Qihoo360AIBrainBot from \"./Qihoo360AIBrainBot\";\nimport OpenAssistantBot from \"./OpenAssistantBot\";\nimport CharacterAIBot from \"./CharacterAIBot\";\nimport ClaudeAIBot from \"./ClaudeAIBot\";\nimport Llama2HC70bBot from \"./huggingface/Llama2HC70bBot\";\nimport Llama213bBot from \"./lmsys/Llama213bBot\";\nimport Llama27bBot from \"./lmsys/Llama27bBot\";\nimport Llama270bBot from \"./lmsys/Llama270bBot\";\nimport Falcon180bBot from \"./huggingface/Falcon180bBot\";\nimport ChatGLM6bBot from \"./lmsys/ChatGLM6bBot\";\nimport CodeLlamaBot from \"./lmsys/CodeLlamaBot\";\nimport Vicuna7bBot from \"./lmsys/Vicuna7bBot\";\nimport Vicuna13bBot from \"./lmsys/Vicuna13bBot\";\nimport Wizardlm13bBot from \"./lmsys/Wizardlm13bBot\";\nimport Wizardlm70bBot from \"./lmsys/Wizardlm70bBot\";\nimport FalconHC180bBot from \"./huggingface/FalconHC180bBot\";\nimport CodeLlamaHCBot from \"./huggingface/CodeLlamaHCBot\";\n\nconst all = [\n  Qihoo360AIBrainBot.getInstance(),\n  AlpacaBot.getInstance(),\n  SageBot.getInstance(), // Assistant@Poe\n  BardBot.getInstance(),\n  BingChatCreativeBot.getInstance(),\n  BingChatBalancedBot.getInstance(),\n  BingChatPreciseBot.getInstance(),\n  CharacterAIBot.getInstance(),\n  ChatGLMBot.getInstance(),\n  ChatGLM6bBot.getInstance(),\n  ClaudeInstantPoeBot.getInstance(),\n  ClaudeInstant100kPoeBot.getInstance(),\n  ClaudeBot.getInstance(),\n  ClaudeAIBot.getInstance(),\n  ClaudePlusPoeBot.getInstance(),\n  CodeLlamaHCBot.getInstance(),\n  CodeLlamaBot.getInstance(),\n  WenxinQianfanBot.getInstance(),\n  WenxinQianfanTurboBot.getInstance(),\n  Falcon180bBot.getInstance(),\n  FalconHC180bBot.getInstance(),\n  AzureOpenAIAPIBot.getInstance(),\n  ChatGPT35Bot.getInstance(),\n  ChatGPT35PoeBot.getInstance(),\n  OpenAIAPI35Bot.getInstance(),\n  OpenAIAPI3516KBot.getInstance(),\n  ChatGPT4Bot.getInstance(),\n  ChatGPT4MobileBot.getInstance(),\n  ChatGPT4PoeBot.getInstance(),\n  ChatGPTBrowsingBot.getInstance(),\n  OpenAIAPI4Bot.getInstance(),\n  ChatGPT432kPoeBot.getInstance(),\n  GradioAppBot.getInstance(),\n  Llama27bBot.getInstance(),\n  Llama213bBot.getInstance(),\n  Llama270bBot.getInstance(),\n  Llama2HC70bBot.getInstance(),\n  MOSSBot.getInstance(),\n  HuggingChatBot.getInstance(),\n  OpenAssistantBot.getInstance(),\n  PhindBot.getInstance(),\n  PiBot.getInstance(),\n  QianWenBot.getInstance(),\n  SkyWorkBot.getInstance(),\n  SparkBot.getInstance(),\n  Vicuna7bBot.getInstance(),\n  Vicuna13bBot.getInstance(),\n  VicunaBot.getInstance(),\n  Wizardlm13bBot.getInstance(),\n  Wizardlm70bBot.getInstance(),\n  YouChatBot.getInstance(),\n];\n\nconst disabled = [\n  \"ClaudeBot\",\n  \"ChatGPTBrowsingBot\",\n  \"AlpacaBot\",\n  \"HuggingChatBot\",\n  \"Falcon180bBot\",\n];\n\nif (process.env.NODE_ENV !== \"production\") {\n  all.push(DevBot.getInstance());\n}\n\nconst bots = {\n  all,\n  getBotByClassName(className) {\n    return all.find((bot) => bot.getClassname() === className);\n  },\n};\n\ndisabled.forEach((className) => {\n  const bot = bots.getBotByClassName(className);\n  bot?.disable();\n});\n\nexport const botTags = {\n  free: [\n    bots.getBotByClassName(\"BardBot\"),\n    bots.getBotByClassName(\"BingChatBalancedBot\"),\n    bots.getBotByClassName(\"BingChatCreativeBot\"),\n    bots.getBotByClassName(\"BingChatPreciseBot\"),\n    bots.getBotByClassName(\"ChatGLMBot\"),\n    bots.getBotByClassName(\"ChatGLM6bBot\"),\n    bots.getBotByClassName(\"ChatGPT35Bot\"),\n    bots.getBotByClassName(\"ChatGPT35PoeBot\"),\n    bots.getBotByClassName(\"ClaudeBot\"),\n    bots.getBotByClassName(\"ClaudeInstantPoeBot\"),\n    bots.getBotByClassName(\"HuggingChatBot\"),\n    bots.getBotByClassName(\"Llama27bBot\"),\n    bots.getBotByClassName(\"Llama213bBot\"),\n    bots.getBotByClassName(\"Llama270bBot\"),\n    bots.getBotByClassName(\"Llama2HC70bBot\"),\n    bots.getBotByClassName(\"CodeLlamaBot\"),\n    bots.getBotByClassName(\"CodeLlamaHCBot\"),\n    bots.getBotByClassName(\"MOSSBot\"),\n    bots.getBotByClassName(\"OpenAssistantBot\"),\n    bots.getBotByClassName(\"Qihoo360AIBrainBot\"),\n    bots.getBotByClassName(\"QianWenBot\"),\n    bots.getBotByClassName(\"SkyWorkBot\"),\n    bots.getBotByClassName(\"SparkBot\"),\n    bots.getBotByClassName(\"YouChatBot\"),\n    bots.getBotByClassName(\"GradioAppBot\"),\n    bots.getBotByClassName(\"AlpacaBot\"),\n    bots.getBotByClassName(\"VicunaBot\"),\n    bots.getBotByClassName(\"Vicuna7bBot\"),\n    bots.getBotByClassName(\"Vicuna13bBot\"),\n    bots.getBotByClassName(\"CharacterAIBot\"),\n    bots.getBotByClassName(\"ClaudeAIBot\"),\n    bots.getBotByClassName(\"PhindBot\"),\n    bots.getBotByClassName(\"PiBot\"),\n    bots.getBotByClassName(\"SageBot\"),\n    bots.getBotByClassName(\"Falcon180bBot\"),\n    bots.getBotByClassName(\"Wizardlm13bBot\"),\n    bots.getBotByClassName(\"Wizardlm70bBot\"),\n    bots.getBotByClassName(\"FalconHC180bBot\"),\n  ],\n  paid: [\n    bots.getBotByClassName(\"ChatGPT4Bot\"),\n    bots.getBotByClassName(\"ChatGPT4MobileBot\"),\n    bots.getBotByClassName(\"ChatGPT4PoeBot\"),\n    bots.getBotByClassName(\"ChatGPTBrowsingBot\"),\n    bots.getBotByClassName(\"ClaudeInstant100kPoeBot\"),\n    bots.getBotByClassName(\"ClaudePlusPoeBot\"),\n    bots.getBotByClassName(\"ChatGPT432kPoeBot\"),\n  ],\n  openSource: [\n    bots.getBotByClassName(\"AlpacaBot\"),\n    bots.getBotByClassName(\"HuggingChatBot\"),\n    bots.getBotByClassName(\"Llama27bBot\"),\n    bots.getBotByClassName(\"Llama213bBot\"),\n    bots.getBotByClassName(\"Llama270bBot\"),\n    bots.getBotByClassName(\"Llama2HC70bBot\"),\n    bots.getBotByClassName(\"MOSSBot\"),\n    bots.getBotByClassName(\"OpenAssistantBot\"),\n    bots.getBotByClassName(\"VicunaBot\"),\n    bots.getBotByClassName(\"Vicuna7bBot\"),\n    bots.getBotByClassName(\"Vicuna13bBot\"),\n    bots.getBotByClassName(\"Falcon180bBot\"),\n    bots.getBotByClassName(\"ChatGLM6bBot\"),\n    bots.getBotByClassName(\"CodeLlamaBot\"),\n    bots.getBotByClassName(\"CodeLlamaHCBot\"),\n    bots.getBotByClassName(\"Wizardlm13bBot\"),\n    bots.getBotByClassName(\"Wizardlm70bBot\"),\n    bots.getBotByClassName(\"FalconHC180bBot\"),\n  ],\n  api: [\n    bots.getBotByClassName(\"AzureOpenAIAPIBot\"),\n    bots.getBotByClassName(\"OpenAIAPI35Bot\"),\n    bots.getBotByClassName(\"OpenAIAPI3516KBot\"),\n    bots.getBotByClassName(\"OpenAIAPI4Bot\"),\n    bots.getBotByClassName(\"WenxinQianfanBot\"),\n    bots.getBotByClassName(\"WenxinQianfanTurboBot\"),\n  ],\n  madeInChina: [\n    bots.getBotByClassName(\"Qihoo360AIBrainBot\"),\n    bots.getBotByClassName(\"QianWenBot\"),\n    bots.getBotByClassName(\"SkyWorkBot\"),\n    bots.getBotByClassName(\"SparkBot\"),\n    bots.getBotByClassName(\"WenxinQianfanBot\"),\n    bots.getBotByClassName(\"WenxinQianfanTurboBot\"),\n    bots.getBotByClassName(\"MOSSBot\"),\n    bots.getBotByClassName(\"ChatGLMBot\"),\n    bots.getBotByClassName(\"ChatGLM6bBot\"),\n  ],\n};\nexport default bots;\n","<template>\n  <v-card\n    ref=\"root\"\n    :class=\"[\n      'message',\n      isHighlighted && isSelectedResponsesEmpty ? 'highlight-border' : '',\n      props.isThread ? 'response-thread' : 'response',\n      isSelectedResponsesEmpty ? 'cursor-auto' : 'cursor-pointer',\n      isSelected ? 'highlight-border' : '',\n    ]\"\n    :loading=\"isAllDone ? false : 'primary'\"\n    :flat=\"props.isThread\"\n    :ripple=\"!isSelectedResponsesEmpty\"\n    @click=\"!isSelectedResponsesEmpty && select($event)\"\n  >\n    <v-card-title class=\"title\">\n      <img\n        :src=\"botLogo\"\n        :class=\"{ invert: isBotLogoInverted }\"\n        :alt=\"botFullname\"\n      />\n      {{ botFullname }}\n      <v-spacer></v-spacer>\n      <v-btn\n        flat\n        size=\"x-small\"\n        icon\n        @click=\"toggleHighlight\"\n        :color=\"isHighlighted ? 'primary' : ''\"\n        :class=\"getButtonClass\"\n        v-show=\"isSelectedResponsesEmpty\"\n      >\n        <v-icon>mdi-lightbulb-on-outline</v-icon>\n      </v-btn>\n      <v-btn\n        flat\n        size=\"x-small\"\n        icon\n        @click=\"copyToClipboard\"\n        v-show=\"isSelectedResponsesEmpty\"\n        :class=\"getButtonClass\"\n      >\n        <v-icon>mdi-content-copy</v-icon>\n      </v-btn>\n      <v-btn\n        flat\n        size=\"x-small\"\n        v-show=\"isSelectedResponsesEmpty\"\n        icon\n        @click=\"hide\"\n        :class=\"getButtonClass\"\n      >\n        <v-icon>mdi-delete</v-icon>\n      </v-btn>\n      <v-btn\n        flat\n        size=\"x-small\"\n        icon\n        :class=\"getSelectButtonClass\"\n        @click=\"select($event)\"\n      >\n        <v-icon>{{\n          isSelected ? \"mdi-check-circle\" : \"mdi-check-circle-outline\"\n        }}</v-icon>\n      </v-btn>\n    </v-card-title>\n    <template v-if=\"props.messages.length === 1\">\n      <v-md-preview :text=\"messages[0].content\" @click=\"handleClick\" />\n      <template v-if=\"!props.isThread && messages[0].threadIndex !== undefined\">\n        <!-- if the repsonse is not a thread and there is value in message.threadIndex, means thread existed for this response\n            we pass in threadIndex into <chat-thread> to render based on the threadIndex -->\n        <chat-thread\n          :key=\"rerenderThread\"\n          :threadIndex=\"messages[0].threadIndex\"\n          :updateThreadMessage=\"updateThreadMessage\"\n        ></chat-thread>\n      </template>\n    </template>\n    <v-carousel\n      v-else\n      hide-delimiter-background\n      :hide-delimiters=\"true\"\n      height=\"auto\"\n      :show-arrows=\"false\"\n      v-model=\"carouselModel\"\n    >\n      <v-carousel-item v-for=\"(message, i) in messages\" :key=\"i\">\n        <v-md-preview :text=\"message.content\" @click=\"handleClick\" />\n        <template v-if=\"!props.isThread && message.threadIndex !== undefined\">\n          <!-- if the repsonse is not a thread and there is value in message.threadIndex, means thread existed for this response\n          we pass in threadIndex into <chat-thread> to render based on the threadIndex -->\n          <chat-thread\n            :key=\"rerenderThread\"\n            :threadIndex=\"message.threadIndex\"\n            :updateThreadMessage=\"updateThreadMessage\"\n          ></chat-thread>\n        </template>\n      </v-carousel-item>\n    </v-carousel>\n    <v-card class=\"response\" style=\"padding: 0; margin-top: 0.5rem\" flat>\n      <v-card-title style=\"display: flex; padding: 0\">\n        <v-spacer></v-spacer>\n        <v-btn\n          flat\n          icon\n          size=\"x-small\"\n          ref=\"pageLeftButton\"\n          v-if=\"isShowPagingButton\"\n          @click=\"pageLeft\"\n          :disabled=\"carouselModel === 0\"\n        >\n          <v-icon>mdi-menu-left</v-icon>\n        </v-btn>\n        <v-btn\n          flat\n          icon\n          size=\"x-small\"\n          ref=\"pageRightButton\"\n          v-if=\"isShowPagingButton\"\n          @click=\"pageRight\"\n          :disabled=\"carouselModel === maxPage\"\n        >\n          <v-icon>mdi-menu-right</v-icon>\n        </v-btn>\n        <v-btn\n          flat\n          icon\n          size=\"x-small\"\n          v-if=\"!(!isShowResendButton && !isShowReplyButton)\"\n          :style=\"{ visibility: isShowResendButton ? 'visible' : 'hidden' }\"\n          @click=\"resendPrompt(messages[0])\"\n        >\n          <v-icon>mdi-refresh</v-icon>\n        </v-btn>\n        <v-btn\n          flat\n          icon\n          size=\"x-small\"\n          v-if=\"!(!isShowResendButton && !isShowReplyButton)\"\n          :style=\"{ visibility: isShowReplyButton ? 'visible' : 'hidden' }\"\n          :color=\"isShowReplyTextField ? 'primary' : ''\"\n          @click=\"toggleReplyButton\"\n        >\n          <v-icon>mdi-reply</v-icon>\n        </v-btn>\n      </v-card-title>\n      <div\n        v-show=\"isShowReplyTextField && isShowReplyButton\"\n        style=\"display: flex; align-items: flex-end; margin-top: 1rem\"\n      >\n        <v-textarea\n          style=\"\n            padding-left: 0.1rem;\n            padding-right: 0.5rem;\n            padding-bottom: 0.1rem;\n          \"\n          ref=\"replyRef\"\n          v-model=\"replyModel\"\n          auto-grow\n          max-rows=\"8.5\"\n          rows=\"1\"\n          density=\"compact\"\n          hide-details\n          variant=\"solo\"\n          :placeholder=\"`${$t('footer.sendPrompt')} ${botFullname}`\"\n          @keydown=\"filterEnterKey\"\n        ></v-textarea>\n        <v-btn\n          :disabled=\"replyModel.trim() === ''\"\n          color=\"primary\"\n          size=\"small\"\n          @click=\"sendPromptToBot\"\n        >\n          <v-icon>mdi-send</v-icon>\n        </v-btn>\n      </div>\n    </v-card>\n  </v-card>\n  <ConfirmModal ref=\"confirmModal\" />\n</template>\n\n<script setup>\nimport { onMounted, ref, watch, computed, nextTick, toRaw } from \"vue\";\nimport { useStore } from \"vuex\";\nimport i18n from \"@/i18n\";\nimport { useMatomo } from \"@/composables/matomo\";\nimport ConfirmModal from \"@/components/ConfirmModal.vue\";\nimport ChatThread from \"./ChatThread.vue\";\nimport bots from \"@/bots\";\nimport { Theme } from \"@/theme\";\n\nconst props = defineProps({\n  messages: {\n    type: Array,\n    required: true,\n  },\n  columns: {\n    type: Number,\n    required: true,\n  },\n  threadIndex: {\n    type: Number,\n    required: false,\n  },\n  isThread: {\n    type: Boolean,\n    default: false,\n  },\n});\n\nconst emits = defineEmits([\"update-message\", \"update-thread-message\"]);\n\nconst matomo = useMatomo();\nconst store = useStore();\n\nconst root = ref();\nconst replyModel = ref(\"\");\nconst replyRef = ref();\nconst pageLeftButton = ref();\nconst pageRightButton = ref();\nconst maxPage = computed(() => props.messages.length - 1);\nconst carouselModel = ref(maxPage.value);\nconst confirmModal = ref(null);\nconst isSelected = ref(false);\nconst isSelectedList = ref([]);\nconst isSelectedResponsesEmpty = ref(\n  store.state.selectedResponses.length === 0,\n);\nconst botInstance = computed(() => {\n  return bots.getBotByClassName(props.messages[0].className);\n});\n\nconst botLogo = computed(() => {\n  return botInstance.value ? botInstance.value.getLogo() : \"\";\n});\n\nconst botFullname = computed(() => {\n  return botInstance.value ? botInstance.value.getFullname() : \"\";\n});\n\nconst isBotLogoInverted = computed(() => {\n  return store.state.theme === Theme.DARK && botInstance.value?.isDarkLogo();\n});\n\nconst isHighlighted = computed(() => props.messages[maxPage.value].highlight); // if last response is hightlighted, return true\nconst isAllDone = computed(() => !props.messages.some((m) => !m.done)); // if any message is not done, return false\nconst isLatestPrompt = computed(\n  // if the current message response to user latest prompt, return true\n  // this flag is used to determine whether to hide Resend button, hide it when is not latest prompt\n  // to ensure the prompt and response in messages array is in correct order\n  () =>\n    props.messages[0].promptIndex !== undefined &&\n    store.getters.currentChat.latestPromptIndex !== undefined &&\n    store.getters.currentChat.latestPromptIndex ===\n      props.messages[0].promptIndex,\n);\n\nconst isLatestPromptForThread = computed(() => {\n  if (props.isThread) {\n    // if the current thread is response latest prompt, return true\n    // this flag is used to determine whether to hide Resend button in thread, hide it when is not latest prompt\n    // to ensure the prompt and response in messages array is in correct order\n    const responseIndex =\n      store.getters.currentChat.threads[props.threadIndex].responseIndex; // get responseIndex, from current thread\n    const threadPromptIndex =\n      store.getters.currentChat.messages[responseIndex].promptIndex; // using responseIndex to get response from messages, and in the repsonse we can retrieve promptIndex\n    return (\n      threadPromptIndex !== undefined &&\n      store.getters.currentChat.latestPromptIndex !== undefined &&\n      store.getters.currentChat.latestPromptIndex === threadPromptIndex\n    );\n  }\n  return false;\n});\nconst isShowReplyTextField = ref(false);\nconst isShowReplyButton = computed(() => {\n  return (\n    // show the thread text field when all conditions met\n    !props.isThread && // if current response is not a thread,\n    isAllDone.value && // if all response done,\n    messageBotIsSelected() && // if responding bot selected,\n    isLatestPrompt.value // if current response is a response to latest prompt,\n  );\n});\nconst isSomeResponsesHasThread = computed(() =>\n  // if some responses contain threadIndex, return true\n  props.messages.some((m) => m.threadIndex !== undefined),\n);\n\nconst isShowResendButton = computed(() => {\n  // show the resend button when all conditions met\n  if (props.isThread) {\n    return (\n      isAllDone.value && // if all response done\n      messageBotIsSelected() && // if responding bot selected\n      props.messages[0].promptIndex !== undefined && // if current threads is a response to latest prompt\n      store.getters.currentChat.threads[props.threadIndex].latestPromptIndex !==\n        undefined &&\n      store.getters.currentChat.threads[props.threadIndex].latestPromptIndex ===\n        props.messages[0].promptIndex &&\n      isLatestPromptForThread.value\n    );\n  } else {\n    return (\n      !isSomeResponsesHasThread.value && // if all responses don't have thread\n      isAllDone.value && // if all response done\n      messageBotIsSelected() && // if responding bot selected\n      isLatestPrompt.value // if current response is a response to latest prompt\n    );\n  }\n});\nconst isShowPagingButton = computed(() => props.messages.length > 1);\nconst getButtonClass = computed(() => ({\n  \"hide-btn\": !props.isThread,\n  \"hide-thread-btn\": props.isThread,\n}));\nconst getSelectButtonClass = computed(() => ({\n  \"hide-btn\": !props.isThread && isSelectedResponsesEmpty.value,\n  \"hide-thread-btn\": props.isThread && isSelectedResponsesEmpty.value,\n}));\n\n// Send the prompt when the user presses enter and prevent the default behavior\n// But if the shift, ctrl, alt, or meta keys are pressed, do as default\nfunction filterEnterKey(event) {\n  if (\n    event.keyCode == 13 &&\n    !event.shiftKey &&\n    !event.ctrlKey &&\n    !event.altKey &&\n    !event.metaKey\n  ) {\n    event.preventDefault();\n    sendPromptToBot();\n  }\n}\n\nfunction sendPromptToBot() {\n  if (replyModel.value.trim() === \"\") return;\n\n  store.dispatch(\"sendPromptInThread\", {\n    responseIndex: props.messages[maxPage.value].index, // always send prompt in thread to last page\n    threadIndex: props.messages[carouselModel.value].threadIndex,\n    prompt: replyModel.value,\n    bot: botInstance.value,\n  });\n\n  carouselModel.value = maxPage.value; // move to last page\n\n  // Clear the textarea after sending the prompt\n  replyModel.value = \"\";\n}\n\nwatch(\n  () => props.columns,\n  () => {\n    root.value.$el.style.setProperty(\"--columns\", props.columns);\n  },\n);\n\nconst rerenderThread = ref(0);\nconst rerenderThreadWhenChatIndexChanged = () => {\n  rerenderThread.value = Math.random();\n};\nwatch(() => store.state.currentChatIndex, rerenderThreadWhenChatIndexChanged);\nwatch(\n  () => store.state.selectedResponses.length,\n  updateIsSelectedResponsesEmpty,\n);\n\nconst updateThreadMessage = (threadIndex, messageIndex, values) => {\n  store.dispatch(\"updateThreadMessage\", {\n    indexes: {\n      chatIndex: store.state.currentChatIndex,\n      messageIndex,\n      threadIndex,\n    },\n    message: values,\n  });\n};\n\nonMounted(() => {\n  root.value.$el.style.setProperty(\"--columns\", props.columns);\n});\n\nfunction copyToClipboard() {\n  let content = props.messages[carouselModel.value].content;\n  if (props.messages[carouselModel.value].format === \"html\") {\n    content = content.replace(/<[^>]*>?/gm, \"\");\n  }\n  navigator.clipboard.writeText(content);\n  matomo.value?.trackEvent(\"vote\", \"copy\", props.messages[0].className, 1);\n}\n\nfunction toggleHighlight() {\n  if (props.isThread) {\n    emits(\n      \"update-thread-message\",\n      props.threadIndex,\n      props.messages[maxPage.value].index,\n      {\n        highlight: !props.messages[maxPage.value].highlight, // only update last response highlight\n      },\n    );\n  } else {\n    emits(\"update-message\", props.messages[maxPage.value].index, {\n      highlight: !props.messages[maxPage.value].highlight,\n    });\n  }\n  matomo.value?.trackEvent(\n    \"vote\",\n    \"highlight\",\n    props.messages[carouselModel.value].className,\n    props.messages[carouselModel.value].highlight ? -1 : 1,\n  );\n}\n\nasync function hide() {\n  const result = await confirmModal.value.showModal(\n    i18n.global.t(\"modal.confirmHide\"),\n  );\n  if (result) {\n    if (props.isThread) {\n      emits(\n        \"update-thread-message\",\n        props.threadIndex,\n        props.messages[carouselModel.value].index,\n        { hide: true },\n      );\n    } else {\n      emits(\"update-message\", props.messages[carouselModel.value].index, {\n        hide: true,\n      });\n    }\n    matomo.value?.trackEvent(\"vote\", \"hide\", props.messages[0].className, 1);\n  }\n}\n\nfunction handleClick(event) {\n  const target = event.target;\n  if (target.tagName !== \"A\" && target.parentElement.tagName !== \"A\") {\n    return;\n  }\n  if (target.target === \"innerWindow\") {\n    // Open in Electron inner window\n    return;\n  }\n  // Open in external browser\n  event.preventDefault();\n  const electron = window.require(\"electron\");\n  const url = target.href || target.parentElement.href;\n  electron.shell.openExternal(url);\n}\n\nfunction resendPrompt(responseMessage) {\n  matomo.value?.trackEvent(\"vote\", \"resend\", responseMessage.className, 1);\n\n  if (responseMessage.promptIndex === undefined) {\n    return;\n  }\n  if (props.isThread) {\n    const promptMessage =\n      store.getters.currentChat.threads[props.threadIndex].messages[\n        responseMessage.promptIndex\n      ];\n    if (promptMessage) {\n      store.dispatch(\"sendPromptInThread\", {\n        prompt: promptMessage.content,\n        bot: botInstance.value,\n        promptIndex: responseMessage.promptIndex,\n        responseIndex: responseMessage.index,\n        threadIndex: props.threadIndex,\n      });\n    } else {\n      // show not found\n    }\n  } else {\n    const promptMessage =\n      store.getters.currentChat.messages[responseMessage.promptIndex];\n    if (promptMessage) {\n      store.dispatch(\"sendPrompt\", {\n        prompt: promptMessage.content,\n        bots: [botInstance.value],\n        promptIndex: responseMessage.promptIndex,\n      });\n    } else {\n      // show not found\n    }\n  }\n}\n\nfunction messageBotIsSelected() {\n  var favBot = store.getters.currentChat.favBots.find(\n    (b) => b.classname === props.messages[0].className,\n  );\n  return favBot?.selected;\n}\n\nfunction toggleReplyButton() {\n  isShowReplyTextField.value = !isShowReplyTextField.value;\n  if (isShowReplyTextField.value) {\n    nextTick().then(replyRef.value.focus);\n  }\n}\n\nlet selectedIndex = undefined;\nasync function select(event) {\n  event.stopPropagation();\n  if (\n    pageLeftButton.value?.$el.contains(event.target) ||\n    pageRightButton.value?.$el.contains(event.target)\n  ) {\n    // return when click on page left, right button\n    return;\n  }\n\n  if (isSelected.value) {\n    store.commit(\"deleteSelectedResponses\", selectedIndex);\n    isSelected.value = false;\n    const index = isSelectedList.value.indexOf(carouselModel.value);\n    isSelectedList.value.splice(index, 1);\n  } else {\n    selectedIndex = await store.dispatch(\"addSelectedResponses\", {\n      ...toRaw(props.messages[carouselModel.value]),\n    });\n    isSelected.value = true;\n    isSelectedList.value.push(carouselModel.value);\n  }\n}\n\nfunction updateIsSelectedResponsesEmpty() {\n  isSelectedResponsesEmpty.value = store.state.selectedResponses.length === 0;\n  if (isSelectedResponsesEmpty.value) {\n    isSelected.value = false;\n    isSelectedList.value = [];\n  }\n}\n\nfunction pageLeft() {\n  carouselModel.value = Math.max(carouselModel.value - 1, 0);\n  isSelected.value = isSelectedList.value.includes(carouselModel.value);\n}\n\nfunction pageRight() {\n  carouselModel.value = Math.min(carouselModel.value + 1, maxPage.value);\n  isSelected.value = isSelectedList.value.includes(carouselModel.value);\n}\n</script>\n\n<style scoped>\n:deep() .v-responsive__content {\n  overflow: auto;\n}\n\n.message {\n  border-radius: 8px;\n  padding: 16px;\n  word-wrap: break-word;\n  text-align: left;\n}\n\n.highlight-border {\n  box-shadow: 0 0 0 2px rgba(var(--v-theme-primary), 1);\n}\n\n.prompt {\n  background-color: rgb(var(--v-theme-prompt));\n  width: fit-content;\n  grid-column: 1 / span var(--columns);\n}\n\n.prompt pre {\n  white-space: pre-wrap;\n  font-family: inherit;\n}\n\n.response {\n  background-color: rgb(var(--v-theme-response));\n  width: 100%;\n  grid-column: auto / span 1;\n}\n\n.response-thread {\n  background-color: rgb(var(--v-theme-response));\n  width: 99%;\n  grid-column: auto / span 1;\n  margin: auto;\n  margin-bottom: 0.2rem;\n}\n\n.title {\n  display: flex;\n  align-items: center;\n  font-size: 1rem;\n  padding: 0;\n  margin-bottom: 8px;\n}\n\n.title img {\n  width: 20px;\n  height: 20px;\n  margin-right: 4px;\n  border-radius: 4px;\n}\n\n.v-btn {\n  background-color: inherit;\n}\n\n:deep() pre.error {\n  max-height: 200px;\n  white-space: inherit;\n  background-color: inherit;\n}\n\n.hide-btn,\n.hide-thread-btn {\n  transition: 0.3s;\n  opacity: 0;\n}\n\n.response:hover .hide-btn,\n.response-thread:hover .hide-thread-btn {\n  opacity: 1;\n}\n\n.invert {\n  filter: invert(100%);\n}\n\n.cursor-pointer {\n  cursor: pointer;\n}\n\n.cursor-auto {\n  cursor: auto;\n}\n</style>\n","import script from \"./ChatResponse.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ChatResponse.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ChatResponse.vue?vue&type=style&index=0&id=7a17b926&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7a17b926\"]])\n\nexport default __exports__","<template>\n  <template v-for=\"(grouped, index) in groupedResponses\" :key=\"index\">\n    <chat-response\n      :columns=\"columns\"\n      :messages=\"grouped\"\n      :isThread=\"props.isThread\"\n      :threadIndex=\"props.threadIndex\"\n      @update-message=\"props.updateMessage\"\n      @update-thread-message=\"props.updateThreadMessage\"\n    ></chat-response>\n  </template>\n</template>\n\n<script setup>\nimport { computed } from \"vue\";\nimport ChatResponse from \"./ChatResponse.vue\";\n\nconst props = defineProps({\n  responses: {\n    type: Array,\n    default: () => [],\n  },\n  columns: {\n    type: Number,\n    required: true,\n  },\n  updateMessage: {\n    type: Function,\n  },\n  updateThreadMessage: {\n    type: Function,\n  },\n  threadIndex: {\n    type: Number,\n    required: false,\n  },\n  isThread: {\n    type: Boolean,\n    default: false,\n  },\n});\n\nconst groupedResponses = computed(() => {\n  // group by bot class name\n  // group responses' from same bot in an array to populate to v-carousel\n  return props.responses.reduce(function (r, a) {\n    r[a.className] = r[a.className] || [];\n    r[a.className].push(a);\n    return r;\n  }, Object.create(null));\n});\n</script>\n","import script from \"./ChatResponses.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ChatResponses.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <div class=\"messages\">\n    <div\n      class=\"message-grid\"\n      :style=\"{ gridTemplateColumns: gridTemplateColumns }\"\n    >\n      <template v-for=\"(message, index) in messages\" :key=\"index\">\n        <!-- Check if the current message is a prompt\n          If true, render <chat-prompt> component and set responses array empty -->\n        <chat-prompt\n          v-if=\"checkIsMessagePromptTypeAndEmptyResponsesIfTrue(message)\"\n          :columns=\"columns\"\n          :message=\"message\"\n        ></chat-prompt>\n        <template v-else>\n          <!-- If current message is response, push current message to responses array.\n            Then check if next message.type === 'prompt', if true, render <chat-responses> -->\n          <chat-responses\n            v-if=\"pushResponseAndCheckIsNextMessagePromptType(index, message)\"\n            :columns=\"columns\"\n            :responses=\"responses\"\n            :update-message=\"updateMessage\"\n          ></chat-responses>\n        </template>\n      </template>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { computed, nextTick, onMounted, onUnmounted, ref, watch } from \"vue\";\nimport { useStore } from \"vuex\";\nimport ChatPrompt from \"./ChatPrompt.vue\";\nimport ChatResponses from \"./ChatResponses.vue\";\n\nconst store = useStore();\n\nconst props = defineProps({\n  columns: {\n    type: Number,\n    default: 3,\n  },\n  chatIndex: {\n    type: Number,\n    default: 0,\n  },\n});\n\nconst autoScroll = ref(true);\nconst gridTemplateColumns = computed(() => `repeat(${props.columns}, 1fr)`);\nconst messages = computed(() => store.state.chats[props.chatIndex].messages);\n\nconst updateMessage = (index, values) => {\n  store.dispatch(\"updateMessage\", {\n    indexes: { chatIndex: store.state.currentChatIndex, messageIndex: index },\n    message: values,\n  });\n};\n\nconst scrollToBottom = ({ immediately = false }) => {\n  nextTick(() => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: immediately ? \"instant\" : \"smooth\",\n    });\n  });\n};\n\nconst autoScrollToBottom = () => {\n  if (autoScroll.value) {\n    scrollToBottom({ immediately: true });\n  }\n};\n\nwatch(() => store.getters.currentChat.messages.length, autoScrollToBottom);\nwatch(() => store.state.updateCounter, autoScrollToBottom);\n\nconst onScroll = () => {\n  const scrollPosition = window.pageYOffset + window.innerHeight;\n  autoScroll.value =\n    scrollPosition >= document.documentElement.scrollHeight - 10;\n};\n\nonMounted(() => {\n  store.getters.currentChat.messages.forEach((message) => {\n    message.done = true;\n  });\n  window.addEventListener(\"scroll\", onScroll);\n  scrollToBottom({ immediately: true });\n});\nonUnmounted(() => {\n  window.removeEventListener(\"scroll\", onScroll);\n});\n\nlet responses = []; // this array store a prompt responses\nfunction checkIsMessagePromptTypeAndEmptyResponsesIfTrue(message) {\n  if (message.type === \"prompt\") {\n    responses = []; // clear responses for next prompt's responses\n    return true;\n  }\n  return false;\n}\n\nfunction pushResponseAndCheckIsNextMessagePromptType(index, response) {\n  const nextIndex = index + 1;\n  if (!response.hide) responses.push(response);\n  if (nextIndex >= messages.value.length) {\n    return true; // allow last element\n  }\n  return messages.value[nextIndex].type === \"prompt\";\n}\n</script>\n\n<style scoped>\n.messages {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  justify-content: flex-start;\n  height: 100%;\n  overflow-y: auto;\n  gap: 16px;\n  padding: 0;\n}\n\n.message-grid {\n  display: grid;\n  grid-gap: 16px;\n  width: 100%;\n  padding: 2rem;\n}\n</style>\n","import script from \"./ChatMessages.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ChatMessages.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ChatMessages.vue?vue&type=style&index=0&id=3fc2c603&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3fc2c603\"]])\n\nexport default __exports__","<template>\n  <v-list>\n    <v-list-item>\n      <v-list-item-title>{{ $t(\"proxy.enableProxy\") }}</v-list-item-title>\n      <v-checkbox\n        :label=\"$t('settings.enable')\"\n        v-model=\"proxySettings.enableProxy\"\n        hide-details\n      ></v-checkbox>\n    </v-list-item>\n\n    <v-list-item>\n      <v-list-item-title>{{ $t(\"proxy.proxyMode\") }} </v-list-item-title>\n      <v-radio-group inline hide-details v-model=\"proxySettings.proxyMode\">\n        <v-radio :label=\"$t('proxy.globalMode')\" value=\"normal\"></v-radio>\n        <v-radio :label=\"$t('proxy.pacFileMode')\" value=\"pacFile\"></v-radio>\n        <v-radio :label=\"$t('proxy.pacUrlMode')\" value=\"pacUrl\"></v-radio>\n      </v-radio-group>\n    </v-list-item>\n\n    <v-list-item v-if=\"proxySettings.proxyMode == 'normal'\">\n      <v-list-item-title>{{ $t(\"proxy.address\") }}</v-list-item-title>\n      <v-text-field\n        v-model=\"proxySettings.proxyServer\"\n        :hint=\"\n          $t('settings.forExample', { example: $t('proxy.addressExample') })\n        \"\n        persistent-hint\n      ></v-text-field>\n      <v-list-item-title>{{ $t(\"proxy.byPass\") }}</v-list-item-title>\n      <v-tabs fixed-tabs v-model=\"bypassSetMode\">\n        <v-tab value=\"quickSet\">\n          {{ $t(\"proxy.quickSet\") }}\n        </v-tab>\n        <v-tab value=\"fullSet\">\n          {{ $t(\"proxy.fullSet\") }}\n        </v-tab>\n      </v-tabs>\n      <v-card>\n        <v-row\n          class=\"align-content-start\"\n          v-if=\"bypassSetMode == 'quickSet'\"\n          dense\n        >\n          <template v-for=\"(bot, index) in bots\" :key=\"index\">\n            <v-col cols=\"auto\" class=\"pt-2\">\n              <v-checkbox\n                v-model=\"botsProxy\"\n                :label=\"bot.name\"\n                :value=\"bot.name\"\n                hide-details\n              ></v-checkbox>\n            </v-col>\n          </template>\n        </v-row>\n      </v-card>\n      <v-card v-if=\"bypassSetMode == 'fullSet'\">\n        <v-textarea\n          v-model=\"proxySettings.proxyBypassList\"\n          :hint=\"$t('proxy.byPassHint')\"\n          persistent-hint\n        ></v-textarea>\n      </v-card>\n    </v-list-item>\n\n    <v-list-item v-if=\"proxySettings.proxyMode == 'pacFile'\">\n      <v-list-item-title>{{ $t(\"proxy.pacFile\") }}</v-list-item-title>\n      <v-text-field\n        v-model=\"proxySettings.pacFile\"\n        :label=\"$t('proxy.pacFileUsing')\"\n        disabled\n      ></v-text-field>\n      <v-file-input\n        :label=\"$t('proxy.pacFileNew')\"\n        @change=\"onFileChange\"\n      ></v-file-input>\n    </v-list-item>\n\n    <v-list-item v-if=\"proxySettings.proxyMode == 'pacUrl'\">\n      <v-list-item-title>{{ $t(\"proxy.pacUrl\") }}</v-list-item-title>\n      <v-text-field\n        v-model=\"proxySettings.pacUrl\"\n        :label=\"$t('proxy.pacUrl')\"\n      ></v-text-field>\n    </v-list-item>\n\n    <v-list-item>\n      <v-btn color=\"primary\" @click=\"saveAndActive\" class=\"ma-2 pa-2\">\n        {{ $t(\"proxy.saveAndApply\") }}\n      </v-btn>\n      <v-btn variant=\"outlined\" color=\"primary\" @click=\"onlySave\">\n        {{ $t(\"proxy.onlySave\") }}\n      </v-btn>\n      <v-btn\n        variant=\"outlined\"\n        color=\"primary\"\n        @click=\"reload\"\n        class=\"ma-2 pa-2\"\n      >\n        {{ $t(\"proxy.reload\") }}\n      </v-btn>\n      <v-btn variant=\"outlined\" color=\"primary\" @click=\"resetAll\">\n        {{ $t(\"proxy.reset\") }}\n      </v-btn>\n    </v-list-item>\n\n    <v-list-item>\n      <v-divider></v-divider>\n    </v-list-item>\n    <v-list-item>\n      <v-list-item-title>{{ $t(\"proxy.proxyFilePath\") }}</v-list-item-title>\n      <v-text-field\n        v-model=\"userDataPath\"\n        disabled\n        :hint=\"$t('proxy.proxyFilePathHint')\"\n        persistent-hint\n      ></v-text-field>\n    </v-list-item>\n  </v-list>\n\n  <v-snackbar\n    v-model=\"snackbar.show\"\n    :timeout=\"snackbar.timeout\"\n    :color=\"snackbar.color\"\n  >\n    {{ snackbar.text }}\n  </v-snackbar>\n\n  <ConfirmModal ref=\"confirmModal\" />\n</template>\n\n<script setup>\nimport ConfirmModal from \"@/components/ConfirmModal.vue\";\nimport i18n from \"@/i18n\";\nimport { onMounted, reactive, ref, watch } from \"vue\";\n\nconst electron = window.require(\"electron\");\nconst ipcRenderer = electron.ipcRenderer;\nconst confirmModal = ref(null);\n\nconst proxySettings = ref({});\nconst userDataPath = ref(\"\");\nconst snackbar = reactive({\n  show: false,\n  text: \"\",\n  timeout: 1500,\n  color: \"success\",\n});\n\nconst bots = ref([\n  {\n    name: i18n.global.t(\"bard.name\"),\n    bypassList: \"*.google.com\",\n  },\n  {\n    name: i18n.global.t(\"bingChat.name\"),\n    bypassList: \"*.bing.com\",\n  },\n  {\n    name: i18n.global.t(\"chatGpt.name\"),\n    bypassList: \"*.openai.com\",\n  },\n  {\n    name: i18n.global.t(\"ernie.name\"),\n    bypassList: \"yiyan.baidu.com\",\n  },\n  {\n    name: i18n.global.t(\"huggingChat.name\"),\n    bypassList: \"*.huggingface.co\",\n  },\n  {\n    name: i18n.global.t(\"gradio.name\"),\n    bypassList: \"*.gradio.app\",\n  },\n  {\n    name: i18n.global.t(\"lmsys.name\"),\n    bypassList: \"*.lmsys.org\",\n  },\n  {\n    name: i18n.global.t(\"moss.name\"),\n    bypassList: \"*.moss.fastnlp.top\",\n  },\n  {\n    name: i18n.global.t(\"openaiApi.name\"),\n    bypassList: \"*.openai.com\",\n  },\n  {\n    name: i18n.global.t(\"azureOpenaiApi.name\"),\n    bypassList: \"*.azure.com\",\n  },\n  {\n    name: i18n.global.t(\"poe.name\"),\n    bypassList: \"*.poe.com\",\n  },\n  {\n    name: i18n.global.t(\"qianWen.name\"),\n    bypassList: \"*.aliyun.com\",\n  },\n  {\n    name: i18n.global.t(\"skyWork.name\"),\n    bypassList: \"*.tiangong.cn\",\n  },\n  {\n    name: i18n.global.t(\"spark.name\"),\n    bypassList: \"*.xfyun.cn;*.mudu.tv;geetest.com\",\n  },\n  {\n    name: i18n.global.t(\"wenxinQianfan.name\"),\n    bypassList: \"*.aip.baidubce.com\",\n  },\n  {\n    name: i18n.global.t(\"proxy.googleService\"),\n    bypassList: \"*.google.com\",\n  },\n]);\nconst botsProxy = ref([]);\nconst newInputfile = ref(\"\");\nconst bypassSetMode = ref(\"\");\n\nonMounted(async () => {\n  userDataPath.value = await ipcRenderer.invoke(\"get-proxy-setting-path\");\n  proxySettings.value = await ipcRenderer.invoke(\"get-proxy-setting-content\");\n  botsProxy.value = JSON.parse(proxySettings.value.bypassBotsProxy);\n});\n\nasync function resetAll() {\n  const result = await confirmModal.value.showModal(\n    \"\",\n    i18n.global.t(\"proxy.resetAllMessage\"),\n  );\n  if (result) {\n    await ipcRenderer.invoke(\"reset-proxy-default-setting\");\n    proxySettings.value = await ipcRenderer.invoke(\"get-proxy-setting-content\");\n  }\n}\n\nasync function reload() {\n  const result = await confirmModal.value.showModal(\n    \"\",\n    i18n.global.t(\"proxy.reloadMessage\"),\n  );\n  if (result) {\n    proxySettings.value = await ipcRenderer.invoke(\"get-proxy-setting-content\");\n  }\n}\n\nasync function onlySave() {\n  console.log(proxySettings.value);\n  const oldPacFile = proxySettings.value.pacFile;\n  if (newInputfile.value) {\n    proxySettings.value.pacFile = newInputfile.value;\n  }\n  const data = JSON.parse(JSON.stringify(proxySettings.value));\n  const reply = await ipcRenderer.invoke(\"save-proxy-setting\", { data });\n  console.log(reply);\n  if (reply.success) {\n    snackbar.text = i18n.global.t(\"proxy.saveSuccess\");\n    snackbar.color = \"success\";\n    snackbar.timeout = 1000;\n  } else {\n    proxySettings.value.pacFile = oldPacFile;\n    // snackbar.text = `Save failed: ${reply.error}`;\n    snackbar.text = `${i18n.global.t(\"proxy.saveFailed\")}: ${reply.error}`;\n    snackbar.color = \"error\";\n    snackbar.timeout = 3000;\n  }\n  snackbar.show = true;\n}\n\nfunction onFileChange(file) {\n  console.log(file);\n  console.log(file.target.files[0].path);\n  newInputfile.value = file.target.files[0].path;\n}\n\nasync function saveAndActive() {\n  const result = await confirmModal.value.showModal(\n    \"\",\n    i18n.global.t(\"proxy.saveAndActiveMessage\"),\n  );\n  if (result) {\n    await onlySave();\n    await ipcRenderer.invoke(\"save-proxy-and-restart\");\n  }\n}\n\nwatch(botsProxy, (newVal) => {\n  let bypassListSet = new Set(proxySettings.value.proxyBypassList.split(\";\"));\n  console.log(bypassListSet);\n  console.log(newVal);\n  newVal.forEach((botName) => {\n    const bot = bots.value.find((bot) => bot.name === botName);\n    if (bot) {\n      bot.bypassList.split(\";\").forEach((item) => bypassListSet.add(item));\n    }\n  });\n  const bypassList = Array.from(bypassListSet).join(\";\");\n  console.log(bypassList); // bypassList\n  proxySettings.value.proxyBypassList = bypassList;\n  proxySettings.value.bypassBotsProxy = JSON.stringify(botsProxy.value);\n});\n\ndefineExpose({\n  proxySettings,\n  userDataPath,\n  snackbar,\n  onlySave,\n  saveAndActive,\n  reload,\n  resetAll,\n  onFileChange,\n});\n</script>\n","import script from \"./ProxySetting.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ProxySetting.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import {\n  PromptTemplate,\n  FewShotPromptTemplate,\n  LengthBasedExampleSelector,\n} from \"langchain/prompts\";\n\nconst prefixPlaceholder = `Summarize the data below in a markdown table with the bot name, difference, and response rating (1-5) columns.\nDo not include the response' value column in your table.\nSimplify the data and identify the differences.\nEach response is delimited by the \\`resp\\` tag.\nInside every response, the bot's name is delimited by the \\`name\\` tag, and the bot's response is delimited by the \\`value\\` tag.`;\nconst templatePlaceholder = `<resp>\n    <name>{botName}</name>\n    <value>{botResponse}</value>\n</resp>`;\nconst suffixPlaceholder = \"Give me the best response.\";\n\nasync function preview(prefix, exampleTemplate, suffix, data) {\n  const examplePrompt = new PromptTemplate({\n    template: exampleTemplate,\n    inputVariables: [\"botName\", \"botResponse\"],\n  });\n\n  const exampleSelector = await LengthBasedExampleSelector.fromExamples(data, {\n    examplePrompt,\n    maxLength: Number.MAX_VALUE,\n  });\n\n  const dynamicPrompt = new FewShotPromptTemplate({\n    exampleSelector,\n    examplePrompt,\n    prefix: prefix,\n    suffix: suffix,\n    inputVariables: [],\n  });\n  return await dynamicPrompt.format();\n}\n\nexport { prefixPlaceholder, templatePlaceholder, suffixPlaceholder, preview };\n","<template>\n  <v-list>\n    <v-list-item>\n      <v-btn\n        color=\"primary\"\n        variant=\"outlined\"\n        :text=\"$t('chat.deleteAllChatHistory')\"\n        @click=\"deleteChats\"\n      ></v-btn>\n      <v-btn\n        color=\"primary\"\n        variant=\"outlined\"\n        :text=\"$t('chat.downloadAllChatHistory')\"\n        @click=\"downloadJson\"\n        style=\"margin-left: 10px\"\n      ></v-btn>\n    </v-list-item>\n    <v-list-item>\n      <v-row>\n        <v-col class=\"align-baseline d-flex\" style=\"font-size: 1.5rem\">\n          <label class=\"pr-3\">{{ $t(\"chat.actions\") }}</label>\n          <v-btn\n            class=\"mt-1\"\n            color=\"primary\"\n            variant=\"outlined\"\n            prepend-icon=\"mdi-plus\"\n            :text=\"$t('chat.addAction')\"\n            @click=\"add\"\n          ></v-btn>\n        </v-col>\n      </v-row>\n    </v-list-item>\n    <v-list-item\n      v-for=\"action in userActions\"\n      density=\"comfortable\"\n      :key=\"action.index\"\n      :value=\"action.index\"\n      :ripple=\"false\"\n    >\n      <div class=\"align-center d-flex\">\n        <v-list-item-title class=\"pr-5\">{{ action.name }}</v-list-item-title>\n        <v-btn\n          flat\n          size=\"x-small\"\n          icon=\"mdi-pencil-outline\"\n          @click=\"edit(action)\"\n          style=\"background-color: transparent\"\n        ></v-btn>\n        <v-btn\n          flat\n          size=\"x-small\"\n          icon=\"mdi-delete-outline\"\n          @click=\"deleteAction(action)\"\n          style=\"margin: 0; background-color: transparent\"\n        ></v-btn>\n      </div>\n    </v-list-item>\n  </v-list>\n  <v-dialog\n    persistent\n    width=\"90%\"\n    height=\"90%\"\n    :model-value=\"isOpenAddEditAction\"\n    @update:model-value=\"isOpenAddEditAction = $event\"\n  >\n    <v-card>\n      <v-form ref=\"formRef\" class=\"pa-3\" @submit.prevent>\n        <v-text-field\n          required\n          autofocus\n          v-model=\"actionName\"\n          placeholder=\"Summarize\"\n          :label=\"$t('chat.actionName')\"\n          :rules=\"[required]\"\n        ></v-text-field>\n        <v-textarea\n          required\n          rows=\"3\"\n          v-model=\"prefix\"\n          :placeholder=\"prefixPlaceholder\"\n          :label=\"$t('chat.prefix')\"\n          @input=\"onInputTemplate\"\n        >\n        </v-textarea>\n        <v-textarea\n          required\n          rows=\"4\"\n          v-model=\"template\"\n          :placeholder=\"templatePlaceholder\"\n          :label=\"$t('chat.actionTemplate')\"\n          :rules=\"[required]\"\n          @input=\"onInputTemplate\"\n        >\n          <template v-slot:append-inner>\n            <v-btn\n              flat\n              size=\"x-small\"\n              icon=\"mdi-help\"\n              style=\"background-color: inherit\"\n              @click=\"\n                isShowTemplateParametersDialog = !isShowTemplateGuideTooltip\n              \"\n            >\n            </v-btn>\n          </template>\n        </v-textarea>\n        <v-textarea\n          required\n          rows=\"3\"\n          v-model=\"suffix\"\n          :placeholder=\"suffixPlaceholder\"\n          :label=\"$t('chat.suffix')\"\n          @input=\"onInputTemplate\"\n        >\n        </v-textarea>\n        <label class=\"pl-4\" style=\"font-size: 1.2rem\">{{\n          $t(\"chat.preview\")\n        }}</label>\n        <chat-prompt\n          class=\"w-100\"\n          :message=\"{ content: previewRef }\"\n          :isThread=\"false\"\n          :columns=\"3\"\n        ></chat-prompt>\n      </v-form>\n      <v-card-actions>\n        <v-spacer></v-spacer>\n        <v-btn\n          variant=\"outlined\"\n          color=\"primary\"\n          @click=\"isOpenAddEditAction = false\"\n          >{{ $t(\"modal.cancel\") }}</v-btn\n        >\n        <v-btn variant=\"flat\" class=\"bg-primary\" @click=\"addEditAction\">{{\n          $t(\"modal.done\")\n        }}</v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n  <v-dialog\n    width=\"auto\"\n    :model-value=\"isShowTemplateParametersDialog\"\n    v-on:after-leave=\"isShowTemplateParametersDialog = false\"\n  >\n    <v-card>\n      <v-md-preview class=\"pa-4\" :text=\"templateParametersInfo\" />\n    </v-card>\n  </v-dialog>\n  <ConfirmModal ref=\"confirmModal\" />\n</template>\n\n<script setup>\nimport { ref, computed } from \"vue\";\nimport { useStore } from \"vuex\";\nimport i18n from \"@/i18n\";\nimport ChatPrompt from \"@/components/Messages/ChatPrompt.vue\";\nimport ConfirmModal from \"@/components/ConfirmModal.vue\";\nimport bots from \"@/bots\";\nimport {\n  preview,\n  prefixPlaceholder,\n  templatePlaceholder,\n  suffixPlaceholder,\n} from \"../helpers/template-helper\";\nconst emit = defineEmits([\"close-dialog\"]);\nconst confirmModal = ref();\nconst formRef = ref(null);\nconst isOpenAddEditAction = ref(false);\nconst actionName = ref(\"\");\nconst prefix = ref(\"\");\nconst template = ref(\"\");\nconst suffix = ref(\"\");\nconst previewRef = ref(\"\");\nconst templateParametersInfo = `\n#### ${i18n.global.t(\"chat.templateParameters\")}:\n| ${i18n.global.t(\"chat.parameter\")}|${i18n.global.t(\"chat.description\")}|\n|-|-|\n|{botName}|${i18n.global.t(\"chat.botNameDesc\")}|\n|{botResponse}|${i18n.global.t(\"chat.botResponseDesc\")}|`;\nconst isShowTemplateParametersDialog = ref(false);\nconst store = useStore();\nconst userActions = computed(() => {\n  return store.state.actions.filter((p) => !p.hide);\n});\nconst previewSampleData = [\n  {\n    botName: \"Bing Chat (Creative)\",\n    botResponse: \"Hello, this is Bing. How are you today? \",\n  },\n  {\n    botName: \"ChatGPT (GPT-3.5)\",\n    botResponse: \"Hello! How can I assist you today?\",\n  },\n  {\n    botName: \"Bard\",\n    botResponse: \"Hi there! How can I help you today?\",\n  },\n  {\n    botName: \"YouChat\",\n    botResponse: \"Hi there! How can I assist you today?\",\n  },\n];\nlet editIndex = undefined;\nlet isEdit = false;\nconst required = (value) =>\n  value?.trim() ? true : i18n.global.t(\"prompt.required\");\n\n// This function downloads the chat history as a JSON file.\nconst downloadJson = () => {\n  // Get the chat history from localStorage.\n  const chatallMessages = localStorage.getItem(\"chatall-messages\");\n  if (!chatallMessages) {\n    console.error(\"chatall-messages not found in localStorage\");\n    return;\n  }\n\n  const chats = JSON.parse(chatallMessages)?.chats ?? [];\n\n  // Create an array of messages from the chat history.\n  const messages = chats\n    .filter((d) => !d.hide)\n    .map((chat) => ({\n      // The title of the chat.\n      title: chat.title,\n      // The messages in the chat.\n      messages: chat.messages\n        .filter((d) => !d.hide)\n        .reduce((arr, message) => {\n          const t = message.type;\n          const content = message.content;\n          if (t == \"prompt\") {\n            arr.push({\n              prompt: content,\n              responses: [],\n            });\n          } else {\n            const botClassname = message.className;\n            const bot = bots.getBotByClassName(botClassname);\n            const botName = bot.getFullname();\n            arr.at(-1).responses.push({\n              content,\n              botName,\n              botClassname,\n              botModel: message.model,\n              highlight: message.highlight,\n            });\n          }\n          return arr;\n        }, []),\n    }));\n\n  // Create a blob that contains the JSON data.\n  // The space parameter specifies the indentation of nested objects in the string representation.\n  const blob = new Blob([JSON.stringify({ chats: messages }, null, 2)], {\n    // The type of the blob.\n    type: \"application/json\",\n  });\n\n  const url = URL.createObjectURL(blob);\n\n  // Create a file name for the JSON file.\n  const date = new Date();\n  const year = date.getFullYear();\n  const month = String(date.getMonth() + 1).padStart(2, \"0\"); // months are 0-based in JavaScript\n  const day = String(date.getDate()).padStart(2, \"0\");\n  const hour = String(date.getHours()).padStart(2, \"0\");\n  const minute = String(date.getMinutes()).padStart(2, \"0\");\n  const second = String(date.getSeconds()).padStart(2, \"0\");\n  const fileName = `chatall-history-${year}${month}${day}-${hour}${minute}${second}`;\n\n  const a = document.createElement(\"a\");\n  a.href = url;\n  a.download = `${fileName}.json`;\n  document.body.appendChild(a);\n\n  // Click the anchor element to download the file.\n  a.click();\n\n  // Remove the anchor element from the document body.\n  document.body.removeChild(a);\n\n  // Revoke the URL for the blob.\n  URL.revokeObjectURL(url);\n};\nasync function deleteChats() {\n  const confirm = await confirmModal.value.showModal(\n    \"\",\n    i18n.global.t(\"chat.confirmDeleteAllChatHistory\"),\n  );\n  if (confirm) {\n    store.commit(\"deleteChats\");\n    emit(\"close-dialog\");\n  }\n}\n\nfunction add() {\n  isEdit = false;\n  actionName.value = \"\";\n  prefix.value = prefixPlaceholder;\n  template.value = templatePlaceholder;\n  suffix.value = suffixPlaceholder;\n  isOpenAddEditAction.value = true;\n  onInputTemplate();\n}\n\nfunction edit(item) {\n  isEdit = true;\n  actionName.value = item.name;\n  prefix.value = item.prefix;\n  template.value = item.template;\n  suffix.value = item.suffix;\n  editIndex = item.index;\n  isOpenAddEditAction.value = true;\n  onInputTemplate();\n}\n\nasync function onInputTemplate() {\n  try {\n    previewRef.value = await preview(\n      prefix.value,\n      template.value,\n      suffix.value,\n      previewSampleData,\n    );\n  } catch (error) {\n    previewRef.value = `Error:\\n${error.message}`;\n  }\n}\n\nasync function addEditAction() {\n  if ((await formRef.value.validate()).valid) {\n    if (isEdit) {\n      store.commit(\"editAction\", {\n        name: actionName.value,\n        prefix: prefix.value,\n        template: template.value,\n        suffix: suffix.value,\n        index: editIndex,\n      });\n    } else {\n      store.commit(\"addAction\", {\n        name: actionName.value,\n        prefix: prefix.value,\n        template: template.value,\n        suffix: suffix.value,\n      });\n    }\n    isOpenAddEditAction.value = false;\n  }\n}\n\nasync function deleteAction(item) {\n  const result = await confirmModal.value.showModal(\n    i18n.global.t(\"modal.confirmHideAction\"),\n  );\n  if (result) {\n    store.commit(\"deleteAction\", { ...item });\n  }\n}\n</script>\n<style scoped>\n.no-text-transform {\n  text-transform: none !important;\n}\n\n:deep() i.v-icon {\n  color: rgb(var(--v-theme-primary));\n}\n\n:deep() .v-textarea .v-field {\n  padding: 0;\n}\n</style>\n","import script from \"./ChatSetting.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ChatSetting.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ChatSetting.vue?vue&type=style&index=0&id=7c54998f&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7c54998f\"]])\n\nexport default __exports__","<template>\n  <v-dialog\n    :model-value=\"props.open\"\n    fullscreen\n    :scrim=\"false\"\n    transition=\"dialog-bottom-transition\"\n  >\n    <v-card class=\"overflow-hidden\">\n      <div class=\"d-flex flex-column h-screen\">\n        <v-toolbar height=\"100px\" dark color=\"primary\">\n          <v-toolbar-title>{{ $t(\"settings.title\") }}</v-toolbar-title>\n          <v-spacer></v-spacer>\n\n          <v-btn icon dark @click=\"closeDialog\">\n            <v-icon>mdi-close</v-icon>\n          </v-btn>\n        </v-toolbar>\n        <v-row style=\"height: calc(100% - 100px)\">\n          <v-col cols=\"2\" class=\"h-100 overflow-auto pr-0\">\n            <v-tabs v-model=\"tab\" direction=\"vertical\" color=\"primary\">\n              <v-tab value=\"general\">{{ $t(\"settings.general\") }}</v-tab>\n              <v-tab value=\"proxy\">{{ $t(\"proxy.name\") }}</v-tab>\n              <v-tab value=\"chat\">{{ $t(\"chat.name\") }}</v-tab>\n              <v-tab\n                v-for=\"(setting, index) in botSettings\"\n                :key=\"index\"\n                :value=\"index\"\n              >\n                {{ $t(`${setting.brand}.name`) }}\n              </v-tab>\n            </v-tabs>\n          </v-col>\n          <v-col class=\"h-100 overflow-auto\">\n            <v-list lines=\"two\" subheader>\n              <div v-if=\"tab == 'general'\">\n                <v-list-item>\n                  <v-list-item-title>{{\n                    $t(\"settings.language\")\n                  }}</v-list-item-title>\n                  <v-select\n                    :items=\"languages\"\n                    item-title=\"name\"\n                    item-value=\"code\"\n                    hide-details\n                    :model-value=\"lang\"\n                    @update:model-value=\"setCurrentLanguage($event)\"\n                  ></v-select>\n                </v-list-item>\n                <v-list-item>\n                  <v-list-item-title>{{\n                    $t(\"settings.theme\")\n                  }}</v-list-item-title>\n                  <v-select\n                    :items=\"modes\"\n                    item-title=\"name\"\n                    item-value=\"code\"\n                    hide-details\n                    :model-value=\"currentMode\"\n                    @update:model-value=\"setCurrentMode($event)\"\n                  ></v-select>\n                </v-list-item>\n              </div>\n\n              <div v-if=\"tab == 'proxy'\">\n                <component :is=\"proxy\"></component>\n              </div>\n\n              <div v-if=\"tab == 'chat'\">\n                <component :is=\"chat\" @close-dialog=\"closeDialog\"></component>\n              </div>\n\n              <template v-for=\"(setting, index) in botSettings\" :key=\"index\">\n                <component\n                  v-if=\"tab == index\"\n                  :is=\"setting.component\"\n                ></component>\n              </template>\n            </v-list>\n          </v-col>\n        </v-row>\n      </div>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script setup>\nimport { computed, ref } from \"vue\";\nimport { useStore } from \"vuex\";\nimport { useI18n } from \"vue-i18n\";\nimport { useTheme } from \"vuetify\";\n\nimport ProxySettings from \"@/components/ProxySetting.vue\";\nimport ChatSettings from \"@/components/ChatSetting.vue\";\n\nimport ChatGPTBotSettings from \"@/components/BotSettings/ChatGPTBotSettings.vue\";\nimport OpenAIAPIBotSettings from \"@/components/BotSettings/OpenAIAPIBotSettings.vue\";\nimport AzureOpenAIAPIBotSettings from \"./BotSettings/AzureOpenAIAPIBotSettings.vue\";\nimport BingChatBotSettings from \"@/components/BotSettings/BingChatBotSettings.vue\";\nimport SparkBotSettings from \"./BotSettings/SparkBotSettings.vue\";\nimport BardBotSettings from \"@/components/BotSettings/BardBotSettings.vue\";\nimport MOSSBotSettings from \"@/components/BotSettings/MOSSBotSettings.vue\";\nimport WenxinQianfanBotSettings from \"@/components/BotSettings/WenxinQianfanBotSettings.vue\";\nimport GradioAppBotSettings from \"@/components/BotSettings/GradioAppBotSettings.vue\";\nimport Falcon180bBotSettings from \"@/components/BotSettings/Falcon180bBotSettings.vue\";\nimport LMSYSBotSettings from \"@/components/BotSettings/LMSYSBotSettings.vue\";\nimport HuggingChatBotSettings from \"@/components/BotSettings/HuggingChatBotSettings.vue\";\nimport QianWenBotSettings from \"@/components/BotSettings/QianWenBotSettings.vue\";\nimport PoeBotSettings from \"@/components/BotSettings/PoeBotSettings.vue\";\nimport SkyWorkBotSettings from \"@/components/BotSettings/SkyWorkBotSettings.vue\";\nimport YouChatBotSettings from \"@/components/BotSettings/YouChatBotSettings.vue\";\nimport PhindBotSettings from \"@/components/BotSettings/PhindBotSettings.vue\";\nimport PiBotSettings from \"@/components/BotSettings/PiBotSettings.vue\";\nimport Qihoo360AIBrainBotSettings from \"./BotSettings/Qihoo360AIBrainBotSettings.vue\";\nimport OpenAssistantBotSettings from \"./BotSettings/OpenAssistantBotSettings.vue\";\nimport CharacterAIBotSettings from \"./BotSettings/CharacterAIBotSettings.vue\";\nimport ClaudeAIBotSettings from \"./BotSettings/ClaudeAIBotSettings.vue\";\nimport ChatGLMBotSettings from \"./BotSettings/ChatGLMBotSettings.vue\";\n\nimport { resolveTheme, applyTheme, Mode } from \"../theme\";\n\nconst { ipcRenderer } = window.require(\"electron\");\nconst { t: $t, locale } = useI18n();\nconst store = useStore();\nconst vuetifyTheme = useTheme();\n\nconst props = defineProps([\"open\"]);\nconst emit = defineEmits([\"update:open\", \"done\"]);\n\nconst tab = ref(null);\n\nconst botSettings = [\n  { brand: \"360AiBrain\", component: Qihoo360AIBrainBotSettings },\n  { brand: \"azureOpenaiApi\", component: AzureOpenAIAPIBotSettings },\n  { brand: \"bard\", component: BardBotSettings },\n  { brand: \"bingChat\", component: BingChatBotSettings },\n  { brand: \"characterAI\", component: CharacterAIBotSettings },\n  { brand: \"chatGpt\", component: ChatGPTBotSettings },\n  { brand: \"chatGlm\", component: ChatGLMBotSettings },\n  { brand: \"claudeAi\", component: ClaudeAIBotSettings },\n  { brand: \"falcon\", component: Falcon180bBotSettings },\n  { brand: \"gradio\", component: GradioAppBotSettings },\n  { brand: \"huggingChat\", component: HuggingChatBotSettings },\n  { brand: \"lmsys\", component: LMSYSBotSettings },\n  { brand: \"moss\", component: MOSSBotSettings },\n  { brand: \"openaiApi\", component: OpenAIAPIBotSettings },\n  { brand: \"openAssistant\", component: OpenAssistantBotSettings },\n  { brand: \"phind\", component: PhindBotSettings },\n  { brand: \"pi\", component: PiBotSettings },\n  { brand: \"poe\", component: PoeBotSettings },\n  { brand: \"qianWen\", component: QianWenBotSettings },\n  { brand: \"skyWork\", component: SkyWorkBotSettings },\n  { brand: \"spark\", component: SparkBotSettings },\n  { brand: \"wenxinQianfan\", component: WenxinQianfanBotSettings },\n  { brand: \"youChat\", component: YouChatBotSettings },\n];\n\nconst proxy = ProxySettings;\nconst chat = ChatSettings;\nconst languages = computed(() => [\n  { name: $t(\"settings.system\"), code: \"auto\" },\n  { name: \"Deutsch\", code: \"de\" },\n  { name: \"English\", code: \"en\" },\n  { name: \"Espaol\", code: \"es\" },\n  { name: \"Franais\", code: \"fr\" },\n  { name: \"Italiano\", code: \"it\" },\n  { name: \"\", code: \"ja\" },\n  { name: \"\", code: \"ko\" },\n  { name: \"\", code: \"ru\" },\n  { name: \"Ting Vit\", code: \"vi\" },\n  { name: \"\", code: \"zh\" },\n]);\n\nconst modes = computed(() => [\n  { name: $t(\"settings.system\"), code: Mode.SYSTEM },\n  { name: $t(\"settings.light\"), code: Mode.LIGHT },\n  { name: $t(\"settings.dark\"), code: Mode.DARK },\n]);\n\nconst lang = computed(() => store.state.lang);\nconst currentMode = computed(() => store.state.mode);\n\nconst setCurrentLanguage = (lang) => {\n  locale.value = lang;\n  store.commit(\"setCurrentLanguage\", lang);\n};\nconst setCurrentMode = async (mode) => {\n  const resolvedTheme = await resolveTheme(mode, ipcRenderer);\n  store.commit(\"setMode\", mode);\n  store.commit(\"setTheme\", resolvedTheme);\n  applyTheme(resolvedTheme, vuetifyTheme);\n};\nconst closeDialog = () => {\n  emit(\"update:open\", false);\n  emit(\"done\");\n};\n</script>\n\n<style scoped>\n:deep() .v-slider-thumb__label {\n  color: rgb(var(--v-theme-font));\n}\n\n/* Keep the orignal case of tab names */\n.v-btn {\n  text-transform: none !important;\n}\n</style>\n","import script from \"./SettingsModal.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SettingsModal.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./SettingsModal.vue?vue&type=style&index=0&id=2d9172c2&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2d9172c2\"]])\n\nexport default __exports__","<template>\n  <v-dialog :model-value=\"open\" persistent width=\"auto\">\n    <v-list v-if=\"botSettings !== null\">\n      <component :is=\"botSettings\" />\n      <v-card-actions>\n        <v-spacer></v-spacer>\n        <v-btn color=\"primary\" @click=\"onDone\">{{ $t(\"modal.done\") }}</v-btn>\n      </v-card-actions>\n    </v-list>\n  </v-dialog>\n</template>\n\n<script setup>\nimport { markRaw, ref, watch } from \"vue\";\n\nconst props = defineProps([\"open\", \"bot\"]);\nconst emit = defineEmits([\"update:open\", \"done\"]);\n\nconst botSettings = ref(null);\nwatch(\n  () => props.bot,\n  async (newBot) => {\n    if (newBot) {\n      botSettings.value = markRaw(await newBot.getSettingsComponent());\n    } else {\n      botSettings.value = null;\n    }\n  },\n);\n\nconst onDone = () => {\n  emit(\"update:open\", false);\n  emit(\"done\");\n};\n</script>\n\n<style scoped></style>\n","import script from \"./MakeAvailableModal.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MakeAvailableModal.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <v-avatar\n    rounded=\"rounded\"\n    :class=\"{ active: active, invert: isLogoInverted }\"\n    :image=\"bot.getLogo()\"\n    :alt=\"bot.getFullname()\"\n    :title=\"bot.getFullname()\"\n  ></v-avatar>\n</template>\n\n<script setup>\nimport { computed } from \"vue\";\nimport { useStore } from \"vuex\";\nimport { Theme } from \"@/theme\";\n\nconst store = useStore();\nconst props = defineProps([\"bot\", \"active\"]);\nconst isLogoInverted = computed(() => {\n  return store.state.theme === Theme.DARK && props.bot?.isDarkLogo();\n});\n</script>\n\n<style>\n.v-avatar {\n  opacity: 0.5;\n  filter: grayscale(100%);\n  cursor: pointer;\n}\n\n.active {\n  opacity: 1;\n  filter: grayscale(0%);\n}\n\n.invert {\n  filter: invert(100%);\n}\n</style>\n","import script from \"./BotLogo.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./BotLogo.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./BotLogo.vue?vue&type=style&index=0&id=5e9ca404&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <div class=\"text-center\">\n    <v-menu\n      v-model=\"menu\"\n      :close-on-content-click=\"false\"\n      location=\"top\"\n      scroll-strategy=\"block\"\n      offset=\"12\"\n    >\n      <template v-slot:activator=\"{ props }\">\n        <v-btn\n          v-bind=\"props\"\n          size=\"36\"\n          color=\"primary\"\n          flat\n          icon=\"mdi-dots-horizontal\"\n        >\n        </v-btn>\n      </template>\n\n      <v-card>\n        <v-list\n          class=\"bots-list\"\n          density=\"compact\"\n          :selected=\"favorited\"\n          select-strategy=\"classic\"\n          nav\n        >\n          <v-list-item\n            v-for=\"(bot, index) in shownBots\"\n            :key=\"index\"\n            :value=\"bot.getClassname()\"\n            color=\"primary\"\n            @click=\"toggleFavorite(bot)\"\n          >\n            <template v-slot:prepend=\"{ isActive }\">\n              <v-list-item-action start>\n                <v-checkbox-btn\n                  color=\"primary\"\n                  :model-value=\"isActive\"\n                ></v-checkbox-btn>\n              </v-list-item-action>\n            </template>\n            <v-list-item-title>\n              <BotLogo :bot=\"bot\" active=\"true\" size=\"24\"></BotLogo>&nbsp;\n              <span>{{ bot.getFullname() }}</span>\n            </v-list-item-title>\n          </v-list-item>\n        </v-list>\n\n        <v-divider></v-divider>\n\n        <v-list>\n          <v-list-item>\n            <v-list-item-title class=\"font-weight-black\">\n              {{ $t(\"footer.chooseFavorite\") }}\n            </v-list-item-title>\n            <template v-slot:append>\n              <v-btn-toggle\n                v-model=\"selectedTags\"\n                divided\n                color=\"primary\"\n                group\n                variant=\"outlined\"\n                rounded=\"xl\"\n                @update:model-value=\"filterBots($event)\"\n              >\n                <v-btn v-for=\"(tag, index) in tags\" :key=\"index\" :value=\"tag\">\n                  {{ $t(`footer.${tag}`) }}\n                </v-btn>\n              </v-btn-toggle>\n            </template>\n          </v-list-item>\n        </v-list>\n      </v-card>\n    </v-menu>\n  </div>\n</template>\n\n<script setup>\nimport { computed, ref } from \"vue\";\n\nimport bots from \"@/bots\";\nimport { botTags } from \"@/bots\";\nimport BotLogo from \"./BotLogo.vue\";\nimport store from \"@/store\";\n\nlet menu = ref(false);\n\nconst props = defineProps([\"favBots\"]);\nconst favorited = computed(() => {\n  return props.favBots.map((bot) => bot.classname);\n});\n\nconst tags = Object.keys(botTags);\nconst selectedTags = ref([]);\n\nconst notDisabledBots = bots.all.filter((bot) => !bot.isDisabled());\nconst shownBots = ref(notDisabledBots);\n\nconst toggleFavorite = (bot) => {\n  const classname = bot.getClassname();\n  if (favorited.value.includes(classname)) {\n    store.commit(\"removeFavoriteBot\", classname);\n  } else {\n    store.commit(\"addFavoriteBot\", classname);\n  }\n};\n\nfunction toggleMenu() {\n  menu.value = !menu.value;\n}\n\nfunction filterBots(selectedTags) {\n  let filteredIn = notDisabledBots;\n\n  // If the toggle is not multi-select, the selectedTags will be a string\n  if (typeof selectedTags === \"string\") {\n    selectedTags = [selectedTags];\n  }\n\n  if (selectedTags?.length) {\n    const tagBots = selectedTags.map((tag) => botTags[tag]);\n    filteredIn = filteredIn.filter((bot) => {\n      return tagBots.every((tagBot) => tagBot.includes(bot));\n    });\n  }\n  shownBots.value = filteredIn;\n}\n\ndefineExpose({\n  toggleMenu,\n});\n</script>\n\n<style>\n.bots-list {\n  column-count: 3;\n}\n\n/* Keep the orignal case of tab names */\n.v-btn {\n  text-transform: none !important;\n}\n</style>\n","import script from \"./BotsMenu.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./BotsMenu.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./BotsMenu.vue?vue&type=style&index=0&id=4ea8786e&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","import en from \"./prompts-en.json\";\nimport zh from \"./prompts-zh.json\";\nimport es from \"./prompts-es.json\";\n\nconst prompts = {\n  en,\n  zh,\n  es,\n  languages: [\n    { name: \"English\", code: \"en\" },\n    { name: \"\", code: \"zh\" },\n    { name: \"Espaol\", code: \"es\" },\n  ],\n};\n\nexport default prompts;\n","<template>\n  <div>\n    <v-dialog\n      :model-value=\"props.open\"\n      @update:model-value=\"closeDialog\"\n      @after-leave=\"onDialogCloseTransitionEnded\"\n    >\n      <v-card class=\"justify-center\">\n        <v-card-title>\n          <v-text-field\n            clearable\n            v-model=\"search\"\n            density=\"compact\"\n            append-icon=\"mdi-magnify\"\n            :label=\"$t('find.find')\"\n            single-line\n            hide-details\n            autofocus\n          ></v-text-field>\n          <div class=\"pt-2 d-flex justify-space-between\">\n            <v-btn\n              class=\"mt-1\"\n              prepend-icon=\"mdi-plus\"\n              :text=\"$t('prompt.addPrompt')\"\n              @click=\"add\"\n            ></v-btn>\n            <v-spacer></v-spacer>\n            <v-spacer></v-spacer>\n\n            <v-select\n              color=\"primary\"\n              density=\"compact\"\n              :items=\"prompts.languages\"\n              hide-details\n              item-title=\"name\"\n              item-value=\"code\"\n              :model-value=\"language\"\n              @update:model-value=\"setPromptLanguage($event)\"\n            ></v-select>\n          </div>\n        </v-card-title>\n        <v-data-table\n          :headers=\"headers\"\n          :items=\"data\"\n          :search=\"search\"\n          height=\"70vh\"\n          fixed-header\n          hover\n          :no-data-text=\"$t('find.noMatches')\"\n          items-per-page=\"10\"\n        >\n          <template v-slot:item=\"{ item }\">\n            <tr>\n              <td\n                @click=\"usePrompt(item.raw)\"\n                @mouseover=\"showFullText($event)\"\n                @mouseleave=\"hideFullText($event)\"\n              >\n                {{ item.columns.title }}\n              </td>\n              <td\n                @click=\"usePrompt(item.raw)\"\n                @mouseover=\"showFullText($event)\"\n                @mouseleave=\"hideFullText($event)\"\n              >\n                {{ item.columns.prompt }}\n              </td>\n              <td>\n                <v-btn\n                  flat\n                  size=\"x-small\"\n                  :icon=\"item.raw.isPin ? 'mdi-star' : 'mdi-star-outline'\"\n                  @click=\"pin(item.raw)\"\n                ></v-btn>\n                <v-btn\n                  flat\n                  size=\"x-small\"\n                  icon=\"mdi-pencil\"\n                  @click=\"edit(item.raw)\"\n                  v-if=\"item.raw.index >= 0\"\n                ></v-btn>\n                <v-btn\n                  flat\n                  size=\"x-small\"\n                  icon=\"mdi-delete-outline\"\n                  @click=\"deletePrompt(item.raw)\"\n                  v-if=\"item.raw.index >= 0\"\n                ></v-btn>\n              </td>\n            </tr>\n          </template>\n        </v-data-table>\n      </v-card>\n    </v-dialog>\n\n    <v-dialog\n      persistent\n      width=\"50%\"\n      :model-value=\"isOpenAddEditPrompt\"\n      @update:model-value=\"isOpenAddEditPrompt = $event\"\n    >\n      <v-card>\n        <v-form ref=\"formRef\" class=\"pa-3\" @submit.prevent>\n          <v-text-field\n            required\n            :placeholder=\"$t('prompt.title')\"\n            v-model=\"title\"\n            :rules=\"requiredRule\"\n          ></v-text-field>\n          <v-textarea\n            required\n            :placeholder=\"$t('prompt.prompt')\"\n            v-model=\"prompt\"\n            :rules=\"requiredRule\"\n          ></v-textarea>\n        </v-form>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn\n            variant=\"outlined\"\n            color=\"primary\"\n            @click=\"isOpenAddEditPrompt = false\"\n            >{{ $t(\"modal.cancel\") }}</v-btn\n          >\n          <!-- color=\"primary\" not working for nested dialog button -->\n          <v-btn variant=\"flat\" class=\"bg-primary\" @click=\"addEditPrompt\">{{\n            $t(\"modal.done\")\n          }}</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n    <ConfirmModal ref=\"confirmModal\" />\n  </div>\n</template>\n\n<script setup>\nimport ConfirmModal from \"@/components/ConfirmModal.vue\";\nimport i18n from \"@/i18n\";\nimport prompts from \"@/prompts\";\nimport { computed, ref } from \"vue\";\nimport { useStore } from \"vuex\";\n\nconst store = useStore();\nconst props = defineProps([\"open\"]);\nconst emit = defineEmits([\"update:open\", \"afterLeave\"]);\nconst defaultLanguage = prompts.languages\n  .map((lang) => lang.code)\n  .includes(i18n.global.locale.value)\n  ? i18n.global.locale.value // use user langauge if availble\n  : \"en\"; // else default to 'en'\nconst language = ref(defaultLanguage);\nconst search = ref(\"\");\nconst title = ref(\"\");\nconst prompt = ref(\"\");\nconst isEdit = ref(false);\nconst editIndex = ref(null);\nconst formRef = ref(null);\nconst confirmModal = ref(null);\nconst isOpenAddEditPrompt = ref(false);\nlet selectedPrompt = \"\";\nconst requiredRule = [\n  (value) => (value?.trim() ? true : i18n.global.t(\"prompt.required\")),\n];\n\nconst headers = computed(() => [\n  {\n    key: \"title\",\n    title: i18n.global.t(\"prompt.title\"),\n    width: \"20%\",\n  },\n  { key: \"prompt\", title: i18n.global.t(\"prompt.prompt\"), width: \"70%\" },\n  {\n    key: \"action\",\n    title: i18n.global.t(\"prompt.action\"),\n    width: \"10%\",\n    sortable: false,\n  },\n]);\nconst userPrompts = computed(() => {\n  return store.state.prompts\n    .slice()\n    .filter((p) => !p.hide)\n    .sort((x, y) => {\n      return x.isPin === y.isPin ? 0 : x.isPin ? -1 : 1;\n    });\n});\nconst data = computed(() => {\n  const defaultPrompts = prompts[language.value].map((prompt) => {\n    return { title: prompt.act, prompt: prompt.prompt };\n  });\n\n  return [...userPrompts.value, ...defaultPrompts];\n});\n\nconst closeDialog = (value) => {\n  emit(\"update:open\", value);\n};\n\nfunction pin(row) {\n  if (row.index >= 0) {\n    store.commit(\"editPrompt\", {\n      ...row,\n      isPin: !row.isPin,\n    });\n  } else {\n    store.commit(\"addPrompt\", { ...row, isPin: true });\n  }\n}\n\nfunction usePrompt(row) {\n  selectedPrompt = row.prompt;\n  emit(\"update:open\", false);\n}\n\nasync function addEditPrompt() {\n  if ((await formRef.value.validate()).valid) {\n    if (isEdit.value) {\n      store.commit(\"editPrompt\", {\n        title: title.value,\n        prompt: prompt.value,\n        index: editIndex.value,\n      });\n    } else {\n      store.commit(\"addPrompt\", { title: title.value, prompt: prompt.value });\n    }\n    isOpenAddEditPrompt.value = false;\n  }\n}\n\nfunction add() {\n  isEdit.value = false;\n  title.value = \"\";\n  prompt.value = \"\";\n  isOpenAddEditPrompt.value = true;\n}\n\nfunction edit(item) {\n  isEdit.value = true;\n  title.value = item.title;\n  prompt.value = item.prompt;\n  editIndex.value = item.index;\n  isOpenAddEditPrompt.value = true;\n}\n\nasync function deletePrompt(item) {\n  const result = await confirmModal.value.showModal(\n    i18n.global.t(\"modal.confirmHidePrompt\"),\n  );\n  if (result) {\n    store.commit(\"deletePrompt\", { ...item });\n  }\n}\n\nfunction showFullText(element) {\n  const parent = element.currentTarget.closest(\"tr\");\n  if (parent.querySelector(\".tooltip\")) {\n    return;\n  }\n  for (let i = 0; i < parent.children.length - 1; i++) {\n    const td = parent.children[i];\n    const position = td.getBoundingClientRect();\n    const div = document.createElement(\"div\");\n    div.innerText = td.innerText;\n    td.innerText = \"\";\n    div.classList.add(\"tooltip\");\n    div.style.width = `${position.width}px`;\n    div.addEventListener(\"mouseleave\", hideFullText);\n    td.appendChild(div);\n  }\n}\n\nfunction hideFullText(element) {\n  const parent = element.currentTarget.closest(\"tr\");\n  if (!element.toElement || !parent.contains(element.toElement)) {\n    const toRemove = parent.querySelectorAll(\".tooltip\");\n    for (let i = 0; i < toRemove.length; i++) {\n      toRemove[i].parentElement.innerText = toRemove[i].innerText;\n      toRemove[i].remove();\n    }\n  }\n}\n\nfunction setPromptLanguage(value) {\n  language.value = value;\n}\n\nfunction onDialogCloseTransitionEnded() {\n  emit(\"afterLeave\", selectedPrompt);\n  selectedPrompt = \"\";\n  search.value = \"\";\n}\n</script>\n\n<style scoped>\n:deep() tr {\n  cursor: pointer;\n}\n\n:deep() td:nth-child(1),\ntd:nth-child(2) {\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n\n:deep() table {\n  table-layout: fixed;\n}\n\n:deep() .tooltip {\n  padding-right: 16px;\n  white-space: break-spaces;\n  background-color: transparent;\n}\n</style>\n","import script from \"./PromptModal.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PromptModal.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./PromptModal.vue?vue&type=style&index=0&id=be457426&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-be457426\"]])\n\nexport default __exports__","<template>\n  <v-bottom-navigation\n    class=\"footer\"\n    v-shortkey=\"{\n      focusPromptTextarea: SHORTCUT_PROMPT_TEXTAREA.key,\n      toggleBotsMenu: SHORTCUT_BOTS_MENU.key,\n    }\"\n    @shortkey=\"handleShortcut\"\n  >\n    <div\n      style=\"\n        width: 100%;\n        display: flex;\n        flex-direction: row;\n        align-items: flex-end;\n      \"\n    >\n      <v-textarea\n        :id=\"SHORTCUT_PROMPT_TEXTAREA.elementId\"\n        v-model=\"prompt\"\n        ref=\"promptTextArea\"\n        auto-grow\n        max-rows=\"8.5\"\n        rows=\"1\"\n        density=\"comfortable\"\n        hide-details\n        variant=\"solo\"\n        :placeholder=\"$t('footer.promptPlaceholder')\"\n        autofocus\n        @keydown=\"filterEnterKey\"\n        style=\"min-width: 390px\"\n      >\n        <template v-slot:append-inner>\n          <v-btn\n            :id=\"SHORTCUT_PROMPT_MANAGEMENT.elementId\"\n            @click=\"isPromptManagementOpen = !isPromptManagementOpen\"\n            color=\"primary\"\n            variant=\"plain\"\n            class=\"h-100 w-100\"\n            style=\"border-radius: 4px; min-width: unset !important\"\n            icon=\"mdi-creation-outline\"\n          ></v-btn>\n        </template>\n      </v-textarea>\n      <v-btn\n        class=\"send-prompt-btn\"\n        elevation=\"2\"\n        :disabled=\"\n          prompt.trim() === '' ||\n          favBots.filter((favBot) => activeBots[favBot.classname]).length === 0\n        \"\n        @click=\"sendPromptToBots\"\n      >\n        {{ $t(\"footer.sendPrompt\") }}\n      </v-btn>\n      <div class=\"bot-logos\" ref=\"favBotLogosRef\" :key=\"rerenderFavBotLogos\">\n        <BotLogo\n          v-for=\"(bot, index) in favBots\"\n          :id=\"`fav-bot-${index + 1}`\"\n          :key=\"index\"\n          :bot=\"bot.instance\"\n          :active=\"activeBots[bot.classname]\"\n          :data-id=\"bot.classname\"\n          size=\"36\"\n          @click=\"toggleSelected(bot.instance)\"\n          v-shortkey=\"['ctrl', `${index + 1}`]\"\n          @shortkey=\"toggleSelected(bot.instance)\"\n        />\n      </div>\n      <BotsMenu\n        style=\"padding-bottom: 0.5rem; padding-left: 4px\"\n        :id=\"SHORTCUT_BOTS_MENU.elementId\"\n        ref=\"botsMenuRef\"\n        :favBots=\"favBots\"\n      />\n    </div>\n    <MakeAvailableModal v-model:open=\"isMakeAvailableOpen\" :bot=\"clickedBot\" />\n    <ConfirmModal ref=\"confirmModal\" />\n    <PromptModal\n      v-shortkey=\"SHORTCUT_PROMPT_MANAGEMENT.key\"\n      @shortkey=\"isPromptManagementOpen = !isPromptManagementOpen\"\n      v-model:open=\"isPromptManagementOpen\"\n      @after-leave=\"usePrompt\"\n    ></PromptModal>\n  </v-bottom-navigation>\n</template>\n\n<script setup>\nimport {\n  ref,\n  computed,\n  onMounted,\n  onBeforeMount,\n  reactive,\n  watch,\n  nextTick,\n} from \"vue\";\nimport { useStore } from \"vuex\";\nimport Sortable from \"sortablejs\";\n\n// Components\nimport MakeAvailableModal from \"@/components/MakeAvailableModal.vue\";\nimport ConfirmModal from \"@/components/ConfirmModal.vue\";\nimport BotLogo from \"./BotLogo.vue\";\nimport BotsMenu from \"./BotsMenu.vue\";\nimport PromptModal from \"@/components/PromptModal.vue\";\n\n// Composables\nimport { useMatomo } from \"@/composables/matomo\";\n\nimport _bots from \"@/bots\";\nimport {\n  SHORTCUT_PROMPT_TEXTAREA,\n  SHORTCUT_PROMPT_MANAGEMENT,\n  SHORTCUT_BOTS_MENU,\n} from \"./../ShortcutGuide/shortcut.const\";\n\nconst { ipcRenderer } = window.require(\"electron\");\n\nconst store = useStore();\nconst matomo = useMatomo();\nconst emit = defineEmits([\"updateActiveBots\"]);\n\nconst confirmModal = ref(null);\nconst promptTextArea = ref(null);\nconst botsMenuRef = ref(null);\nconst favBotLogosRef = ref();\nconst isPromptManagementOpen = ref(false);\n\nconst bots = ref(_bots.all);\nconst activeBots = reactive({});\nconst rerenderFavBotLogos = ref(0);\nconst favBots = computed(() => {\n  const _favBots = [];\n  store.getters.currentChat.favBots.forEach((favBot) => {\n    _favBots.push({\n      ...favBot,\n      instance: _bots.getBotByClassName(favBot.classname),\n    });\n  });\n  return _favBots\n    .filter((bot) => bot.instance)\n    .sort((a, b) => a.order - b.order); // sort by order property\n});\n\nconst prompt = ref(\"\");\nconst clickedBot = ref(null);\nconst isMakeAvailableOpen = ref(false);\n\nwatch(favBots, async (newValue, oldValue) => {\n  const botsToCheck = newValue.filter((newBot) => {\n    return !oldValue.some((oldBot) => oldBot.classname === newBot.classname);\n  });\n  await botsToCheck.forEach(async (favBot) => {\n    const bot = favBot.instance;\n    if (!bot.isAvailable()) {\n      await bot.checkAvailability();\n      updateActiveBots();\n    }\n  });\n  updateActiveBots();\n});\n\nasync function updateActiveBots() {\n  for (const favBot of favBots.value) {\n    // Unselect the bot if user has not confirmed to use it\n    if (favBot.selected) {\n      const confirmed = await favBot.instance.confirmBeforeUsing(\n        confirmModal.value,\n      );\n      if (!confirmed) {\n        store.commit(\"setBotSelected\", {\n          botClassname: favBot.classname,\n          selected: false,\n        });\n      }\n    }\n    activeBots[favBot.classname] =\n      favBot.instance.isAvailable() && favBot.selected;\n  }\n  emit(\"updateActiveBots\", activeBots);\n}\n\nfunction focusPromptTextarea() {\n  promptTextArea.value.focus();\n}\n\nfunction toggleBotsMenu() {\n  botsMenuRef.value.toggleMenu();\n}\n\nfunction handleShortcut(event) {\n  if (event.srcKey === \"focusPromptTextarea\") {\n    focusPromptTextarea();\n  } else if (event.srcKey === \"toggleBotsMenu\") {\n    toggleBotsMenu();\n  }\n}\n\n// Send the prompt when the user presses enter and prevent the default behavior\n// But if the shift, ctrl, alt, or meta keys are pressed, do as default\nfunction filterEnterKey(event) {\n  const keyCode = event.keyCode;\n  if (\n    keyCode == 13 &&\n    !event.shiftKey &&\n    !event.ctrlKey &&\n    !event.altKey &&\n    !event.metaKey\n  ) {\n    event.preventDefault();\n    sendPromptToBots();\n  }\n\n  // up or down\n  const isUpOrDown =\n    keyCode == historyKeyCode.pre || keyCode == historyKeyCode.next;\n\n  const isAuxiliaryKey = event.metaKey || event.ctrlKey;\n\n  // macOS: Cmd + up/down, Windows: Ctrl + up/down\n  if (isAuxiliaryKey && isUpOrDown) {\n    event.preventDefault();\n\n    // get new prompt and set it\n    const newPrompt = getHistoryPrompt(keyCode);\n    prompt.value = newPrompt.content;\n  }\n}\n\nfunction sendPromptToBots() {\n  if (prompt.value.trim() === \"\") return;\n\n  const toBots = favBots.value\n    .filter((favBot) => activeBots[favBot.classname])\n    .map((favBot) => favBot.instance);\n\n  if (toBots.length === 0) return;\n\n  const isFirstPrompt = store.getters.currentChat.messages.length === 0;\n  store\n    .dispatch(\"sendPrompt\", {\n      prompt: prompt.value,\n      bots: toBots,\n    })\n    .then(() => updateChatTitleWithFirstPrompt(isFirstPrompt));\n\n  // Clear the textarea after sending the prompt\n  prompt.value = \"\";\n\n  // reset prompt index\n  promptIndex = 0;\n\n  matomo.value?.trackEvent(\n    \"prompt\",\n    \"send\",\n    \"Active bots count\",\n    toBots.length,\n  );\n}\n\n// current prompt index\nlet promptIndex = 0;\n\n// up and down key code\nconst historyKeyCode = { pre: 38, next: 40 };\n\n// Listen to the up and down arrow keys to obtain historical records.\nfunction getHistoryPrompt(keyCode) {\n  const historyPrompts = store.getters.getCurrentChatPrompt;\n\n  if (!historyPrompts || !historyPrompts.length) return false;\n\n  if (keyCode === historyKeyCode.pre) {\n    // get previous prompt\n    promptIndex =\n      (promptIndex - 1 + historyPrompts.length) % historyPrompts.length;\n  } else if (keyCode === historyKeyCode.next) {\n    // get next prompt\n    promptIndex = (promptIndex + 1) % historyPrompts.length;\n  }\n\n  return historyPrompts[promptIndex];\n}\n\nasync function toggleSelected(bot) {\n  const botClassname = bot.getClassname();\n  let selected = false;\n  if (activeBots[botClassname]) {\n    selected = false;\n  } else {\n    selected = true;\n    if (!bot.isAvailable()) {\n      const availability = await bot.checkAvailability();\n      if (!availability) {\n        clickedBot.value = bot;\n        // Open the bot's settings dialog\n        isMakeAvailableOpen.value = true;\n      } else {\n        updateActiveBots();\n      }\n    }\n  }\n  store.commit(\"setBotSelected\", { botClassname, selected });\n}\n\nonBeforeMount(async () => {\n  favBots.value.forEach(async (favBot) => {\n    await favBot.instance.checkAvailability();\n    updateActiveBots();\n  });\n\n  // Listen message trigged by main process\n  ipcRenderer.on(\"CHECK-AVAILABILITY\", async (event, url) => {\n    const botsToCheck = bots.value.filter((bot) => bot.getLoginUrl() === url);\n    botsToCheck.forEach(async (bot) => {\n      await bot.checkAvailability();\n      updateActiveBots();\n    });\n  });\n});\n\nonMounted(() => {\n  initializeSortable();\n});\n\nlet sortable = undefined;\nfunction initializeSortable() {\n  let isDropOnFavBotBar = false;\n  const onDragEnd = (event) => {\n    event.target.removeEventListener(\"dragend\", onDragEnd);\n    if (isDropOnFavBotBar) {\n      return; // dropped on fav bot bar\n    }\n    // if not drop on fav bot bar, remove it from favorite bar\n    event.target.parentNode.removeChild(event.target);\n    store.commit(\"removeFavoriteBot\", event.target.dataset.id);\n    rerenderFavBotLogos.value++; // trigger re-render to refresh order and shortkey\n    nextTick().then(() => {\n      sortable = undefined;\n      initializeSortable(); // re-initialize sortable instance after re-render\n    });\n  };\n\n  sortable = new Sortable(favBotLogosRef.value, {\n    animation: 200, // ms, animation speed moving items when sorting\n    // dragging started\n    onStart: function (favBot) {\n      isDropOnFavBotBar = false;\n      favBot.item.addEventListener(\"dragend\", onDragEnd);\n    },\n    // dragging ended\n    onEnd: async function (favBot) {\n      if (favBot.oldIndex === favBot.newIndex) {\n        return; // order not changed, return\n      }\n      store.commit(\"setFavBotOrder\", sortable.toArray());\n      rerenderFavBotLogos.value++; // trigger re-render to refresh order and shortkey\n      nextTick().then(() => {\n        sortable = undefined;\n        initializeSortable(); // re-initialize sortable instance after re-render\n      });\n    },\n  });\n  favBotLogosRef.value.addEventListener(\"drop\", () => {\n    isDropOnFavBotBar = true;\n  });\n}\n\nfunction updateChatTitleWithFirstPrompt(isFirstPrompt) {\n  if (isFirstPrompt) {\n    // if this is first prompt, update chat title to first 30 characters of user prompt\n    store.commit(\"editChatTitle\", {\n      title: store.getters.currentChat.messages[0].content.substring(0, 30),\n    });\n  }\n}\n\nasync function usePrompt(value) {\n  await nextTick();\n  focusPromptTextarea();\n  document.execCommand(\"insertText\", false, value);\n}\n\ndefineExpose({\n  focusPromptTextarea,\n});\n</script>\n\n<style scoped>\n.footer {\n  background-color: rgba(var(--v-theme-background), 0.7) !important;\n  height: auto !important;\n  display: flex;\n  align-items: center !important;\n  justify-content: space-between;\n  padding: 8px 16px;\n  gap: 8px;\n  box-sizing: border-box;\n  padding-bottom: 0.5rem;\n  box-shadow: none !important;\n}\n\n.bot-logos {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 4px;\n  align-items: center;\n  padding-bottom: 0.5rem;\n}\n\n/* Override default style of vuetify v-textarea */\n.v-textarea--auto-grow textarea {\n  overflow: auto !important;\n}\n\ntextarea::placeholder {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n:deep() .v-field__field > textarea {\n  overflow-y: auto;\n}\n\n.send-prompt-btn {\n  height: 40px !important;\n  margin: 0.4rem !important;\n  text-transform: uppercase !important;\n  font-size: small !important;\n  color: rgb(var(--v-theme-on-primary));\n  background-color: rgb(var(--v-theme-primary));\n  border-radius: 4px !important;\n}\n\n:deep() .v-field.v-field--appended {\n  padding-right: 0;\n}\n\n:deep() .v-field__append-inner {\n  padding-top: 0;\n}\n</style>\n","import script from \"./FooterBar.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./FooterBar.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./FooterBar.vue?vue&type=style&index=0&id=7b9721c8&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7b9721c8\"]])\n\nexport default __exports__","<template>\n  <div id=\"snackbar\" class=\"text-center\">\n    <v-snackbar :vertical=\"true\" :timeout=\"-1\" multi-line v-model=\"snackbar\">\n      <span class=\"text-center font-weight-bold\">\n        {{ $t(\"updates.updateAvailable\") }}\n      </span>\n      <span class=\"text-center\">\n        {{ $t(\"updates.currentVersion\") }}: {{ versions.current }}\n      </span>\n      <span class=\"text-center\">\n        {{ $t(\"updates.latestVersion\") }}: {{ versions.latest }}\n      </span>\n      <v-btn\n        prepend-icon=\"mdi-github\"\n        color=\"primary\"\n        variant=\"tonal\"\n        @click=\"openReleasePage\"\n      >\n        {{ $t(\"updates.downloadFromGitHub\") }}\n      </v-btn>\n      <template v-slot:actions>\n        <v-btn color=\"primary\" @click=\"skip\">\n          {{ $t(\"updates.skipThisVersion\") }}\n        </v-btn>\n        <v-btn color=\"primary\" @click=\"snackbar = false\">\n          {{ $t(\"updates.close\") }}\n        </v-btn>\n      </template>\n    </v-snackbar>\n  </div>\n</template>\n<script setup>\nimport { ref } from \"vue\";\nimport { compare } from \"compare-versions\";\nconst { shell, ipcRenderer } = window.require(\"electron\");\n\nlet versions = undefined;\nconst snackbar = ref(false);\nipcRenderer.on(\"version-saved\", checkVersion);\n\nfunction checkVersion() {\n  versions = JSON.parse(localStorage.getItem(\"chatall-versions\"));\n  if (\n    versions?.latest &&\n    versions?.current &&\n    compare(versions.latest, versions.current, \">\")\n  ) {\n    if (!versions?.skip || compare(versions.latest, versions.skip, \">\")) {\n      snackbar.value = true;\n    }\n  }\n  ipcRenderer.removeListener(\"version-saved\", checkVersion);\n}\n\nfunction skip() {\n  snackbar.value = false;\n  versions.skip = versions.latest;\n  localStorage.setItem(\"chatall-versions\", JSON.stringify(versions));\n}\n\nfunction openReleasePage() {\n  snackbar.value = false;\n  shell.openExternal(`https://github.com/sunner/ChatALL/releases/latest`);\n}\n</script>\n<style scoped>\n:deep() .v-btn {\n  text-transform: none;\n  margin: 0.2rem;\n}\n\n:deep() .v-snackbar__actions {\n  margin: 0 !important;\n  justify-content: end;\n  width: 100%;\n}\n\n:deep() .v-snackbar__content {\n  padding: 0.5rem;\n  padding-bottom: 0;\n  margin: 0;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  justify-content: center;\n}\n\nspan {\n  color: rgb(var(--v-theme-font));\n}\n</style>\n","import script from \"./UpdateNotificationModal.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./UpdateNotificationModal.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./UpdateNotificationModal.vue?vue&type=style&index=0&id=6015a817&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-6015a817\"]])\n\nexport default __exports__","<template>\n  <v-form\n    ref=\"formRef\"\n    @submit.prevent=\"true\"\n    v-shortkey=\"SHORTCUT_FIND.key\"\n    @shortkey=\"handleFindShortcut\"\n    style=\"\n      position: fixed;\n      right: 0px;\n      z-index: 1;\n      width: 400px;\n      min-width: 200px;\n      padding-top: 0.5rem;\n    \"\n  >\n    <v-text-field\n      id=\"find-text-field\"\n      @keydown.enter=\"() => find()\"\n      @keydown.esc=\"closeFindTextField\"\n      @focus=\"$event.target.select()\"\n      ref=\"findTextRef\"\n      color=\"primary\"\n      density=\"compact\"\n      variant=\"solo\"\n      :label=\"$t('find.find')\"\n      single-line\n      :rules=\"[() => isMatch || $t('find.noMatches')]\"\n      v-model=\"findTextModel\"\n      v-show=\"isShowFindText\"\n      prepend-inner-icon=\"mdi-magnify\"\n    >\n      <template v-slot:append-inner>\n        <v-btn-group>\n          <v-btn\n            size=\"x-small\"\n            icon=\"mdi-chevron-up\"\n            @click=\"find(true)\"\n          ></v-btn>\n          <v-btn\n            size=\"x-small\"\n            icon=\"mdi-chevron-down\"\n            @click=\"find(false)\"\n          ></v-btn>\n        </v-btn-group>\n        <v-tooltip\n          :text=\"$t('find.matchCase')\"\n          location=\"bottom\"\n          v-model=\"isShowMatchCaseTooltip\"\n        >\n          <template v-slot:activator=\"{ props }\">\n            <v-btn-toggle v-model=\"matchCaseToggle\">\n              <v-btn\n                :value=\"MATCH_CASE_VALUE\"\n                v-bind=\"props\"\n                size=\"x-small\"\n                icon=\"mdi-format-letter-case\"\n              ></v-btn>\n            </v-btn-toggle>\n          </template>\n        </v-tooltip>\n        <v-tooltip\n          :text=\"$t('find.wrapAround')\"\n          location=\"bottom\"\n          v-model=\"isShowWrapAroundTooltip\"\n        >\n          <template v-slot:activator=\"{ props }\">\n            <v-btn-toggle v-model=\"wrapAroundToggle\">\n              <v-btn\n                :value=\"WRAP_AROUND_VALUE\"\n                v-bind=\"props\"\n                size=\"x-small\"\n                icon=\"mdi-autorenew\"\n              ></v-btn>\n            </v-btn-toggle>\n          </template>\n        </v-tooltip>\n        <v-btn-group>\n          <v-btn\n            size=\"x-small\"\n            icon=\"mdi-close\"\n            @click=\"closeFindTextField\"\n          ></v-btn>\n        </v-btn-group>\n      </template>\n    </v-text-field>\n  </v-form>\n</template>\n\n<script setup>\nimport { ref, nextTick } from \"vue\";\nimport { SHORTCUT_FIND } from \"./ShortcutGuide/shortcut.const\";\n\nconst formRef = ref(null);\n\nconst findTextRef = ref(null);\nconst findTextModel = ref(\"\");\nconst isShowFindText = ref(false);\nconst FIND_TEXT_FIELD_ID = \"find-text-field\";\n\nconst MATCH_CASE_VALUE = \"case\";\nconst WRAP_AROUND_VALUE = \"wrap\";\n\nconst matchCaseToggle = ref([]); // default disable match case\nconst isShowMatchCaseTooltip = ref(false);\n\nconst wrapAroundToggle = ref([WRAP_AROUND_VALUE]); // default enable wrap around\nconst isShowWrapAroundTooltip = ref(false);\n\nconst isMatch = ref(true);\n\nfunction handleFindShortcut() {\n  isShowFindText.value ? closeFindTextField() : showFindTextField();\n}\n\nfunction showFindTextField() {\n  isShowFindText.value = true;\n  nextTick().then(findTextRef.value.focus);\n}\n\nfunction closeFindTextField() {\n  isShowFindText.value = false;\n}\n\nfunction find(backward) {\n  isMatch.value = window.find(\n    findTextModel.value,\n    matchCaseToggle.value?.length,\n    backward,\n    wrapAroundToggle.value?.length,\n  );\n  if (\n    isMatch.value &&\n    wrapAroundToggle.value?.length && // if wrap around toggled\n    window.getSelection()?.focusNode?.lastElementChild?.id ===\n      FIND_TEXT_FIELD_ID // when the match is in find-text-field\n  ) {\n    isMatch.value = false; // show no matches\n  }\n  formRef.value.validate();\n}\n\ndefineExpose({\n  showFindTextField,\n});\n</script>\n\n<style scoped>\n:deep() .v-field {\n  padding-right: 0;\n}\n</style>\n","import script from \"./FindModal.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./FindModal.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./FindModal.vue?vue&type=style&index=0&id=4c4cde2d&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-4c4cde2d\"]])\n\nexport default __exports__","<template>\n  <v-overlay\n    :scrim=\"true\"\n    :model-value=\"props.open\"\n    v-on:after-leave=\"closeShortcutGuide\"\n    @click=\"closeShortcutGuide\"\n  >\n    <div\n      style=\"position: absolute; top: 0; left: 0; width: 100vw; height: 100vh\"\n    >\n      <div\n        ref=\"shortcutGuideContentRef\"\n        style=\"position: relative\"\n        class=\"markdown-body\"\n      ></div>\n    </div>\n  </v-overlay>\n</template>\n\n<script setup>\nconst props = defineProps([\"open\"]);\nconst emit = defineEmits([\"update:open\"]);\n\nimport { ref } from \"vue\";\nimport { onUpdated } from \"vue\";\nimport { SHORTCUT_LIST } from \"./shortcut.const\";\n\nconst shortcutGuideContentRef = ref(null);\n\nonUpdated(async () => {\n  if (!props.open) {\n    return;\n  }\n  addWindowResizeListener();\n  SHORTCUT_LIST.forEach((shortcut) => {\n    const shortcutElement = document.getElementById(shortcut.elementId);\n    if (!shortcutElement) {\n      return;\n    }\n    const position = shortcutElement.getBoundingClientRect();\n    const div = document.createElement(\"div\");\n    div.classList.add(\"shortcut-label\");\n    div.style.top = `${position.top + (shortcut.offset?.top ?? 0)}px`;\n    if (shortcut.alignHorizontallyCenter) {\n      div.style.left = `${\n        position.left + position.width / 2 + (shortcut.offset?.left ?? 0)\n      }px`;\n    } else {\n      div.style.left = `${position.left + (shortcut.offset?.left ?? 0)}px`;\n    }\n    div.innerHTML = getShortcutLabelHTML(shortcut.key);\n    div.style.flexDirection = shortcut.flexDirection;\n    shortcutGuideContentRef.value.appendChild(div);\n  });\n});\n\nfunction getShortcutLabelHTML(keys) {\n  return keys.map(kbd).join(\"<span>+</span>\");\n}\n\nfunction kbd(text) {\n  return `<kbd>${formatModifierText(text)}</kbd>`;\n}\n\nfunction formatModifierText(string) {\n  string = string.replace(\"meta\", \"cmd\");\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\nfunction addWindowResizeListener() {\n  window.addEventListener(\"resize\", closeShortcutGuide);\n}\n\nconst toggleShortcutGuide = () => {\n  if (props.open) {\n    closeShortcutGuide();\n  } else {\n    openShortcutGuide();\n  }\n};\n\nconst closeShortcutGuide = () => {\n  window.removeEventListener(\"resize\", closeShortcutGuide);\n  emit(\"update:open\", false);\n};\n\nconst openShortcutGuide = () => {\n  addWindowResizeListener();\n  emit(\"update:open\", true);\n};\n\ndefineExpose({\n  toggleShortcutGuide,\n});\n</script>\n<style scoped>\n:deep() .shortcut-label {\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n}\n\n:deep() span {\n  line-height: 1rem;\n  color: rgb(var(--v-theme-font));\n}\n\n:deep() kbd {\n  padding: 3px 5px;\n  font:\n    11px ui-monospace,\n    SFMono-Regular,\n    SF Mono,\n    Menlo,\n    Consolas,\n    Liberation Mono,\n    monospace;\n  line-height: 10px;\n  color: rgb(var(--v-theme-font));\n  vertical-align: middle;\n  background-color: rgb(var(--v-theme-background));\n  border: solid 1px rgba(110, 118, 129, 0.4);\n  border-bottom-color: rgba(110, 118, 129, 0.4);\n  border-radius: 6px;\n  box-shadow: inset 0 -1px 0 rgba(110, 118, 129, 0.4);\n}\n</style>\n","import script from \"./ShortcutGuide.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ShortcutGuide.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ShortcutGuide.vue?vue&type=style&index=0&id=28fc2763&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-28fc2763\"]])\n\nexport default __exports__","<template>\n  <v-dialog\n    height=\"75%\"\n    width=\"80%\"\n    :model-value=\"props.open\"\n    @update:model-value=\"closeDialog\"\n  >\n    <v-card height=\"100%\">\n      <v-card-title>\n        <v-row>\n          <v-col class=\"d-flex align-center\">\n            {{ props.action.name }}\n            <v-btn\n              flat\n              @click=\"isEdit = !isEdit\"\n              :icon=\"isEdit ? 'mdi-eye' : 'mdi-pencil-outline'\"\n            ></v-btn>\n          </v-col>\n          <v-col class=\"d-flex align-center justify-end\">\n            <v-label>{{ previewTextarea.length }}</v-label>\n          </v-col>\n        </v-row>\n      </v-card-title>\n      <v-card-text class=\"pt-0 overflow-auto\">\n        <v-textarea\n          hide-details\n          rows=\"20\"\n          v-show=\"isEdit\"\n          v-model=\"previewTextarea\"\n          @input=\"previewText = previewTextarea\"\n        >\n        </v-textarea>\n        <chat-prompt\n          v-show=\"!isEdit\"\n          :message=\"{ content: previewText }\"\n          :isThread=\"false\"\n          :columns=\"3\"\n        ></chat-prompt>\n      </v-card-text>\n      <v-card-actions class=\"justify-end pr-6 pt-0\" style=\"gap: 0.3rem\">\n        <v-btn\n          class=\"send-prompt-btn\"\n          elevation=\"2\"\n          :disabled=\"\n            previewTextarea.trim() === '' ||\n            selectedBots.length === 0 ||\n            !chatRef\n          \"\n          @click=\"send\"\n        >\n          {{ $t(\"footer.sendPrompt\") }}\n        </v-btn>\n        <div class=\"bot-logos\">\n          <BotLogo\n            v-for=\"(bot, index) in favBots\"\n            :id=\"`fav-bot-${index + 1}`\"\n            :key=\"index\"\n            :bot=\"bot.instance\"\n            :active=\"bot.selected\"\n            :data-id=\"bot.classname\"\n            size=\"36\"\n            @click=\"bot.selected = !bot.selected\"\n          />\n        </div>\n        <v-form class=\"d-flex\">\n          <v-radio-group v-model=\"chatRef\" density=\"compact\" hide-details>\n            <v-radio :label=\"$t('chat.inNewChat')\" value=\"new\"></v-radio>\n            <v-radio\n              :label=\"$t('chat.inCurrentChat')\"\n              value=\"current\"\n            ></v-radio>\n          </v-radio-group>\n        </v-form>\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script setup>\nimport { ref, toRaw, watch, computed } from \"vue\";\nimport { useStore } from \"vuex\";\nimport { preview } from \"../helpers/template-helper\";\nimport ChatPrompt from \"@/components/Messages/ChatPrompt.vue\";\nimport BotLogo from \"@/components/Footer/BotLogo.vue\";\nimport _bots from \"@/bots\";\n\nconst store = useStore();\nconst isEdit = ref(false);\nconst previewText = ref(\"\");\nconst previewTextarea = ref(\"\");\nconst chatRef = ref(undefined);\nconst emit = defineEmits([\"update:open\"]);\nconst props = defineProps([\"open\", \"action\", \"responses\", \"activeBots\"]);\nwatch(() => props.open, onChangeOpenProp);\n\nconst selectedResponses = computed(() =>\n  store.state.selectedResponses.map((res) => {\n    return { botName: res.className, botResponse: res.content };\n  }),\n);\nconst favBots = ref([]);\nconst selectedBots = computed(() =>\n  favBots.value.filter((bot) => bot.selected),\n);\n\nfunction onChangeOpenProp() {\n  if (props.open) {\n    updatePreview();\n    updateFavBots();\n  } else {\n    isEdit.value = false;\n  }\n}\n\nasync function updatePreview() {\n  previewTextarea.value = await preview(\n    props.action.prefix,\n    props.action.template,\n    props.action.suffix,\n    selectedResponses.value,\n  );\n  previewText.value = previewTextarea.value;\n}\n\nfunction updateFavBots() {\n  favBots.value = [];\n  for (const key in props.activeBots) {\n    if (props.activeBots[key]) {\n      favBots.value.push({\n        classname: key,\n        selected: false,\n        instance: _bots.getBotByClassName(key),\n      });\n    }\n  }\n}\n\nfunction closeDialog(value) {\n  emit(\"update:open\", value);\n}\n\nasync function send() {\n  if (chatRef.value === \"new\") {\n    await store.dispatch(\"createChatAndSelect\");\n  }\n  await store\n    .dispatch(\"sendPrompt\", {\n      prompt: previewTextarea.value,\n      bots: selectedBots.value.map((bot) => toRaw(bot).instance),\n    })\n    .then(() => {\n      if (chatRef.value === \"new\") {\n        store.commit(\"editChatTitle\", {\n          title: previewTextarea.value.substring(0, 30),\n        });\n      }\n    });\n  closeDialog(false);\n  deselectAllResponses();\n}\n\nfunction deselectAllResponses() {\n  store.commit(\"deleteAllSelectedResponses\");\n}\n</script>\n\n<style scoped>\n:deep() .v-textarea textarea {\n    height: 100%;\n}\n\n:deep() i.v-icon {\n  color: rgb(var(--v-theme-primary));\n}\n\n.bot-logos {\n  gap: 4px;\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n}\n\n.send-prompt-btn {\n  height: 40px !important;\n  margin: 0.4rem !important;\n  text-transform: uppercase !important;\n  font-size: small !important;\n  color: rgb(var(--v-theme-on-primary));\n  background-color: rgb(var(--v-theme-primary));\n  border-radius: 4px !important;\n}\n</style>\n","import script from \"./ChatAction.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ChatAction.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ChatAction.vue?vue&type=style&index=0&id=1ce2fcba&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1ce2fcba\"]])\n\nexport default __exports__","<template>\n  <v-app>\n    <v-container fluid style=\"padding: 0\">\n      <ChatDrawer\n        ref=\"chatDrawerRef\"\n        v-model:open=\"isChatDrawerOpen\"\n        @focus-textarea=\"focusPromptTextarea\"\n      ></ChatDrawer>\n      <v-main class=\"content\">\n        <v-app-bar class=\"header-content pa-0\">\n          <!-- Start Header  -->\n          <div class=\"header-content\" v-show=\"isSelectedResponsesEmpty\">\n            <v-app-bar-nav-icon\n              :id=\"SHORTCUT_CHAT_DRAWER.elementId\"\n              variant=\"text\"\n              @click.stop=\"isChatDrawerOpen = !isChatDrawerOpen\"\n              @shortkey=\"isChatDrawerOpen = !isChatDrawerOpen\"\n              v-shortkey=\"SHORTCUT_CHAT_DRAWER.key\"\n            >\n            </v-app-bar-nav-icon>\n            <img\n              :class=\"{ 'dark-png': store.state.theme === Theme.DARK }\"\n              class=\"logo\"\n              src=\"@/assets/logo-banner.png\"\n              alt=\"ChatALL\"\n            />\n          </div>\n          <div\n            class=\"column-icons header-content\"\n            v-show=\"isSelectedResponsesEmpty\"\n          >\n            <img\n              v-for=\"columnCount in 3\"\n              :id=\"`column-${columnCount}`\"\n              :key=\"columnCount\"\n              :src=\"getColumnImage(columnCount)\"\n              @click=\"changeColumns(columnCount)\"\n              @shortkey=\"changeColumns(columnCount)\"\n              v-shortkey=\"[`f${columnCount}`]\"\n              :class=\"{\n                selected: columns === columnCount,\n                'dark-png': store.state.theme === Theme.DARK,\n              }\"\n            />\n          </div>\n          <div\n            class=\"header-content\"\n            style=\"padding-right: 16px\"\n            v-show=\"isSelectedResponsesEmpty\"\n          >\n            <v-icon\n              :id=\"SHORTCUT_FIND.elementId\"\n              class=\"cursor-pointer\"\n              color=\"primary\"\n              icon=\"mdi-magnify\"\n              size=\"x-large\"\n              @click=\"openFind()\"\n            ></v-icon>\n            <v-icon\n              v-shortkey=\"SHORTCUT_CLEAR_MESSAGES.key\"\n              @shortkey=\"clearMessages\"\n              :id=\"SHORTCUT_CLEAR_MESSAGES.elementId\"\n              class=\"cursor-pointer\"\n              color=\"primary\"\n              icon=\"mdi-broom\"\n              size=\"x-large\"\n              @click=\"clearMessages()\"\n            ></v-icon>\n            <v-icon\n              v-shortkey=\"SHORTCUT_SETTINGS.key\"\n              @shortkey=\"openSettingsModal\"\n              :id=\"SHORTCUT_SETTINGS.elementId\"\n              class=\"cursor-pointer\"\n              color=\"primary\"\n              icon=\"mdi-cog\"\n              size=\"x-large\"\n              @click=\"openSettingsModal()\"\n            ></v-icon>\n            <v-icon\n              v-shortkey=\"SHORTCUT_SHORTCUT_GUIDE.key\"\n              @shortkey=\"toggleShortcutGuide\"\n              :id=\"SHORTCUT_SHORTCUT_GUIDE.elementId\"\n              class=\"cursor-pointer\"\n              color=\"primary\"\n              icon=\"mdi-help\"\n              size=\"x-large\"\n              @click=\"toggleShortcutGuide()\"\n            ></v-icon>\n          </div>\n          <!-- End Header  -->\n          <!-- Start Selected Responses  -->\n          <div\n            class=\"header-content pr-3\"\n            style=\"text-wrap: nowrap\"\n            v-show=\"!isSelectedResponsesEmpty\"\n          >\n            <v-btn icon color=\"primary\" @click=\"deselectAll\">\n              <v-icon>mdi-arrow-left</v-icon>\n            </v-btn>\n            {{\n              $t(\"header.selectedResponsesCount\", {\n                selectedCount: store.state.selectedResponses.length,\n              })\n            }}\n          </div>\n          <div\n            class=\"header-content overflow-auto\"\n            v-show=\"!isSelectedResponsesEmpty\"\n          >\n            <v-btn\n              v-for=\"action in userActions\"\n              color=\"primary\"\n              class=\"no-text-transform\"\n              :text=\"action.name\"\n              :key=\"action.index\"\n              @click=\"callAction(action)\"\n            ></v-btn>\n          </div>\n          <!-- End Selected Responses  -->\n        </v-app-bar>\n        <FindModal ref=\"findRef\"></FindModal>\n\n        <ChatMessages\n          :chat-index=\"store.state.currentChatIndex\"\n          :columns=\"columns\"\n        ></ChatMessages>\n        <FooterBar\n          ref=\"footerBarRef\"\n          @update-active-bots=\"(bots) => (activeBots = bots)\"\n        ></FooterBar>\n      </v-main>\n      <SettingsModal v-model:open=\"isSettingsOpen\" />\n      <ConfirmModal ref=\"confirmModal\" />\n      <UpdateNotification></UpdateNotification>\n      <ShortcutGuide\n        ref=\"shortcutGuideRef\"\n        v-model:open=\"isShortcutGuideOpen\"\n      ></ShortcutGuide>\n      <ChatAction\n        v-model:open=\"isChatActionOpen\"\n        :action=\"action\"\n        :responses=\"store.state.selectedResponses\"\n        :activeBots=\"activeBots\"\n      ></ChatAction>\n    </v-container>\n  </v-app>\n</template>\n\n<script setup>\nimport { ref, computed, onMounted, nextTick, watch } from \"vue\";\n\nimport { useTheme } from \"vuetify\";\nimport { useStore } from \"vuex\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { applyTheme, resolveTheme, Theme } from \"./theme\";\nimport {\n  SHORTCUT_FIND,\n  SHORTCUT_SETTINGS,\n  SHORTCUT_SHORTCUT_GUIDE,\n  SHORTCUT_CLEAR_MESSAGES,\n  SHORTCUT_CHAT_DRAWER,\n} from \"./components/ShortcutGuide/shortcut.const\";\n\nimport i18n from \"./i18n\";\n\n// Components\nimport ChatDrawer from \"@/components/ChatDrawer/ChatDrawer.vue\";\nimport ChatMessages from \"@/components/Messages/ChatMessages.vue\";\nimport SettingsModal from \"@/components/SettingsModal.vue\";\nimport ConfirmModal from \"@/components/ConfirmModal.vue\";\nimport FooterBar from \"@/components/Footer/FooterBar.vue\";\nimport UpdateNotification from \"@/components/Notification/UpdateNotificationModal.vue\";\nimport FindModal from \"@/components/FindModal.vue\";\nimport ShortcutGuide from \"@/components/ShortcutGuide/ShortcutGuide.vue\";\nimport ChatAction from \"@/components/ChatAction.vue\";\n\n// Styles\nimport \"@mdi/font/css/materialdesignicons.css\";\n\nconst { ipcRenderer } = window.require(\"electron\");\n\nconst store = useStore();\nconst vuetifyTheme = useTheme();\nconst onUpdatedSystemTheme = async () => {\n  const resolvedTheme = await resolveTheme(store.state.mode, ipcRenderer);\n  store.commit(\"setTheme\", resolvedTheme);\n  applyTheme(resolvedTheme, vuetifyTheme);\n};\n\nipcRenderer.on(\"on-updated-system-theme\", onUpdatedSystemTheme);\n\nconst confirmModal = ref(null);\nconst findRef = ref(null);\nconst footerBarRef = ref(null);\nconst shortcutGuideRef = ref(null);\nconst isShortcutGuideOpen = ref(false);\nconst isSettingsOpen = ref(false);\nconst isChatDrawerOpen = ref(store.state.isChatDrawerOpen);\nconst chatDrawerRef = ref();\nconst isSelectedResponsesEmpty = ref(true);\nconst isChatActionOpen = ref(false);\n\nconst columns = computed(() => store.state.columns);\nconst userActions = computed(() => {\n  return store.state.actions.filter((p) => !p.hide);\n});\n\nconst changeColumns = (columns) => store.commit(\"changeColumns\", columns);\nconst setUuid = (uuid) => store.commit(\"setUuid\", uuid);\nlet action;\nlet activeBots;\n\nasync function openSettingsModal() {\n  if (isSettingsOpen.value) {\n    // click too fast\n    isSettingsOpen.value = false;\n    await nextTick();\n  }\n  isSettingsOpen.value = true;\n}\n\nfunction openFind() {\n  findRef.value.showFindTextField();\n}\n\nfunction toggleShortcutGuide() {\n  if (!isChatDrawerOpen.value) {\n    // open chat drawer to show new chat shortcut\n    isChatDrawerOpen.value = true;\n    setTimeout(() => {\n      shortcutGuideRef.value.toggleShortcutGuide();\n    }, 200);\n  } else {\n    shortcutGuideRef.value.toggleShortcutGuide();\n  }\n}\n\nasync function clearMessages() {\n  const result = await confirmModal.value.showModal(\n    i18n.global.t(\"header.clearMessages\"),\n  );\n  if (result) {\n    store.commit(\"clearMessages\");\n  }\n}\n\nfunction focusPromptTextarea() {\n  footerBarRef.value.focusPromptTextarea();\n}\n\nonMounted(() => {\n  !store.state.uuid && setUuid(uuidv4());\n  window._paq.push([\"setUserId\", store.state.uuid]);\n  window._paq.push([\"trackPageView\"]);\n\n  const ver = require(\"../package.json\").version;\n  document.title = `ChatALL.ai - v${ver}`;\n});\n\nwatch(\n  () => store.state.selectedResponses.length,\n  () => {\n    isSelectedResponsesEmpty.value = store.state.selectedResponses.length === 0;\n  },\n);\n\nfunction getColumnImage(columnCount) {\n  return require(`@/assets/column-${columnCount}.svg`);\n}\n\nfunction deselectAll() {\n  store.commit(\"deleteAllSelectedResponses\");\n}\n\nfunction callAction(value) {\n  action = value;\n  isChatActionOpen.value = true;\n}\n</script>\n\n<style>\n@import \"katex/dist/katex.min.css\";\n\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nbody {\n  font-family: \"Arial\", sans-serif;\n}\n\n#app {\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n}\n\nheader {\n  width: 100%;\n  background-color: rgb(var(--v-theme-header));\n  box-shadow: 0 4px 4px rgba(0, 0, 0, 0.25);\n  padding: 16px;\n  z-index: 999;\n}\n\n.header-content {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.logo {\n  height: 40px;\n}\n\n.column-icons img {\n  opacity: 0.5;\n  cursor: pointer;\n  width: 24px;\n  height: 24px;\n  margin: 4px;\n}\n\nimg.selected {\n  opacity: 1;\n}\n\n.content {\n  background-color: rgb(var(--v-theme-background));\n}\n\n.cursor-pointer {\n  cursor: pointer;\n}\n\n.dark-png {\n  filter: grayscale(1) brightness(5);\n}\n\n.v-toolbar__content {\n  justify-content: space-between;\n}\n\n.vuepress-markdown-body {\n  color: var(--v-theme-font) !important;\n}\n.vuepress-markdown-body:not(.custom) {\n  padding: 0 !important;\n  background-color: transparent !important;\n}\n.vuepress-markdown-body .arrow {\n  display: inline !important;\n}\n.vuepress-markdown-body .arrow.up,\n.arrow.down,\n.arrow.left,\n.arrow.right {\n  display: inline-block !important;\n}\n.vuepress-markdown-body tr:nth-child(2n) {\n  background-color: rgb(var(--v-theme-table-tr-2n)) !important;\n}\n.vuepress-markdown-body code {\n  color: rgb(var(--v-theme-code-font)) !important;\n  background-color: rgb(var(--v-theme-code-background)) !important;\n}\n.vuepress-markdown-body pre[class*=\"v-md-prism-\"] code,\n.vuepress-markdown-body pre code {\n  color: #fff !important;\n  background-color: initial !important;\n}\n.no-text-transform {\n  text-transform: none !important;\n}\n</style>\n","import script from \"./App.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=f670d2d8&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <CommonBotSettings\n    :settings=\"settings\"\n    :brand-id=\"brandId\"\n    mutation-type=\"setAzureOpenaiApi\"\n  ></CommonBotSettings>\n</template>\n\n<script>\nimport Bot from \"@/bots/microsoft/AzureOpenAIAPIBot\";\nimport CommonBotSettings from \"@/components/BotSettings/CommonBotSettings.vue\";\nimport i18n from \"@/i18n\";\nimport { Type } from \"./settings.const\";\n\nconst settings = [\n  {\n    type: Type.Text,\n    name: \"azureApiKey\",\n    title: i18n.global.t(\"azureOpenaiApi.azureOpenAIApiKey\"),\n    description: i18n.global.t(\"settings.secretPrompt\"),\n    placeholder: \"b40...\",\n  },\n  {\n    type: Type.Text,\n    name: \"azureApiInstanceName\",\n    title: i18n.global.t(\"azureOpenaiApi.azureApiInstanceName\"),\n    description: i18n.global.t(\"azureOpenaiApi.azureApiInstanceNamePrompt\"),\n  },\n  {\n    type: Type.Text,\n    name: \"azureOpenAIApiDeploymentName\",\n    title: i18n.global.t(\"azureOpenaiApi.azureOpenAIApiDeploymentName\"),\n    description: i18n.global.t(\n      \"azureOpenaiApi.azureOpenAIApiDeploymentNamePrompt\",\n    ),\n  },\n  {\n    type: Type.Text,\n    name: \"azureOpenAIApiVersion\",\n    title: i18n.global.t(\"azureOpenaiApi.azureOpenAIApiVersion\"),\n    description: i18n.global.t(\"azureOpenaiApi.azureOpenAIApiVersionPrompt\"),\n  },\n  {\n    type: Type.Slider,\n    name: \"temperature\",\n    title: i18n.global.t(\"azureOpenaiApi.temperature\"),\n    description: i18n.global.t(\"azureOpenaiApi.temperaturePrompt\"),\n    min: 0,\n    max: 2,\n    step: 0.1,\n    ticks: {\n      0: i18n.global.t(\"azureOpenaiApi.temperature0\"),\n      2: i18n.global.t(\"azureOpenaiApi.temperature2\"),\n    },\n  },\n  {\n    type: Type.Slider,\n    name: \"pastRounds\",\n    title: i18n.global.t(\"bot.pastRounds\"),\n    description: i18n.global.t(\"bot.pastRoundsPrompt\"),\n    min: 0,\n    max: 10,\n    step: 1,\n  },\n];\nexport default {\n  components: {\n    CommonBotSettings,\n  },\n  data() {\n    return {\n      settings: settings,\n      brandId: Bot._brandId,\n    };\n  },\n};\n</script>\n","import { render } from \"./AzureOpenAIAPIBotSettings.vue?vue&type=template&id=30da8f74\"\nimport script from \"./AzureOpenAIAPIBotSettings.vue?vue&type=script&lang=js\"\nexport * from \"./AzureOpenAIAPIBotSettings.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <login-setting :bot=\"bot\"></login-setting>\n</template>\n\n<script>\nimport Bot from \"@/bots/BardBot\";\nimport LoginSetting from \"@/components/BotSettings/LoginSetting.vue\";\n\nexport default {\n  components: {\n    LoginSetting,\n  },\n  data() {\n    return {\n      bot: Bot.getInstance(),\n    };\n  },\n};\n</script>\n","import { render } from \"./BardBotSettings.vue?vue&type=template&id=6c0f01d1\"\nimport script from \"./BardBotSettings.vue?vue&type=script&lang=js\"\nexport * from \"./BardBotSettings.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <login-setting :bot=\"bot\"></login-setting>\n</template>\n\n<script>\nimport Bot from \"@/bots/microsoft/BingChatBot\";\nimport LoginSetting from \"@/components/BotSettings/LoginSetting.vue\";\n\nexport default {\n  components: {\n    LoginSetting,\n  },\n  data() {\n    return {\n      bot: Bot.getInstance(),\n    };\n  },\n};\n</script>\n","import { render } from \"./BingChatBotSettings.vue?vue&type=template&id=486ae740\"\nimport script from \"./BingChatBotSettings.vue?vue&type=script&lang=js\"\nexport * from \"./BingChatBotSettings.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <login-setting :bot=\"bot\"></login-setting>\n</template>\n\n<script>\nimport Bot from \"@/bots/CharacterAIBot\";\nimport LoginSetting from \"@/components/BotSettings/LoginSetting.vue\";\nimport { mapMutations } from \"vuex\";\nconst { ipcRenderer } = window.require(\"electron\");\n\nexport default {\n  components: {\n    LoginSetting,\n  },\n  data() {\n    return {\n      bot: Bot.getInstance(),\n    };\n  },\n  mounted() {\n    // Listen for the CHARACTER-AI-TOKENS message from background.js\n    ipcRenderer.on(\"CHARACTER-AI-TOKENS\", (event, token) => {\n      try {\n        const tokenInfo = JSON.parse(token);\n        this.setCharacterAI({ token: tokenInfo.value, ttl: tokenInfo.ttl });\n      } catch (error) {\n        console.error(\"CHARACTER-AI-TOKENS\", error);\n      }\n    });\n  },\n  methods: {\n    ...mapMutations([\"setCharacterAI\"]),\n  },\n};\n</script>\n","import { render } from \"./CharacterAIBotSettings.vue?vue&type=template&id=38718633\"\nimport script from \"./CharacterAIBotSettings.vue?vue&type=script&lang=js\"\nexport * from \"./CharacterAIBotSettings.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <login-setting :bot=\"bot\"></login-setting>\n</template>\n\n<script>\nimport Bot from \"@/bots/ChatGLMBot\";\nimport LoginSetting from \"@/components/BotSettings/LoginSetting.vue\";\nimport { mapMutations } from \"vuex\";\nconst { ipcRenderer } = window.require(\"electron\");\n\nexport default {\n  components: {\n    LoginSetting,\n  },\n  data() {\n    return {\n      bot: Bot.getInstance(),\n    };\n  },\n  mounted() {\n    // Listen for the CHATGLM-TOKEN message from background.js\n    ipcRenderer.on(\"CHATGLM-TOKENS\", (event, token) => {\n      this.setChatGLM(token);\n    });\n  },\n  methods: {\n    ...mapMutations([\"setChatGLM\"]),\n  },\n};\n</script>\n","import { render } from \"./ChatGLMBotSettings.vue?vue&type=template&id=5f213291\"\nimport script from \"./ChatGLMBotSettings.vue?vue&type=script&lang=js\"\nexport * from \"./ChatGLMBotSettings.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <v-list-item>\n    <v-alert type=\"info\" outlined>{{ $t(\"chatGpt.notice\") }} </v-alert>\n  </v-list-item>\n  <login-setting :bot=\"bot\"></login-setting>\n  <v-list-item>\n    <v-list-item-title>{{ $t(\"chatGpt.autoRefresh\") }}</v-list-item-title>\n    <v-list-item-subtitle>{{\n      $t(\"chatGpt.autoRefreshPrompt\")\n    }}</v-list-item-subtitle>\n    <v-checkbox\n      v-model=\"autoRefresh\"\n      color=\"primary\"\n      hideDetails=\"auto\"\n      :label=\"$t('settings.enable')\"\n    ></v-checkbox>\n  </v-list-item>\n</template>\n\n<script>\nimport { mapState, mapMutations } from \"vuex\";\n\nimport Bot from \"@/bots/openai/ChatGPTBot\";\nimport LoginSetting from \"@/components/BotSettings/LoginSetting.vue\";\n\nconst AUTO_REFRESH_CYCLE = 45; // seconds\n\nexport default {\n  components: {\n    LoginSetting,\n  },\n  data() {\n    return {\n      bot: Bot.getInstance(),\n    };\n  },\n  methods: {\n    ...mapMutations([\"setChatgpt\"]),\n  },\n  computed: {\n    ...mapState([\"chatgpt\"]),\n    autoRefresh: {\n      get() {\n        return this.chatgpt.refreshCycle > 0;\n      },\n      set(auto) {\n        if (auto) {\n          this.setChatgpt(AUTO_REFRESH_CYCLE);\n          this.bot.setRefreshCycle(AUTO_REFRESH_CYCLE);\n        } else {\n          this.setChatgpt(0);\n          this.bot.setRefreshCycle(0);\n        }\n      },\n    },\n  },\n};\n</script>\n","import { render } from \"./ChatGPTBotSettings.vue?vue&type=template&id=1cbbe992\"\nimport script from \"./ChatGPTBotSettings.vue?vue&type=script&lang=js\"\nexport * from \"./ChatGPTBotSettings.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <login-setting :bot=\"bot\"></login-setting>\n</template>\n\n<script>\nimport Bot from \"@/bots/ClaudeAIBot\";\nimport LoginSetting from \"@/components/BotSettings/LoginSetting.vue\";\nimport { mapMutations } from \"vuex\";\nconst { ipcRenderer } = window.require(\"electron\");\n\nexport default {\n  components: {\n    LoginSetting,\n  },\n  data() {\n    return {\n      bot: Bot.getInstance(),\n    };\n  },\n  mounted() {\n    // Listen for the CLAUDE-2-ORG message from background.js\n    ipcRenderer.on(\"CLAUDE-2-ORG\", (event, org) => {\n      this.setClaudeAi({ org });\n    });\n  },\n  methods: {\n    ...mapMutations([\"setClaudeAi\"]),\n  },\n};\n</script>\n","import { render } from \"./ClaudeAIBotSettings.vue?vue&type=template&id=17188e40\"\nimport script from \"./ClaudeAIBotSettings.vue?vue&type=script&lang=js\"\nexport * from \"./ClaudeAIBotSettings.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <v-list-item>\n    <template v-for=\"setting in settings\" :key=\"setting.name\">\n      <v-list-item-title v-if=\"setting.title\">\n        <!-- falcon.temperature -->\n        {{ setting.title }}</v-list-item-title\n      >\n      <v-list-item-subtitle v-if=\"setting.description\">\n        <!-- falcon.temperaturePrompt -->\n        {{ setting.description }}</v-list-item-subtitle\n      >\n\n      <v-text-field\n        v-if=\"setting.type === Type.Text\"\n        v-model=\"settingState[setting.name]\"\n        outlined\n        dense\n        :label=\"setting.label\"\n        :placeholder=\"setting.placeholder\"\n        :hide-details=\"setting.hideDetails\"\n        @update:model-value=\"\n          /* setFalcon({ temperature: $event }) */\n          store.commit(mutationType, { [setting.name]: $event })\n        \"\n      ></v-text-field>\n      <v-select\n        v-if=\"setting.type === Type.Select\"\n        v-model=\"settingState[setting.name]\"\n        outlined\n        dense\n        :label=\"setting.label\"\n        :placeholder=\"setting.placeholder\"\n        :hide-details=\"setting.hideDetails\"\n        :items=\"setting.items\"\n        @update:model-value=\"\n          /* setFalcon({ temperature: $event }) */\n          store.commit(mutationType, { [setting.name]: $event })\n        \"\n      ></v-select>\n      <v-slider\n        v-else-if=\"setting.type === Type.Slider\"\n        v-model=\"settingState[setting.name] /* falcon.temperature */\"\n        color=\"primary\"\n        :min=\"setting.min\"\n        :max=\"setting.max\"\n        :step=\"setting.step\"\n        :ticks=\"setting.ticks\"\n        :show-ticks=\"\n          /* 'show-ticks' cause lag issue when the possible value to slide is large */\n          setting.ticks ? 'always' : false\n        \"\n        thumb-label\n        @update:model-value=\"\n          /* setFalcon({ temperature: $event }) */\n          store.commit(mutationType, { [setting.name]: $event })\n        \"\n      >\n        <template v-slot:append>\n          <v-text-field\n            v-model=\"settingState[setting.name] /* falcon.temperature */\"\n            :ref=\"\n              (el) => {\n                refs[setting.name] = el;\n              }\n            \"\n            type=\"number\"\n            style=\"width: 100px\"\n            density=\"compact\"\n            hide-details\n            variant=\"outlined\"\n            @update:model-value=\"\n              /* setFalcon({ temperature: validateInput(temperature, $event) }) */\n              store.commit(mutationType, {\n                [setting.name]: validateSliderInput(setting, $event),\n              })\n            \"\n          ></v-text-field>\n        </template>\n      </v-slider>\n    </template>\n  </v-list-item>\n</template>\n\n<script setup>\nimport { computed, onMounted, ref } from \"vue\";\nimport { useStore } from \"vuex\";\nimport { Type } from \"./settings.const\";\nconst store = useStore();\nconst settingState = computed(() => store.state[props.brandId]);\nconst refs = ref([]);\nconst props = defineProps({\n  brandId: {\n    type: String,\n    required: true,\n  },\n  settings: {\n    type: Object,\n    required: true,\n  },\n  mutationType: {\n    type: String,\n    required: true,\n  },\n});\n\nonMounted(() => {\n  for (const setting of props.settings) {\n    if (setting.type !== Type.Slider) {\n      continue;\n    }\n    // Set the 'min', 'max' and 'step' attributes for the input type 'number' spin button\n    const inputElement = getInputElement(refs.value[setting.name]);\n    inputElement.min = setting.min;\n    inputElement.max = setting.max;\n    inputElement.step = setting.step;\n  }\n});\n\nfunction validateSliderInput(setting, value) {\n  // validate input via keyboard within setting min and max\n  value = value || 0; // set zero if empty string\n  const input = getInputElement(refs.value[setting.name]);\n  const valuefloat = parseFloat(value);\n  const inputMaxFloat = parseFloat(input.max);\n  const inputMinFloat = parseFloat(input.min);\n  if (valuefloat > inputMaxFloat) {\n    return inputMaxFloat;\n  } else if (valuefloat < inputMinFloat) {\n    return inputMinFloat;\n  } else {\n    return valuefloat;\n  }\n}\n\nfunction getInputElement(ref) {\n  return ref.$el.querySelector(\"input\");\n}\n</script>\n","import script from \"./CommonBotSettings.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./CommonBotSettings.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <CommonBotSettings\n    :settings=\"settings\"\n    :brand-id=\"brandId\"\n    mutation-type=\"setFalcon\"\n  ></CommonBotSettings>\n</template>\n\n<script>\nimport Bot from \"@/bots/huggingface/Falcon180bBot\";\nimport CommonBotSettings from \"@/components/BotSettings/CommonBotSettings.vue\";\nimport i18n from \"@/i18n\";\nimport { Type } from \"./settings.const\";\n\nconst settings = [\n  {\n    type: Type.Slider,\n    name: \"temperature\",\n    title: i18n.global.t(\"falcon.temperature\"),\n    description: i18n.global.t(\"falcon.temperaturePrompt\"),\n    min: 0,\n    max: 1,\n    step: 0.05,\n  },\n  {\n    type: Type.Slider,\n    name: \"maxNewTokens\",\n    title: i18n.global.t(\"falcon.maxNewTokens\"),\n    description: i18n.global.t(\"falcon.maxNewTokensPrompt\"),\n    min: 0,\n    max: 8192,\n    step: 64,\n  },\n  {\n    type: Type.Slider,\n    name: \"topP\",\n    title: i18n.global.t(\"falcon.topP\"),\n    description: i18n.global.t(\"falcon.topPPrompt\"),\n    min: 0,\n    max: 1,\n    step: 0.05,\n  },\n  {\n    type: Type.Slider,\n    name: \"repetitionPenalty\",\n    title: i18n.global.t(\"falcon.repetitionPenalty\"),\n    description: i18n.global.t(\"falcon.repetitionPenaltyPrompt\"),\n    min: 1,\n    max: 2,\n    step: 0.05,\n  },\n];\nexport default {\n  components: {\n    CommonBotSettings,\n  },\n  data() {\n    return {\n      settings: settings,\n      brandId: Bot._brandId,\n    };\n  },\n};\n</script>\n","import { render } from \"./Falcon180bBotSettings.vue?vue&type=template&id=4ea77b9f\"\nimport script from \"./Falcon180bBotSettings.vue?vue&type=script&lang=js\"\nexport * from \"./Falcon180bBotSettings.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <CommonBotSettings\n    :settings=\"settings\"\n    :brand-id=\"brandId\"\n    mutation-type=\"setGradio\"\n  ></CommonBotSettings>\n</template>\n\n<script>\nimport Bot from \"@/bots/huggingface/GradioAppBot\";\nimport CommonBotSettings from \"@/components/BotSettings/CommonBotSettings.vue\";\nimport i18n from \"@/i18n\";\nimport { Type } from \"./settings.const\";\n\nconst settings = [\n  {\n    type: Type.Text,\n    name: \"url\",\n    title: i18n.global.t(\"gradio.url\"),\n    description: i18n.global.t(\"gradio.urlPrompt\"),\n    placeholder: i18n.global.t(\"settings.forExample\", {\n      example: \"https://*.hf.space, http://127.0.0.1:7861\",\n    }),\n  },\n  {\n    type: Type.Text,\n    name: \"fnIndex\",\n    title: i18n.global.t(\"gradio.fnIndex\"),\n    description: i18n.global.t(\"gradio.fnIndexPrompt\"),\n    placeholder: \"0\",\n  },\n];\n\nexport default {\n  components: {\n    CommonBotSettings,\n  },\n  data() {\n    return {\n      settings: settings,\n      brandId: Bot._brandId,\n    };\n  },\n};\n</script>\n","import { render } from \"./GradioAppBotSettings.vue?vue&type=template&id=10028b64\"\nimport script from \"./GradioAppBotSettings.vue?vue&type=script&lang=js\"\nexport * from \"./GradioAppBotSettings.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <login-setting :bot=\"bot\"></login-setting>\n</template>\n\n<script>\nimport Bot from \"@/bots/huggingface/HuggingChatBot\";\nimport LoginSetting from \"@/components/BotSettings/LoginSetting.vue\";\n\nexport default {\n  components: {\n    LoginSetting,\n  },\n  data() {\n    return {\n      bot: Bot.getInstance(),\n    };\n  },\n};\n</script>\n","import { render } from \"./HuggingChatBotSettings.vue?vue&type=template&id=dc8fc91c\"\nimport script from \"./HuggingChatBotSettings.vue?vue&type=script&lang=js\"\nexport * from \"./HuggingChatBotSettings.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <login-setting :bot=\"bot\"></login-setting>\n</template>\n\n<script>\nimport Bot from \"@/bots/lmsys/LMSYSBot\";\nimport LoginSetting from \"@/components/BotSettings/LoginSetting.vue\";\n\nexport default {\n  components: {\n    LoginSetting,\n  },\n  data() {\n    return {\n      bot: Bot.getInstance(),\n    };\n  },\n};\n</script>\n","import { render } from \"./LMSYSBotSettings.vue?vue&type=template&id=03928a8c\"\nimport script from \"./LMSYSBotSettings.vue?vue&type=script&lang=js\"\nexport * from \"./LMSYSBotSettings.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <v-list-item>\n    <v-list-item-title>{{ $t(\"settings.loginOrOut\") }}</v-list-item-title>\n    <v-list-item-subtitle>{{\n      $t(\"settings.loginOrOutPrompt\")\n    }}</v-list-item-subtitle>\n    <a :href=\"bot.getLoginUrl()\" target=\"_blank\" @click=\"openLoginWindow\">\n      {{ bot.getLoginUrl() }}\n    </a>\n  </v-list-item>\n</template>\n\n<script>\nconst { ipcRenderer } = window.require(\"electron\");\n\nexport default {\n  props: {\n    bot: {\n      type: Object,\n      default: null,\n    },\n  },\n  methods: {\n    openLoginWindow(event) {\n      event.preventDefault();\n      const loginUrl = this.bot.getLoginUrl();\n      const userAgent = this.bot.getUserAgent();\n      ipcRenderer.invoke(\"create-new-window\", loginUrl, userAgent);\n    },\n  },\n};\n</script>\n","import { render } from \"./LoginSetting.vue?vue&type=template&id=3a4b014f\"\nimport script from \"./LoginSetting.vue?vue&type=script&lang=js\"\nexport * from \"./LoginSetting.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <login-setting :bot=\"bot\"></login-setting>\n</template>\n\n<script>\nconst electron = window.require(\"electron\");\nconst ipcRenderer = electron.ipcRenderer;\nimport { mapState, mapMutations } from \"vuex\";\n\nimport Bot from \"@/bots/MOSSBot\";\nimport LoginSetting from \"@/components/BotSettings/LoginSetting.vue\";\n\nexport default {\n  components: {\n    LoginSetting,\n  },\n  data() {\n    return {\n      bot: Bot.getInstance(),\n    };\n  },\n  mounted() {\n    // Listen for the moss-secret message from background.js\n    ipcRenderer.on(\"moss-secret\", (event, secret) => {\n      const token = JSON.parse(JSON.parse(secret)); // Unwrap the secret\n      this.setMoss(token);\n    });\n  },\n  computed: {\n    ...mapState([\"moss\"]),\n  },\n  methods: {\n    ...mapMutations([\"setMoss\"]),\n  },\n};\n</script>\n","import { render } from \"./MOSSBotSettings.vue?vue&type=template&id=3ea638a2\"\nimport script from \"./MOSSBotSettings.vue?vue&type=script&lang=js\"\nexport * from \"./MOSSBotSettings.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <CommonBotSettings\n    :settings=\"settings\"\n    :brand-id=\"brandId\"\n    mutation-type=\"setOpenaiApi\"\n  ></CommonBotSettings>\n</template>\n\n<script>\nimport Bot from \"@/bots/openai/OpenAIAPIBot\";\nimport CommonBotSettings from \"@/components/BotSettings/CommonBotSettings.vue\";\nimport i18n from \"@/i18n\";\nimport { Type } from \"./settings.const\";\n\nconst settings = [\n  {\n    type: Type.Text,\n    name: \"apiKey\",\n    title: i18n.global.t(\"openaiApi.apiKey\"),\n    description: i18n.global.t(\"settings.secretPrompt\"),\n    placeholder: \"sk-...\",\n  },\n  {\n    type: Type.Slider,\n    name: \"temperature\",\n    title: i18n.global.t(\"openaiApi.temperature\"),\n    description: i18n.global.t(\"openaiApi.temperaturePrompt\"),\n    min: 0,\n    max: 2,\n    step: 0.1,\n    ticks: {\n      0: i18n.global.t(\"openaiApi.temperature0\"),\n      2: i18n.global.t(\"openaiApi.temperature2\"),\n    },\n  },\n  {\n    type: Type.Slider,\n    name: \"pastRounds\",\n    title: i18n.global.t(\"bot.pastRounds\"),\n    description: i18n.global.t(\"bot.pastRoundsPrompt\"),\n    min: 0,\n    max: 10,\n    step: 1,\n  },\n  {\n    type: Type.Text,\n    name: \"alterUrl\",\n    title: i18n.global.t(\"openaiApi.alterUrl\"),\n    description: i18n.global.t(\"openaiApi.alterUrlPrompt\"),\n    placeholder: \"https://your.proxy.com/v1\",\n  },\n];\nexport default {\n  components: {\n    CommonBotSettings,\n  },\n  data() {\n    return {\n      settings: settings,\n      brandId: Bot._brandId,\n    };\n  },\n};\n</script>\n","import { render } from \"./OpenAIAPIBotSettings.vue?vue&type=template&id=db07b68e\"\nimport script from \"./OpenAIAPIBotSettings.vue?vue&type=script&lang=js\"\nexport * from \"./OpenAIAPIBotSettings.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <login-setting :bot=\"bot\"></login-setting>\n</template>\n\n<script>\nimport Bot from \"@/bots/OpenAssistantBot\";\nimport LoginSetting from \"@/components/BotSettings/LoginSetting.vue\";\n\nexport default {\n  components: {\n    LoginSetting,\n  },\n  data() {\n    return {\n      bot: Bot.getInstance(),\n    };\n  },\n};\n</script>\n","import { render } from \"./OpenAssistantBotSettings.vue?vue&type=template&id=8f4ba222\"\nimport script from \"./OpenAssistantBotSettings.vue?vue&type=script&lang=js\"\nexport * from \"./OpenAssistantBotSettings.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <CommonBotSettings\n    :settings=\"settings\"\n    :brand-id=\"brandId\"\n    mutation-type=\"setPhind\"\n  ></CommonBotSettings>\n</template>\n\n<script>\nimport Bot from \"@/bots/PhindBot\";\nimport CommonBotSettings from \"@/components/BotSettings/CommonBotSettings.vue\";\nimport { Type } from \"./settings.const\";\n\nconst settings = [\n  {\n    type: Type.Select,\n    name: \"model\",\n    title: \"Model\",\n    items: [\"Phind Model\", \"GPT-3.5-Turbo\", \"GPT-4\"],\n  },\n];\nexport default {\n  components: {\n    CommonBotSettings,\n  },\n  data() {\n    return {\n      settings: settings,\n      brandId: Bot._brandId,\n    };\n  },\n};\n</script>\n","import { render } from \"./PhindBotSettings.vue?vue&type=template&id=f7d51668\"\nimport script from \"./PhindBotSettings.vue?vue&type=script&lang=js\"\nexport * from \"./PhindBotSettings.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <login-setting :bot=\"bot\"></login-setting>\n</template>\n\n<script>\nimport Bot from \"@/bots/PiBot\";\nimport LoginSetting from \"@/components/BotSettings/LoginSetting.vue\";\n\nexport default {\n  components: {\n    LoginSetting,\n  },\n  data() {\n    return {\n      bot: Bot.getInstance(),\n    };\n  },\n};\n</script>\n","import { render } from \"./PiBotSettings.vue?vue&type=template&id=86a921be\"\nimport script from \"./PiBotSettings.vue?vue&type=script&lang=js\"\nexport * from \"./PiBotSettings.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <login-setting :bot=\"bot\"></login-setting>\n</template>\n\n<script>\nimport Bot from \"@/bots/poe/PoeBot\";\nimport LoginSetting from \"@/components/BotSettings/LoginSetting.vue\";\nimport { mapMutations } from \"vuex\";\nconst { ipcRenderer } = window.require(\"electron\");\n\nexport default {\n  components: {\n    LoginSetting,\n  },\n  data() {\n    return {\n      bot: Bot.getInstance(),\n    };\n  },\n  mounted() {\n    // Listen for the POE-FORMKEY message from background.js\n    ipcRenderer.on(\"POE-FORMKEY\", (event, formkey) => {\n      this.setPoe({ formkey });\n    });\n  },\n  methods: {\n    ...mapMutations([\"setPoe\"]),\n  },\n};\n</script>\n","import { render } from \"./PoeBotSettings.vue?vue&type=template&id=276b8eed\"\nimport script from \"./PoeBotSettings.vue?vue&type=script&lang=js\"\nexport * from \"./PoeBotSettings.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <login-setting :bot=\"bot\"></login-setting>\n</template>\n\n<script>\nconst electron = window.require(\"electron\");\nconst ipcRenderer = electron.ipcRenderer;\nimport { mapMutations } from \"vuex\";\n\nimport Bot from \"@/bots/QianWenBot\";\nimport LoginSetting from \"@/components/BotSettings/LoginSetting.vue\";\n\nexport default {\n  components: {\n    LoginSetting,\n  },\n  data() {\n    return {\n      bot: Bot.getInstance(),\n    };\n  },\n  mounted() {\n    // Listen for the QIANWEN-XSRF-TOKEN message from background.js\n    ipcRenderer.on(\"QIANWEN-XSRF-TOKEN\", (event, token) => {\n      this.setQianWenToken(token);\n    });\n  },\n  methods: {\n    ...mapMutations([\"setQianWenToken\"]),\n  },\n};\n</script>\n","import { render } from \"./QianWenBotSettings.vue?vue&type=template&id=2cea805c\"\nimport script from \"./QianWenBotSettings.vue?vue&type=script&lang=js\"\nexport * from \"./QianWenBotSettings.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <login-setting :bot=\"bot\"></login-setting>\n</template>\n\n<script>\nimport Bot from \"@/bots/Qihoo360AIBrainBot\";\nimport LoginSetting from \"@/components/BotSettings/LoginSetting.vue\";\n\nexport default {\n  components: {\n    LoginSetting,\n  },\n  data() {\n    return {\n      bot: Bot.getInstance(),\n    };\n  },\n};\n</script>\n","import { render } from \"./Qihoo360AIBrainBotSettings.vue?vue&type=template&id=ea46f0e2\"\nimport script from \"./Qihoo360AIBrainBotSettings.vue?vue&type=script&lang=js\"\nexport * from \"./Qihoo360AIBrainBotSettings.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <login-setting :bot=\"bot\"></login-setting>\n</template>\n\n<script>\nconst electron = window.require(\"electron\");\nconst ipcRenderer = electron.ipcRenderer;\nimport { mapMutations } from \"vuex\";\n\nimport Bot from \"@/bots/SkyWorkBot\";\nimport LoginSetting from \"@/components/BotSettings/LoginSetting.vue\";\n\nexport default {\n  components: {\n    LoginSetting,\n  },\n  data() {\n    return {\n      bot: Bot.getInstance(),\n    };\n  },\n  mounted() {\n    // Listen for the SKYWORK-TOKENS message from background.js\n    ipcRenderer.on(\"SKYWORK-TOKENS\", (event, tokens) => {\n      this.setSkyWork(tokens);\n    });\n  },\n  methods: {\n    ...mapMutations([\"setSkyWork\"]),\n  },\n};\n</script>\n","import { render } from \"./SkyWorkBotSettings.vue?vue&type=template&id=4b36ea04\"\nimport script from \"./SkyWorkBotSettings.vue?vue&type=script&lang=js\"\nexport * from \"./SkyWorkBotSettings.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <login-setting :bot=\"bot\"></login-setting>\n</template>\n\n<script>\nimport Bot from \"@/bots/SparkBot\";\nimport LoginSetting from \"@/components/BotSettings/LoginSetting.vue\";\n\nexport default {\n  components: {\n    LoginSetting,\n  },\n  data() {\n    return {\n      bot: Bot.getInstance(),\n    };\n  },\n};\n</script>\n","import { render } from \"./SparkBotSettings.vue?vue&type=template&id=b70fc162\"\nimport script from \"./SparkBotSettings.vue?vue&type=script&lang=js\"\nexport * from \"./SparkBotSettings.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <CommonBotSettings\n    :settings=\"settings\"\n    :brand-id=\"brandId\"\n    mutation-type=\"setWenxinQianfan\"\n  ></CommonBotSettings>\n</template>\n\n<script>\nimport Bot from \"@/bots/baidu/WenxinQianfanBot\";\nimport CommonBotSettings from \"@/components/BotSettings/CommonBotSettings.vue\";\nimport i18n from \"@/i18n\";\nimport { Type } from \"./settings.const\";\n\nconst settings = [\n  {\n    type: Type.Text,\n    name: \"apiKey\",\n    title: \"API Key & Secret Key\",\n    description: i18n.global.t(\"settings.secretPrompt\"),\n    label: \"API Key\",\n    placeholder: \"2125NA8mQy7gC52Pq9BK3tvk\",\n    hideDetails: true,\n  },\n  {\n    type: Type.Text,\n    name: \"secretKey\",\n    label: \"Secret Key\",\n    placeholder: \"IWf2pyYm26fz8GgNAHdkPkznHgazlffQ\",\n  },\n  {\n    type: Type.Slider,\n    name: \"pastRounds\",\n    title: i18n.global.t(\"bot.pastRounds\"),\n    description: i18n.global.t(\"bot.pastRoundsPrompt\"),\n    min: 0,\n    max: 10,\n    step: 1,\n  },\n];\nexport default {\n  components: {\n    CommonBotSettings,\n  },\n  data() {\n    return {\n      settings: settings,\n      brandId: Bot._brandId,\n    };\n  },\n};\n</script>\n","import { render } from \"./WenxinQianfanBotSettings.vue?vue&type=template&id=f5a417aa\"\nimport script from \"./WenxinQianfanBotSettings.vue?vue&type=script&lang=js\"\nexport * from \"./WenxinQianfanBotSettings.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <login-setting :bot=\"bot\"></login-setting>\n</template>\n\n<script>\nimport Bot from \"@/bots/YouChatBot\";\nimport LoginSetting from \"@/components/BotSettings/LoginSetting.vue\";\n\nexport default {\n  components: {\n    LoginSetting,\n  },\n  data() {\n    return {\n      bot: Bot.getInstance(),\n    };\n  },\n};\n</script>\n","import { render } from \"./YouChatBotSettings.vue?vue&type=template&id=2bc36362\"\nimport script from \"./YouChatBotSettings.vue?vue&type=script&lang=js\"\nexport * from \"./YouChatBotSettings.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","var map = {\n\t\"./column-1.svg\": 28079,\n\t\"./column-2.svg\": 98988,\n\t\"./column-3.svg\": 24764\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 22142;","var map = {\n\t\"./AzureOpenAIAPIBotSettings\": 77308,\n\t\"./AzureOpenAIAPIBotSettings.vue\": 77308,\n\t\"./BardBotSettings\": 55538,\n\t\"./BardBotSettings.vue\": 55538,\n\t\"./BingChatBotSettings\": 10402,\n\t\"./BingChatBotSettings.vue\": 10402,\n\t\"./CharacterAIBotSettings\": 28778,\n\t\"./CharacterAIBotSettings.vue\": 28778,\n\t\"./ChatGLMBotSettings\": 69594,\n\t\"./ChatGLMBotSettings.vue\": 69594,\n\t\"./ChatGPTBotSettings\": 39762,\n\t\"./ChatGPTBotSettings.vue\": 39762,\n\t\"./ClaudeAIBotSettings\": 94647,\n\t\"./ClaudeAIBotSettings.vue\": 94647,\n\t\"./CommonBotSettings\": 23610,\n\t\"./CommonBotSettings.vue\": 23610,\n\t\"./Falcon180bBotSettings\": 36753,\n\t\"./Falcon180bBotSettings.vue\": 36753,\n\t\"./GradioAppBotSettings\": 99609,\n\t\"./GradioAppBotSettings.vue\": 99609,\n\t\"./HuggingChatBotSettings\": 44531,\n\t\"./HuggingChatBotSettings.vue\": 44531,\n\t\"./LMSYSBotSettings\": 78797,\n\t\"./LMSYSBotSettings.vue\": 78797,\n\t\"./LoginSetting\": 35562,\n\t\"./LoginSetting.vue\": 35562,\n\t\"./MOSSBotSettings\": 54899,\n\t\"./MOSSBotSettings.vue\": 54899,\n\t\"./OpenAIAPIBotSettings\": 93407,\n\t\"./OpenAIAPIBotSettings.vue\": 93407,\n\t\"./OpenAssistantBotSettings\": 38570,\n\t\"./OpenAssistantBotSettings.vue\": 38570,\n\t\"./PhindBotSettings\": 24317,\n\t\"./PhindBotSettings.vue\": 24317,\n\t\"./PiBotSettings\": 25947,\n\t\"./PiBotSettings.vue\": 25947,\n\t\"./PoeBotSettings\": 41084,\n\t\"./PoeBotSettings.vue\": 41084,\n\t\"./QianWenBotSettings\": 44575,\n\t\"./QianWenBotSettings.vue\": 44575,\n\t\"./Qihoo360AIBrainBotSettings\": 74467,\n\t\"./Qihoo360AIBrainBotSettings.vue\": 74467,\n\t\"./SkyWorkBotSettings\": 31927,\n\t\"./SkyWorkBotSettings.vue\": 31927,\n\t\"./SparkBotSettings\": 61043,\n\t\"./SparkBotSettings.vue\": 61043,\n\t\"./WenxinQianfanBotSettings\": 98333,\n\t\"./WenxinQianfanBotSettings.vue\": 98333,\n\t\"./YouChatBotSettings\": 71633,\n\t\"./YouChatBotSettings.vue\": 71633,\n\t\"./settings.const\": 62128,\n\t\"./settings.const.js\": 62128\n};\n\nfunction webpackAsyncContext(req) {\n\treturn Promise.resolve().then(function() {\n\t\tif(!__webpack_require__.o(map, req)) {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t}\n\n\t\tvar id = map[req];\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function() { return Object.keys(map); };\nwebpackAsyncContext.id = 42124;\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./AzureOpenAIAPIBotSettings.vue\": 77308,\n\t\"./BardBotSettings.vue\": 55538,\n\t\"./BingChatBotSettings.vue\": 10402,\n\t\"./CharacterAIBotSettings.vue\": 28778,\n\t\"./ChatGLMBotSettings.vue\": 69594,\n\t\"./ChatGPTBotSettings.vue\": 39762,\n\t\"./ClaudeAIBotSettings.vue\": 94647,\n\t\"./CommonBotSettings.vue\": 23610,\n\t\"./Falcon180bBotSettings.vue\": 36753,\n\t\"./GradioAppBotSettings.vue\": 99609,\n\t\"./HuggingChatBotSettings.vue\": 44531,\n\t\"./LMSYSBotSettings.vue\": 78797,\n\t\"./LoginSetting.vue\": 35562,\n\t\"./MOSSBotSettings.vue\": 54899,\n\t\"./OpenAIAPIBotSettings.vue\": 93407,\n\t\"./OpenAssistantBotSettings.vue\": 38570,\n\t\"./PhindBotSettings.vue\": 24317,\n\t\"./PiBotSettings.vue\": 25947,\n\t\"./PoeBotSettings.vue\": 41084,\n\t\"./QianWenBotSettings.vue\": 44575,\n\t\"./Qihoo360AIBrainBotSettings.vue\": 74467,\n\t\"./SkyWorkBotSettings.vue\": 31927,\n\t\"./SparkBotSettings.vue\": 61043,\n\t\"./WenxinQianfanBotSettings.vue\": 98333,\n\t\"./YouChatBotSettings.vue\": 71633\n};\n\nfunction webpackAsyncContext(req) {\n\treturn Promise.resolve().then(function() {\n\t\tif(!__webpack_require__.o(map, req)) {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t}\n\n\t\tvar id = map[req];\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function() { return Object.keys(map); };\nwebpackAsyncContext.id = 66912;\nmodule.exports = webpackAsyncContext;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var webpackQueues = typeof Symbol === \"function\" ? Symbol(\"webpack queues\") : \"__webpack_queues__\";\nvar webpackExports = typeof Symbol === \"function\" ? Symbol(\"webpack exports\") : \"__webpack_exports__\";\nvar webpackError = typeof Symbol === \"function\" ? Symbol(\"webpack error\") : \"__webpack_error__\";\nvar resolveQueue = function(queue) {\n\tif(queue && queue.d < 1) {\n\t\tqueue.d = 1;\n\t\tqueue.forEach(function(fn) { fn.r--; });\n\t\tqueue.forEach(function(fn) { fn.r-- ? fn.r++ : fn(); });\n\t}\n}\nvar wrapDeps = function(deps) { return deps.map(function(dep) {\n\tif(dep !== null && typeof dep === \"object\") {\n\t\tif(dep[webpackQueues]) return dep;\n\t\tif(dep.then) {\n\t\t\tvar queue = [];\n\t\t\tqueue.d = 0;\n\t\t\tdep.then(function(r) {\n\t\t\t\tobj[webpackExports] = r;\n\t\t\t\tresolveQueue(queue);\n\t\t\t}, function(e) {\n\t\t\t\tobj[webpackError] = e;\n\t\t\t\tresolveQueue(queue);\n\t\t\t});\n\t\t\tvar obj = {};\n\t\t\tobj[webpackQueues] = function(fn) { fn(queue); };\n\t\t\treturn obj;\n\t\t}\n\t}\n\tvar ret = {};\n\tret[webpackQueues] = function() {};\n\tret[webpackExports] = dep;\n\treturn ret;\n}); };\n__webpack_require__.a = function(module, body, hasAwait) {\n\tvar queue;\n\thasAwait && ((queue = []).d = -1);\n\tvar depQueues = new Set();\n\tvar exports = module.exports;\n\tvar currentDeps;\n\tvar outerResolve;\n\tvar reject;\n\tvar promise = new Promise(function(resolve, rej) {\n\t\treject = rej;\n\t\touterResolve = resolve;\n\t});\n\tpromise[webpackExports] = exports;\n\tpromise[webpackQueues] = function(fn) { queue && fn(queue), depQueues.forEach(fn), promise[\"catch\"](function() {}); };\n\tmodule.exports = promise;\n\tbody(function(deps) {\n\t\tcurrentDeps = wrapDeps(deps);\n\t\tvar fn;\n\t\tvar getResult = function() { return currentDeps.map(function(d) {\n\t\t\tif(d[webpackError]) throw d[webpackError];\n\t\t\treturn d[webpackExports];\n\t\t}); }\n\t\tvar promise = new Promise(function(resolve) {\n\t\t\tfn = function() { resolve(getResult); };\n\t\t\tfn.r = 0;\n\t\t\tvar fnQueue = function(q) { q !== queue && !depQueues.has(q) && (depQueues.add(q), q && !q.d && (fn.r++, q.push(fn))); };\n\t\t\tcurrentDeps.map(function(dep) { dep[webpackQueues](fnQueue); });\n\t\t});\n\t\treturn fn.r ? promise : getResult();\n\t}, function(err) { (err ? reject(promise[webpackError] = err) : outerResolve(exports)), resolveQueue(queue); });\n\tqueue && queue.d < 0 && (queue.d = 0);\n};","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"js/\" + chunkId + \".\" + {\"90\":\"7869bf0b\",\"277\":\"6c1425ad\",\"599\":\"8a875106\",\"857\":\"3da6c3e6\"}[chunkId] + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","var inProgress = {};\nvar dataWebpackPrefix = \"chatall:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkchatall\"] = self[\"webpackChunkchatall\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(50866); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["parseResponse","resp","data","JSON","parse","split","Error","ids","text","images","forEach","image","url","alt","link","placeholder","replace","BardBot","Bot","constructor","super","_checkAvailability","context","this","getChatContext","available","requestParams","atValue","_sendPrompt","prompt","onUpdateResponse","callbackParam","Promise","resolve","reject","contextIds","axios","post","URLSearchParams","at","stringify","params","bl","blValue","_reqid","Math","floor","random","rt","then","content","done","catch","error","createChatContext","get","match","_defineProperty","AsyncLock","getInstance","getLogo","_logoFilename","isDarkLogo","_isDarkLogo","getBrandName","c","i18n","global","t","_brandId","getModelName","model","_model","getFullname","prefix","isDisabled","getLoginUrl","_loginUrl","getUserAgent","_userAgent","getOutputFormat","_outputFormat","getClassname","_className","getSettingsComponent","component","_settingsComponent","currentClass","parentClass","Object","getPrototypeOf","componentName","default","isAvailable","_isAvailable","disabled","confirmBeforeUsing","confirmModal","acquireLock","key","lockedFn","onLockUnavailable","self","_lock","acquire","async","ret","err","timeout","sendPrompt","botName","executeSendPrompt","message","console","LoginError","getLoginHyperlink","wrapCollapsedSection","checkAvailability","disable","createIfNotExists","store","getters","currentChat","contexts","setChatContext","commit","botClassname","toString","getSSEDisplayError","event","source","xhr","getResponseHeader","status","response","name","CharacterAIBot","getAuthHeaders","headers","Authorization","state","characterAI","token","Date","getTime","ttl","userInfoResponse","user","username","Accept","payload","history_external_id","character_external_id","_characterId","tgt","onDownloadProgress","progressEvent","onResponseDownloadProgress","responses","currentTarget","filter","n","lastResponse","length","Array","isArray","replies","is_final_chunk","chatContinueResponse","characterInfoResponse","external_id","character","participant__user__username","ChatGLMBot","getAuthHeader","chatGlm","userInfoUrl","user_id","result","_id","undefined","uuid","uuidv4","streamContext","seed","max_tokens","conversation_task_id","retry","retry_history_task_id","institution","__userid","context_id","SSE","addEventListener","stream","task_id","ClaudeAIBot","claudeAi","org","currentAcountResponse","success","accept","attachments","completion","incremental","conversation_uuid","organization_uuid","withCredentials","readyState","CLOSED","createResponse","LangChainBot","messages","bufferMemory","BufferMemory","getPastRounds","shift","item","storedMessage","type","toLowerCase","humanPrefix","chatHistory","addUserMessage","aiPrefix","addAIChatMessage","addMessage","res","_chatModel","getMessages","callbacks","handleLLMNewToken","handleLLMEnd","call","map","toDict","MOSSBot","moss","refresh","id","chat_id","wsp","WebSocketAsPromised","packMessage","unpackMessage","onOpen","addListener","sendPacked","request","beginning","body","ending","onUnpackedMessage","links","processed_extra_data","hasOwnProperty","title","removeAllListeners","close","output","stage","status_code","onError","target","open","OpenAssistantBot","i","prompterResponse","parent_id","assistantResponse","model_config_name","plugins","sampling_parameters","top_k","top_p","typical_p","temperature","repetition_penalty","max_new_tokens","message_id","queryString","event_type","ipcRenderer","window","require","PhindBot","rewrite","questionToRewrite","questionHistory","answerHistory","search","q","query","browserLanguage","userSearchRules","date","formatDate","getFormattedDate","question","webResults","options","language","detailed","anonUserId","getUUID","answerModel","phind","customLinks","start","isSuccess","startsWith","hostname","URL","replaceAll","_onStreamProgress","e","CONNECTING","dispatchEvent","CustomEvent","_setReadyState","OPEN","responseText","substring","progress","parts","chunk","lastPart","pop","part","_parseEventChunk","_onStreamFailure","year","getFullYear","month","getMonth","padStart","day","getDate","cookies","invoke","domain","uuidCookie","find","cookie","value","PiBot","generateRandomId","randomStr","QianWenBot","getRequestHeaders","qianWen","xsrfToken","action","msgId","parentMsgId","parentMessageId","contents","contentType","openSearch","sessionId","failed","errorCode","errorMsg","stopReason","firstQuery","userId","Qihoo360AIBrainBot","is_regenerate","is_so","role","source_type","parentConversationId","SkyWorkBot","skyWork","inviteToken","code","resp_data","busy_now","invite_token","currentPrompt","messageId","currentMessageId","session_id","result_message","code_msg","setTimeout","dialogue","SparkBot","flag","desc","getGtToken","initGeeGuard","appId","https","gee_token","chatId","GtToken","formData","FormData","append","String","slice","partialText","descr","Buffer","from","YouChatBot","queryTraceId","chat","youChatToken","answer","WenxinQianfanBot","apiKey","secretKey","wenxinQianfan","chatModel","ChatBaiduWenxin","modelName","baiduApiKey","baiduSecretKey","streaming","pastRounds","Falcon180bBot","GradioBot","sendPredict","fn_index","session_hash","_predictUrl","event_data","all","makeData","r","_fnIndexes","falcon","maxNewTokens","topP","repetitionPenalty","parseData","parseError","_class","GradioAppBot","gradio","fnIndex","config","path","root","log","_sendFnIndex","protocol","msg","rank","rank_eta","onClose","HuggingChatBot","packRequest","inputs","is_retry","response_id","web_search","conversationId","fetch","method","ok","errorData","json","reader","getReader","processStream","read","dataChunk","TextDecoder","decode","jsonDataArray","Boolean","jsonData","LMSYSBot","includes","AzureOpenAIAPIBot","azureOpenaiApi","azureApiKey","azureApiInstanceName","azureOpenAIApiDeploymentName","azureOpenAIApiVersion","ChatOpenAI","azureOpenAIApiKey","azureOpenAIApiInstanceName","BingChatBot","conversation","clientId","conversationSignature","secAccessToken","invocationId","isAnonymous","makePromptRequest","arguments","optionsSets","_optionsSets","allowedMessageTypes","sliceIds","verbosity","scenario","isStartOfSession","requestId","timestamp","toISOString","author","inputMethod","messageType","tone","_tone","participant","spokenTextMode","seperator","fromCharCode","encodeURIComponent","version","events","attributes","format","throttling","maxNumUserMessagesInConversation","numUserMessagesInConversation","adaptiveCards","moreLinks","warn","REFRESH_SESSION_URL","ChatGPTBot","setRefreshCycle","chatgpt","refreshCycle","accessToken","loadArkoseScript","toggleSessionRefreshing","refreshSession","cycle","sr","_sessionRefreshing","interval","shouldRefresh","clearInterval","setInterval","bind","_arkoseScriptLoaded","script","document","createElement","src","setAttribute","defer","appendChild","onload","setupEnforcement","onerror","myEnforcement","_myEnforcement","setConfig","onReady","onShown","onShow","onSuppress","onCompleted","_arkosePromise","onReset","onHide","onFailed","getArkoseToken","run","arkose_token","content_type","conversation_id","parent_message_id","history_and_training_disabled","preInfo","regex","trim","test","join","push","citations","metadata","element","detail","parser","DOMParser","doc","parseFromString","querySelector","textContent","explanation","OpenAIAPIBot","openaiApi","configuration","basePath","alterUrl","openAIApiKey","PoeBot","buildId","settings","lastMessageId","gqlPost","queryName","variables","formkey","poe","queryHashs","AnnotateWithIdsProviderQuery","chatHelpers_sendMessageMutation_Mutation","ChatListPaginationQuery","subscriptionsMutation","extensions","hash","tagId","md5","tchannelData","channel","modelHandles","a2","a2_100k","a2_2","capybara","chinchilla","beaver","vizcacha","ctx","subDomain","tchannel","baseHost","boxName","minSeq","channelHash","subscriptions","subscriptionName","queryHash","debug","min_seq","m","message_type","messageAdded","bot","withChatBreak","messageEdgeCreate","errors","Type","Text","Slider","Select","getMatomo","Piwik","getAsyncTracker","useMatomo","matomo","ref","instance","now","timer","onUnmounted","lang","navigator","userLanguage","substr","en","enMessages","zh","zhMessages","de","deMessages","ru","ruMessages","vi","viMessages","it","itMessages","fr","frMessages","ko","koMessages","es","esMessages","ja","jaMessages","createI18n","legacy","locale","fallbackLocale","VMdPreview","vuepressTheme","Prism","use","createLineNumbertPlugin","createCopyCodePlugin","createKatexPlugin","defaultTheme","resolveTheme","mode","applyTheme","vuetify","createVuetify","components","VDataTable","directives","adapter","createVueI18nAdapter","useI18n","theme","themes","light","colors","primary","surface","background","header","font","dark","head","createApp","App","VueShortkey","VueMatomo","host","siteId","trackerFileName","router","enableLinkTracking","requireConsent","trackInitialView","disableCookies","requireCookieConsent","enableHeartBeatTimer","heartBeatTimerInterval","cookieDomain","domains","preInitActions","trackSiteSearch","crossOrigin","mount","messagesPersist","VuexPersist","storage","localStorage","reducer","chats","promptsPersist","prompts","isThrottleMessage","isThrottleThreadMessage","messageBuffer","threadMessageBuffer","vuexPersist","updateCounter","selectedResponses","persistedState","createStore","columns","riskConfirmed","favBots","classname","selected","threads","hide","createdTime","currentChatIndex","isChatDrawerOpen","selectedBots","actions","template","suffix","index","mutations","changeColumns","setUuid","setBotSelected","setFavBotOrder","newOrder","order","addFavoriteBot","removeFavoriteBot","findIndex","splice","setCurrentLanguage","setChatgpt","setOpenaiApi","values","setAzureOpenaiApi","setMoss","setChatGLM","setQianWenToken","setSkyWork","tokens","setWenxinQianfan","setGradio","setCharacterAI","setClaudeAi","setPoe","setPhind","setLatestPromptIndex","promptIndex","latestPromptIndex","setLatestThreadPromptIndex","threadIndex","setResponseThreadIndex","responseIndex","updateMessage","update","indexes","chatIndex","messageIndex","updateThreadMessage","setMessages","incrementUpdateCounter","clearMessages","init","bots","keys","setTheme","setMode","createChat","selectChat","hideChat","editChatTitle","isEditedByUser","isTitleUserEdited","setIsChatDrawerOpen","deleteChats","newChats","addPrompt","editPrompt","deletePrompt","addAction","editAction","deleteAction","addSelectedResponses","selectedIndex","deleteSelectedResponses","deleteAllSelectedResponses","dispatch","promptMessage","highlight","className","trackEvent","sendPromptInThread","thread","newThreadMessage","threadPromptMessage","threadResponseMessage","createChatAndSelect","getCurrentChatPrompt","modules","plugin","SYSTEM","DARK","LIGHT","Theme","Mode","resolvedTheme","nativeTheme","shouldUseDarkColors","vuetifyTheme","is_mac","process","platform","modifier","SHORTCUT_PROMPT_TEXTAREA","elementId","offset","top","alignHorizontallyCenter","SHORTCUT_PROMPT_PRE_NEXT","left","SHORTCUT_FIND","flexDirection","SHORTCUT_CLEAR_MESSAGES","SHORTCUT_SETTINGS","SHORTCUT_SHORTCUT_GUIDE","SHORTCUT_BOTS_MENU","SHORTCUT_CHAT_DRAWER","SHORTCUT_NEW_CHAT","SHORTCUT_PROMPT_MANAGEMENT","SHORTCUT_LIST","dialog","_title","_text","defaultButton","showModal","watch","nextTick","$el","focus","immediate","__expose","__exports__","useStore","unsetCursorWait","isEditMode","isCursorWait","chatTitleEditModel","onSelectChat","props","setCursorWait","emit","style","cursor","confirmHideChat","editChat","confirmEdit","onPressEnter","keyCode","onUpdated","chatsReversed","computed","reverse","onAddNewChat","focusTextarea","selectLatestVisibleChat","isAnyChatVisible","setProperty","onMounted","toRefs","checkIsMessagePromptTypeAndEmptyResponsesIfTrue","pushResponseAndCheckIsNextMessagePromptType","nextIndex","ChatGPT35Bot","ChatGPT4Bot","isPaidSubscriptionActive","account_plan","is_paid_subscription_active","ChatGPTBrowsingBot","BingChatPreciseBot","BingChatBalancedBot","BingChatCreativeBot","SageBot","OpenAIAPI35Bot","OpenAIAPI4Bot","VicunaBot","AlpacaBot","ClaudeBot","DevBot","ChatGPT35PoeBot","ChatGPT4PoeBot","ClaudeInstantPoeBot","ClaudeInstant100kPoeBot","ClaudePlusPoeBot","ChatGPT432kPoeBot","ChatGPT4MobileBot","OpenAIAPI3516KBot","WenxinQianfanTurboBot","Llama2HC70bBot","Llama213bBot","Llama27bBot","Llama270bBot","ChatGLM6bBot","CodeLlamaBot","Vicuna7bBot","Vicuna13bBot","Wizardlm13bBot","Wizardlm70bBot","FalconHC180bBot","CodeLlamaHCBot","getBotByClassName","botTags","free","paid","openSource","api","madeInChina","replyModel","replyRef","pageLeftButton","pageRightButton","maxPage","carouselModel","isSelected","isSelectedList","isSelectedResponsesEmpty","botInstance","botLogo","botFullname","isBotLogoInverted","isHighlighted","isAllDone","some","isLatestPrompt","isLatestPromptForThread","isThread","threadPromptIndex","isShowReplyTextField","isShowReplyButton","messageBotIsSelected","isSomeResponsesHasThread","isShowResendButton","isShowPagingButton","getButtonClass","getSelectButtonClass","filterEnterKey","shiftKey","ctrlKey","altKey","metaKey","preventDefault","sendPromptToBot","rerenderThread","rerenderThreadWhenChatIndexChanged","updateIsSelectedResponsesEmpty","copyToClipboard","clipboard","writeText","toggleHighlight","emits","handleClick","tagName","parentElement","electron","href","shell","openExternal","resendPrompt","responseMessage","favBot","b","toggleReplyButton","select","stopPropagation","contains","indexOf","toRaw","pageLeft","max","pageRight","min","groupedResponses","reduce","a","create","autoScroll","gridTemplateColumns","scrollToBottom","immediately","scrollTo","documentElement","scrollHeight","behavior","autoScrollToBottom","onScroll","scrollPosition","pageYOffset","innerHeight","removeEventListener","proxySettings","userDataPath","snackbar","reactive","show","color","bypassList","botsProxy","newInputfile","bypassSetMode","resetAll","reload","onlySave","oldPacFile","pacFile","reply","onFileChange","file","files","saveAndActive","bypassBotsProxy","newVal","bypassListSet","Set","proxyBypassList","add","prefixPlaceholder","templatePlaceholder","suffixPlaceholder","preview","exampleTemplate","examplePrompt","PromptTemplate","inputVariables","exampleSelector","LengthBasedExampleSelector","fromExamples","maxLength","Number","MAX_VALUE","dynamicPrompt","FewShotPromptTemplate","formRef","isOpenAddEditAction","actionName","previewRef","templateParametersInfo","isShowTemplateParametersDialog","userActions","p","previewSampleData","botResponse","editIndex","isEdit","required","downloadJson","chatallMessages","getItem","d","arr","botModel","blob","Blob","createObjectURL","hour","getHours","minute","getMinutes","second","getSeconds","fileName","download","click","removeChild","revokeObjectURL","confirm","onInputTemplate","edit","addEditAction","validate","valid","$t","useTheme","tab","botSettings","brand","Qihoo360AIBrainBotSettings","AzureOpenAIAPIBotSettings","BardBotSettings","BingChatBotSettings","CharacterAIBotSettings","ChatGPTBotSettings","ChatGLMBotSettings","ClaudeAIBotSettings","Falcon180bBotSettings","GradioAppBotSettings","HuggingChatBotSettings","LMSYSBotSettings","MOSSBotSettings","OpenAIAPIBotSettings","OpenAssistantBotSettings","PhindBotSettings","PiBotSettings","PoeBotSettings","QianWenBotSettings","SkyWorkBotSettings","SparkBotSettings","WenxinQianfanBotSettings","YouChatBotSettings","proxy","ProxySettings","ChatSettings","languages","modes","currentMode","setCurrentMode","closeDialog","newBot","markRaw","onDone","isLogoInverted","menu","favorited","tags","selectedTags","notDisabledBots","shownBots","toggleFavorite","toggleMenu","filterBots","filteredIn","tagBots","tag","every","tagBot","defaultLanguage","isOpenAddEditPrompt","selectedPrompt","requiredRule","width","sortable","userPrompts","sort","x","y","isPin","defaultPrompts","act","pin","row","usePrompt","addEditPrompt","showFullText","parent","closest","children","td","position","getBoundingClientRect","div","innerText","classList","hideFullText","toElement","toRemove","querySelectorAll","remove","setPromptLanguage","onDialogCloseTransitionEnded","promptTextArea","botsMenuRef","favBotLogosRef","isPromptManagementOpen","_bots","activeBots","rerenderFavBotLogos","_favBots","clickedBot","isMakeAvailableOpen","updateActiveBots","confirmed","focusPromptTextarea","toggleBotsMenu","handleShortcut","srcKey","sendPromptToBots","isUpOrDown","historyKeyCode","pre","next","isAuxiliaryKey","newPrompt","getHistoryPrompt","toBots","isFirstPrompt","updateChatTitleWithFirstPrompt","newValue","oldValue","botsToCheck","oldBot","historyPrompts","toggleSelected","availability","initializeSortable","isDropOnFavBotBar","onDragEnd","parentNode","dataset","Sortable","animation","onStart","onEnd","oldIndex","newIndex","toArray","execCommand","onBeforeMount","on","versions","checkVersion","latest","current","compare","skip","removeListener","setItem","openReleasePage","FIND_TEXT_FIELD_ID","MATCH_CASE_VALUE","WRAP_AROUND_VALUE","findTextRef","findTextModel","isShowFindText","matchCaseToggle","isShowMatchCaseTooltip","wrapAroundToggle","isShowWrapAroundTooltip","isMatch","handleFindShortcut","closeFindTextField","showFindTextField","backward","getSelection","focusNode","lastElementChild","shortcutGuideContentRef","getShortcutLabelHTML","kbd","formatModifierText","string","charAt","toUpperCase","addWindowResizeListener","closeShortcutGuide","shortcut","shortcutElement","getElementById","innerHTML","toggleShortcutGuide","openShortcutGuide","previewText","previewTextarea","chatRef","onChangeOpenProp","updatePreview","updateFavBots","send","deselectAllResponses","onUpdatedSystemTheme","findRef","footerBarRef","shortcutGuideRef","isShortcutGuideOpen","isSettingsOpen","chatDrawerRef","isChatActionOpen","openSettingsModal","openFind","getColumnImage","columnCount","deselectAll","callAction","_paq","ver","_createBlock","_component_CommonBotSettings","$data","brandId","description","step","ticks","CommonBotSettings","render","_component_login_setting","LoginSetting","mounted","tokenInfo","methods","mapMutations","_createVNode","_component_v_list_item","_component_v_alert","outlined","_ctx","_component_v_list_item_title","_component_v_list_item_subtitle","_component_v_checkbox","$options","autoRefresh","$event","hideDetails","label","AUTO_REFRESH_CYCLE","mapState","set","auto","settingState","refs","validateSliderInput","setting","input","getInputElement","valuefloat","parseFloat","inputMaxFloat","inputMinFloat","inputElement","example","_createElementVNode","$props","onClick","_cache","args","openLoginWindow","_hoisted_1","loginUrl","userAgent","secret","items","webpackContext","req","webpackContextResolve","__webpack_require__","o","module","exports","webpackAsyncContext","__webpack_module_cache__","moduleId","cachedModule","loaded","__webpack_modules__","webpackQueues","Symbol","webpackExports","webpackError","resolveQueue","queue","fn","wrapDeps","deps","dep","obj","hasAwait","currentDeps","outerResolve","depQueues","promise","rej","getResult","fnQueue","has","deferred","O","chunkIds","priority","notFulfilled","Infinity","fulfilled","j","getter","__esModule","definition","defineProperty","enumerable","f","chunkId","promises","u","miniCssF","g","globalThis","Function","prop","prototype","inProgress","dataWebpackPrefix","l","needAttach","scripts","getElementsByTagName","s","getAttribute","charset","nc","onScriptComplete","prev","clearTimeout","doneFns","toStringTag","nmd","paths","installedChunks","installedChunkData","loadingEnded","errorType","realSrc","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","__webpack_exports__"],"sourceRoot":""}